(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89483],{97156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoggedInApp:()=>ke});var r,o,i=n(27378),a=n(8432),s=n(7467),l=n(21675),c=n(93284),u=n(32365),d=n(49398),p=n(10043);function CancelAndReplaceOptionOrderModal(e){let{onClose:t,optionOrder:n}=e;const i=(0,c.og)(),[a,g]=(0,d.Z)({onCancel:t,optionOrder:n,shouldRedirect:!0,source:u.dG.ActivityItem});return(0,p.tZ)(s.u,{onClose:t,width:"wide"},r||(r=(0,p.tZ)(s.u.Header,null,(0,p.tZ)("div",null,(0,p.tZ)(l.Dy.Text,{element:"h1",size:"L"},(0,p.tZ)(c.DH,{defaultMessage:"Replace Order",id:"CancelAndReplaceOrder.ConfirmationModal.Header",status:"legacy"}))))),o||(o=(0,p.tZ)(l.Dy.Text,{element:"h1",size:"S"},(0,p.tZ)(c.DH,{defaultMessage:"This order will be canceled. Right after, you'll be able to re-submit the order with a different price.",id:"CancelAndReplaceOrder.ConfirmationModal.Text",status:"legacy"}))),(0,p.tZ)(s.u.Footer,{primaryButton:{label:i.formatMessage({defaultMessage:"Continue",id:"CancelAndReplaceOrder.ConfirmationModal.Continue",status:"legacy"}),onClick:g,state:a?"loading":void 0},secondaryButton:{label:i.formatMessage({defaultMessage:"Dismiss",id:"CancelAndReplaceOrder.ConfirmationModal.Cancel",status:"legacy"}),onClick:t}}))}var g=n(39989),m=n(12633),y=n(14403);function ActivityItemModalPlacement(){const[{optionOrderDetailModalId:e},t]=(0,y.$)(),n=(0,m.tT)({disabled:!e,model:g.VZ,params:{id:e}}).result;return n?(0,p.tZ)(CancelAndReplaceOptionOrderModal,{onClose:()=>{t({optionOrderDetailModalId:void 0})},optionOrder:n}):null}var f=n(64281),v=n(28041),h=n(70446),_=n(14184),b=n(13281),C=n(16133),O=n(65936),S=n(17373),E=n(5506),P=n(50232),Z=n(18817),D=n(10959),T=n(49569),w=n(95646),I=n(62951);var k=n(67579),x=n(78093);var R=n(64900),M=n(38978);const L=[{key:"/",label:"Search"},{key:"H",label:"Home"},{key:"F1",label:"Shortcuts Menu"}],A=[{key:"A",label:"Advanced Charts"},{key:"O",label:"Options Chain (Stocks only)"},{key:"B",label:"Buy"},{key:"S",label:"Sell"}],F={sectionTitle:(0,R.css)({name:"pr10xp",styles:"margin-bottom:10px"}),shortcutList:(0,R.css)({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),shortcutRow:e=>(0,R.css)([{"&:last-child":{padding:"12px 0 0 0"},display:"flex",justifyContent:"space-between",padding:"12px 0"},e&&{borderTop:"1px solid ".concat(M.ZV.neutral.bg3)}],""),shortcutSection:(0,R.css)({name:"1fttcpj",styles:"display:flex;flex-direction:column"})};function ShortcutDetailsSection(e){let{dividers:t=!1,overrideRootStyles:n,shortcuts:r,title:o}=e;return(0,p.tZ)("div",{className:(0,R.cx)([(0,R.css)(n,"")])},(0,p.tZ)(l.Dy.Text,{isBold:!0,overrideRootStyles:F.sectionTitle,size:"M"},o),(0,p.tZ)("div",{className:F.shortcutList},r.map((e=>(0,p.tZ)("div",{key:e.label,className:F.shortcutRow(t)},(0,p.tZ)(l.Dy.Text,{size:"S"},e.label),(0,p.tZ)(l.Dy.Text,{size:"S"},e.key))))))}var N;const B={description:{name:"5bhc30",styles:"margin-bottom:8px"},footer:{name:"1ku8ny8",styles:"margin-top:36px"}};function ShortcutsModal(){const{isModalOpen:e,setIsModalOpen:t}=(0,x.W)();return e?(0,p.tZ)(s.u,{onClose:()=>t(!1),width:"standard"},N||(N=(0,p.tZ)(s.u.Header,{title:"Introducing Shortcuts"})),(0,p.tZ)(l.Dy.Text,{overrideRootStyles:B.description,size:"S"},"Actions just became a lot easier. Shortcuts are now available to make your trading experience faster."),(0,p.tZ)(ShortcutDetailsSection,{overrideRootStyles:{marginTop:24},shortcuts:L,title:"General"}),(0,p.tZ)(ShortcutDetailsSection,{overrideRootStyles:{marginTop:36},shortcuts:A,title:"Stocks / Crypto"}),(0,p.tZ)("div",{css:B.footer},(0,p.tZ)(s.u.Footer,{primaryButton:{label:"Got it",onClick:()=>t(!1)}}))):null}var j=n(23104),H=n(24498),U=n(74900),z=n(62865);function UserLeapFundedStatus(){const e=(0,j.useSelector)(U.n),t=null==e?void 0:e.id,n=(0,H.Ji)();return i.useEffect((()=>{t&&(0,z.HU)("setUserId",t)}),[t]),i.useEffect((()=>{if(n.result){const e=Number(n.result)>0;(0,z.HU)("setAttribute","funded",e)}}),[n.result]),null}var W=n(64649),q=n(51603),Y=n(6336),V=n(51259),G=n(79881),K=n.n(G);let Q;function LoadingBarComponent(e){let{className:t,state:n}=e;const r=(0,R.cx)(t,K().loadingBar,K()[n]);return(0,p.tZ)("div",{"aria-label":"Loading",className:r},(0,p.tZ)("div",{className:K().block}))}var X,J;!function(e){e.Finishing="finishing",e.Loading="loading",e.Unstarted="unstarted"}(Q||(Q={}));class LoadingBarContainer extends i.Component{constructor(){super(...arguments),(0,W.Z)(this,"state",{loadingBarState:Q.Unstarted}),(0,W.Z)(this,"finishingTimeout",null)}static getDerivedStateFromProps(e,t){return e.loading&&t.loadingBarState!==Q.Loading?{loadingBarState:Q.Loading}:e.loading||t.loadingBarState!==Q.Loading?null:{loadingBarState:Q.Finishing}}componentDidUpdate(e,t){if(t.loadingBarState===this.state.loadingBarState)return;t.loadingBarState!==Q.Finishing&&this.state.loadingBarState===Q.Finishing?this.finishingTimeout=setTimeout((()=>{this.setState({loadingBarState:Q.Unstarted}),this.finishingTimeout=null}),500):this.finishingTimeout&&(clearTimeout(this.finishingTimeout),this.finishingTimeout=null)}render(){return(0,p.tZ)(LoadingBarComponent,{state:this.state.loadingBarState})}}function LoadingBar_LoadingBar(){return(0,Y.IL)()?null:(0,q.jU)()?X||(X=(0,p.tZ)(V.TF,null,(0,p.tZ)(LoadingBarContainer,null))):J||(J=(0,p.tZ)(LoadingBarContainer,null))}var $=n(68891),ee=n(74043);var te=n(97930),ne=n(58798),re=n(84760);function useGetDeeplinkComponent(e){const t=(0,ee.lO)(e),n=te.s.find((e=>e.action===t)),r=function getQueryParamsFromDeeplink(e){const t=re.parse(e),n=(0,$.parse)(t.query||"",{parseBooleans:!0});return n.url&&t.hash&&(n.url+=t.hash),n}(e);if((0,i.useEffect)((()=>{n?"isValidQueryParams"in n&&!n.isValidQueryParams(r)&&(0,ne.Ah)("invalid-deeplink",{data:{action:t,deeplink:e}}):(0,ne.Ah)("unregistered-deeplink",{data:{action:t,deeplink:e}})}),[t,e,n,r]),!n)return null;const o=n.component;if(!("isValidQueryParams"in n)){const e="queryParamsToProps"in n?n.queryParamsToProps():{};return(0,p.tZ)(o,e)}if(!n.isValidQueryParams(r))return null;const a="queryParamsToProps"in n?n.queryParamsToProps(r):r;return(0,p.tZ)(o,a)}function LoggedInDeeplinkRouter(e){let{deeplink:t}=e;return useGetDeeplinkComponent(t)||null}function LoggedInApplinkRouter(){const e=function useGetDeeplink(){const{search:e}=(0,D.TH)(),{applink:t}=(0,$.parse)(e,{decode:!1});return t?(0,ee.Az)(t):null}();return e?(0,p.tZ)(LoggedInDeeplinkRouter,{deeplink:e}):null}var oe=n(29630),ie=n(39e3),ae=n.n(ie),se=n(78501),le=n(5266),ce=n(81319),ue=n.n(ce);const de=(()=>{const e=n(27378),t=e.lazy((()=>n.e(70097).then(n.t.bind(n,21711,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})();function Takeover_Takeover(){const e=(0,j.useSelector)(le.Hq),t=(0,R.cx)(ue().takeover,{[ue().visible]:!e.isEmpty()}),n=(0,j.useDispatch)(),r=(0,i.useCallback)((()=>{n((0,le.be)())}),[n]),o=(0,i.useCallback)((e=>{"esc"===ae()(e.keyCode)&&r()}),[r]);return(0,i.useEffect)((()=>((0,q.oW)().addEventListener("keyup",o),()=>{(0,q.oW)().removeEventListener("keyup",o)})),[o]),(0,p.tZ)("div",{className:t},!e.isEmpty()&&e.map(((t,n)=>{let{component:r,id:o,props:i}=t;const a=n===e.count()-1;return(0,p.tZ)("div",{key:o,className:(0,R.cx)(ue().content,{[ue().visible]:a})},(0,p.tZ)(se._,null,(0,p.tZ)(r,i)))})),(0,p.tZ)("div",{className:ue().closeWrapper},(0,p.tZ)("div",{className:ue().close,onClick:r},(0,p.tZ)(de,{className:ue().closeIcon}))))}var pe,ge,me,ye,fe,ve,he,_e,be,Ce,Oe,Se,Ee,Pe,Ze=n(53692),De=n(22512),Te=n(63783);const we=i.lazy((()=>n.e(52810).then(n.bind(n,52810)).then((e=>({default:e.ShowLatestUpgradeModalIfNecessary})))));var Ie={name:"wmjet3",styles:"display:flex;flex-direction:column;justify-content:space-between;min-height:100vh;position:relative"};function _LoggedInApp(e){let{isLoggedIn:t,setCSPScope:n}=e;const r=(0,Z.a)("account_number")||localStorage.getItem(v.w)||void 0;return function useGlobalOpenShortcutModalShortcut(){const{setIsModalOpen:e}=(0,x.W)(),t=(0,i.useMemo)((()=>({global:!0,handler:()=>e((e=>!e)),key:"F1",protoLoggingInfo:{action:k.t$.event_logging.UserInteractionEventData.Action.OPEN_SHORTCUTS_MODAL}})),[e]);(0,I.b)(w.N.GLOBAL.OPEN_SHORTCUT_MODAL,t)}(),function useGlobalGoHomeShortcut(){const e=(0,D.k6)(),t=(0,i.useCallback)((()=>{e.push("/")}),[e]),n=(0,i.useMemo)((()=>({description:"Home",global:!0,handler:t,key:"h",protoLoggingInfo:{action:T.t.event_logging.UserInteractionEventData.Action.VIEW_HOME}})),[t]);(0,I.b)(w.N.GLOBAL.GO_HOME,n)}(),(0,p.tZ)("main",{className:"app"},pe||(pe=(0,p.tZ)(a.ZP,null,(0,p.tZ)("title",null,"Home"))),ge||(ge=(0,p.tZ)(LoadingBar_LoadingBar,null)),t&&(me||(me=(0,p.tZ)(P.W,null))),ye||(ye=(0,p.tZ)(oe.C,null)),t&&(fe||(fe=(0,p.tZ)(UserLeapFundedStatus,null))),(0,p.tZ)(Te.Sq,{name:"navigation-header"},(0,p.tZ)(y.y,null,ve||(ve=(0,p.tZ)(ActivityItemModalPlacement,null)),(0,p.tZ)(_.ce,null,(0,p.tZ)(E.Fh,{isLoggedIn:t},(0,p.tZ)(h.B,{accountNumber:r},(0,p.tZ)(Ze.m,null,(0,p.tZ)(f.Ds,{isLoggedIn:t},(0,p.tZ)("div",{css:Ie},he||(he=(0,p.tZ)(f.Bl,null)),(0,p.tZ)(se._,{fallback:_e||(_e=(0,p.tZ)(C.v,null))},(0,p.tZ)(De.L,{isLoggedIn:t,setCSPScope:n})))))))))),be||(be=(0,p.tZ)(Te.D$,{name:O.p})),Ce||(Ce=(0,p.tZ)(ShortcutsModal,null)),Oe||(Oe=(0,p.tZ)(Takeover_Takeover,null)),Se||(Se=(0,p.tZ)(S.$,null)),Ee||(Ee=(0,p.tZ)(LoggedInApplinkRouter,null)),Pe||(Pe=(0,p.tZ)(b.p,{component:we,fallback:null})))}const ke=(0,i.memo)(_LoggedInApp)},58959:(e,t,n)=>{"use strict";n(27378),n(31063),n(33802),n(15803),n(88184)},64533:(e,t,n)=>{"use strict";n.d(t,{YR:()=>MegaphoneBody,J9:()=>NotificationActionLink,nb:()=>ThemedMegaphoneBody});var r=n(10043),o=(n(27378),n(21675)),i=n(75790),a=n(97224),s=n(38978),l=n(25773),c=n(47789),u=n(6018);function GoldText(e){const t=(0,u.V)();return(0,r.tZ)(o.Dy.Text,(0,l.Z)({},e,{color:t?c.h2.Jet:c.h2.SolLight}))}var d=n(50169);function isGoldTheme(e){return"gold_hook_sweep_splash"===e}var p,g=n(35002),m=n(51243),y=n(11397),f=n(15238);const v={closeButton:(0,r.iv)({alignSelf:"start",display:"inline-flex",position:"absolute",right:2*d.q3,top:2*d.q3},"")};function CardDismissButton(e){let{isScary:t,onClick:n,protoLoggingInfo:o}=e;return t?(0,r.tZ)(y.k,{"data-testid":f.c.MegaphoneDismissButton,onClick:n,overrideRootStyles:v.closeButton,protoLoggingInfo:o},(0,r.tZ)(g.sg,{color:s.Wt.Bg1,type:"Close16"})):(0,r.tZ)(m.tL,null,(e=>{let{hoverableClassName:t}=e;return(0,r.tZ)(y.k,{className:t,"data-testid":f.c.MegaphoneDismissButton,onClick:n,overrideRootStyles:v.closeButton},p||(p=(0,r.tZ)(g.sg,{type:"Close16"})))}))}var h={name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"},_={name:"1jasg0b",styles:"flex-grow:1;overflow-y:auto"};function MegaphoneBody(e){let{actionLink:t,className:n,dismissButtonLoggingInfo:l,icon:p,image:g,isScary:m=!1,isUrgent:y=!1,onClose:f,overrideImageStyles:v,subtitle:b,title:C,type:O}=e;const S=function useGoldBgTheme(e){const t=(0,u.V)(),n=(0,a.VD)(c.h2.SolLight);return isGoldTheme(e)&&t?{backgroundColor:n}:{}}(O),E=isGoldTheme(O)?GoldText:o.Dy.Text;return(0,r.tZ)(i.Z,{className:n,css:[{display:"flex",margin:"".concat(d.q3,"px 0"),paddingRight:2*d.bT,position:"relative"},y&&!m&&{borderColor:(0,a.fc)().scary.base},S,""],type:"secondary"},void 0===p&&(null==g?void 0:g.src)&&(0,r.tZ)("img",{css:["height:100%;",v,""],src:g.src,srcSet:null==g?void 0:g.srcSet}),(0,r.tZ)("div",{css:(0,r.iv)({display:"flex",flexDirection:"row",padding:d.bT},"")},void 0!==p&&(0,r.tZ)("div",{css:(0,r.iv)({alignItems:"center",display:"flex",flexShrink:0,"img, svg":{maxHeight:"100%",maxWidth:"100%"},justifyContent:"center",margin:"0 ".concat(2*d.q3,"px 0 ").concat(d.q3/2,"px"),maxHeight:150},"")},p),(0,r.tZ)("div",{css:h},(0,r.tZ)(E,{color:s.Wt.Fg2,element:"h4",isBold:!0,overrideRootStyles:{marginBottom:d.hc},size:"S"},C),(0,r.tZ)("div",{css:_},(0,r.tZ)(o.Dy.Text,{size:"M"},b)),(0,r.tZ)("footer",{css:(0,r.iv)({paddingTop:d.hc},"")},t))),f&&(0,r.tZ)(CardDismissButton,{isScary:m,onClick:f,protoLoggingInfo:l}))}var b=n(84760),C=n(68891),O=n(74043),S=n(61096),E=n(45176),P=n(90431),Z=n(24471),D=n(84974),T=n(93284),w=n(10827);const I=["document_request","national_id_request","permanent_resident_document_request","compliance_document_request","foreign_passport_request","foreign_bank_statement_request","document_requests"];var k=n(65384),x=n(93126);function NotificationActionLink(e){let{notification:t,onClick:n}=e;const o=(0,T.og)(),i=(0,E.z)(),a=t.action,s=(0,O.lO)(a),l=(0,x.b)(a);if(a&&!l&&!["share","web"].includes(s))return(0,P.e)("Deeplink '".concat(a,"' belongs to a supported Megaphone type, but itself is not supported or parsed correctly "),{notification:t.toJS()}),null;const c=I.includes(a)?o.formatMessage({defaultMessage:"Upload Photo Now",id:"Megaphone.NotificationActionLink.uploadPhotoNow",status:"legacy"}):t.call_to_action,handleClick=e=>{if(null==n||n(),"refer_friends"===s){const e=(0,C.parse)(b.parse(a).query||"",{parseBooleans:!0});D.YB.logEvent({event:{category:"button_group",data:{button_group_title:"refer_friends_notification_cta",button_title:null!=e&&e.source?e.source:""},event:"tap"}})}else"web"!==s||l||(i(a),e.preventDefault())};if("share"===s){const e=(0,C.parse)(b.parse(a).query||"",{parseBooleans:!0});return(0,r.tZ)(w.oN,{content:(null==e?void 0:e.content)||"",label:c})}const u=(0,k.p)(a);return isGoldTheme(t.type)?(0,r.tZ)(Z.r,{href:u,label:c,onClick:handleClick,type:"anchor"}):(0,r.tZ)(S.A,{href:u,isLegacyStyle:!0,label:c,onClick:handleClick,type:"anchor"})}var R=n(53782),M=n(64900),L=n(66919);const A=["className","isScary"];function ThemedMegaphoneBody(e){let{className:t,isScary:n}=e,o=(0,R.Z)(e,A);return n?(0,r.tZ)(L.a,null,(e=>{let{rootClassName:n}=e;return(0,r.tZ)(MegaphoneBody,(0,l.Z)({className:(0,M.cx)(n,t),isScary:!0},o))})):(0,r.tZ)(MegaphoneBody,(0,l.Z)({className:t},o))}},61554:(e,t,n)=>{"use strict";n.d(t,{T:()=>DollarAmountRow});var r,o,i,a,s=n(64649),l=n(10043),c=n(64900),u=(n(27378),n(21675)),d=n(53195),p=n(27865),g=n(41595),m=n(83557),y=n(93284),f=n(83437),v=n(15238),h=n(37249),_=n(60723),b=n(75579),C=n.n(b);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DollarAmountRow(e){let{dollarAmount:t,isCrypto:n=!1,isDisabled:r,isFocused:o,isNewLayout:i,isRecurring:a,onSetDollarAmount:s,shouldUseLegacyCryptoOrderForm:u=!1,shouldUseLongField:f}=e;const b=(0,m.L)(),O=(0,y.og)();return(0,l.tZ)(p.p,{field:(0,l.tZ)("div",{className:(0,c.cx)(C().field,{[C().isLong]:f,[C().isLegacyCryptoOrderForm]:u})},(0,l.tZ)(g.P,{currencyCode:_._V.USD,"data-testid":v.c.OrderForm.RowsDollars,disabled:r,id:b,isFocused:o,name:"dollarAmount",onChange:e=>{s(null===e?null:h.WI.dangerouslyGetValueAsString(e))},placeholder:(0,d.WY)(h.WI.fromRawUSD(0),{intl:O}),textAlign:"right",tickSize:2,value:t})),htmlFor:b,label:(0,l.tZ)(AmountLabel,{isCrypto:n,isRecurring:a,shouldUseLegacyCryptoOrderForm:u}),multiLine:i&&!n})}function AmountLabel(e){let{isCrypto:t,isRecurring:n,shouldUseLegacyCryptoOrderForm:s}=e;return t?(0,l.tZ)("div",{css:(0,l.iv)(_objectSpread({alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"wrap"},s?{maxWidth:80}:void 0),"")},r||(r=(0,l.tZ)(y.DH,{defaultMessage:"Amount in",id:"CryptoOrderForm.Fields.dollarAmount.label",status:"legacy"})),(0,l.tZ)(u.Dy.Text,{isBold:!0,overrideRootStyles:{marginLeft:s?0:4},size:"S"},o||(o=(0,l.tZ)(y.DH,{defaultMessage:"USD",id:"CryptoOrderForm.Fields.dollarAmount.label.currency",status:"legacy"}))),n&&(i||(i=(0,l.tZ)(f.F,null)))):a||(a=(0,l.tZ)(y.DH,{defaultMessage:"Amount",id:"OrderForm.Fields.dollarAmount.label",status:"legacy"}))}},78381:(e,t,n)=>{"use strict";n.d(t,{f:()=>RecurringReviewMessage});var r,o=n(25773),i=n(27378),a=n(1460),s=n(17962),l=n.n(s),c=n(21675),u=n(38978),d=n(73367),p=n(85770),g=n(25718),m=n(41153),y=n(61096),f=n(93284),v=n(23371),h=n(32086),_=n(10043);var b={name:"1tpdvqq",styles:"width:240px"};function RecurringReviewMessage(e){let{dollarAmount:t,isCrypto:n,percentageOfDirectDeposit:s,recurringAmountType:C,recurringStartDate:O,scheduleFrequency:S,symbol:E}=e;const P=(0,f.og)(),[Z,D]=i.useState("Orders are typically processed between 2:30-4 PM ET.");let T;i.useEffect((()=>{l().get("https://cdn.robinhood.com/static_content/structured/en-US/disclosure/5RdunUYEPz3xrgdmc9yWGq.json").then((e=>{null!=e.body.content&&D(e.body.content)})).catch((()=>{}))}),[D]),T=S===d.ScheduleFrequency.PAYCHECK?C===d.OrderRecurringAmountType.Percentage?n?"By submitting, you authorize Robinhood Financial to debit your Robinhood Money spending account for {amount} of every paycheck to place a recurring order through Robinhood Crypto to buy {symbol} in that amount one trading day after your paycheck has been deposited into your Robinhood Money spending account.":"By submitting, you authorize Robinhood Financial to debit your Robinhood Money spending account for {amount} of every paycheck to place a recurring order through Robinhood Financial to buy {symbol} in that amount one trading day after your paycheck has been deposited into your Robinhood Money spending account.":n?"By submitting, you authorize Robinhood Financial to debit your Robinhood Money spending account for {amount} from every paycheck to place a recurring order through Robinhood Crypto to buy {symbol} in that amount one trading day after your paycheck has been deposited into your Robinhood Money spending account.":"By submitting, you authorize Robinhood Financial to debit your Robinhood Money spending account for {amount} from every paycheck to place a recurring order through Robinhood Financial to buy {symbol} in that amount one trading day after your paycheck has been deposited into your Robinhood Money spending account.":n?"You'll buy {amount} of {symbol} {frequencyMsg} starting {startDateMsg}. {cryptoOrderSchedule} If filled, your orders will be executed at the market price at the time of submission and this price will be the conversion applied to your execution.":"You'll buy {amount} of {symbol} {frequencyMsg}. Your first order will be placed {startDateMsg} at 11:00 AM ET in a batch order with other Robinhood recurring investment orders for {symbol}.";const w=(0,_.tZ)(f.DH,{defaultMessage:T,id:"OrderForm.Heading.reviewMessage",status:"legacy",values:{amount:(0,_.tZ)("strong",null,C===d.OrderRecurringAmountType.Percentage?(0,_.tZ)(a.FormattedNumber,{maximumFractionDigits:0,style:"unit",unit:"percent",value:Number(s)}):(0,_.tZ)(g.tA,{value:t})),cryptoOrderSchedule:Z,frequencyMsg:(0,_.tZ)(f.DH,(0,o.Z)({},(n?p.PK:p.ex)[S],{tagName:"strong",values:{dayOfMonth:(0,v.T2)(O,P.locale),weekday:(0,_.tZ)(a.FormattedDate,{value:O,weekday:"long"})}})),startDateMsg:(0,_.tZ)(h.A,{isDateBold:!0,startDate:O}),symbol:(0,_.tZ)("strong",null,E)}});return(0,_.tZ)(i.Fragment,null,w," ",n?(0,_.tZ)("span",null,(0,_.tZ)(y.A,{href:"https://cdn.robinhood.com/assets/robinhood/legal/Robinhood%20Crypto%20Risk%20Disclosures.pdf",isLegacyStyle:!0,label:P.formatMessage({defaultMessage:"Full disclosure",id:"OrderForm.review.recurring.cryptoDisclosureLink",status:"legacy"}),type:"anchor"}),(0,_.tZ)(m.t,{dangerouslyUseLegacyZIndex:!0,placement:"bottom-centered",trigger:"mouseover"},(0,_.tZ)("div",{css:b},(0,_.tZ)(c.Dy.Text,{color:u.Wt.Fg2,size:"S"},w," ",r||(r=(0,_.tZ)(f.DH,{defaultMessage:"Once an order is executed it may not be undone. You can review your filled orders and manage your recurring investments in the app or on the web.",id:"OrderForm.review.recurring.cryptoDisclosure",status:"legacy"})))))):(0,_.tZ)(y.A,{href:"https://robinhood.com/us/en/support/articles/recurring-investments/",isLegacyStyle:!0,label:P.formatMessage({defaultMessage:"Learn More",id:"OrderForm.review.recurring.learnMore",status:"legacy"}),type:"anchor"}))}},32086:(e,t,n)=>{"use strict";n.d(t,{A:()=>StartDateMsg});var r=n(36731),o=n(27378),i=n(21675),a=n(42364),s=n(93284),l=n(87550),c=n(10043);function StartDateMsg(e){let{isDateBold:t,startDate:n}=e;const u=(0,a.mX)(),d=(0,c.tZ)(i.Dy.Text,{isBold:t,size:"S"},(0,l.ak)(n));return(0,r.default)(n,u)>1?(0,c.tZ)(s.DH,{defaultMessage:"on {date}",id:"Recurring.StartDate.Msg",status:"legacy",values:{date:d}}):(0,c.tZ)(o.Fragment,null,d)}},75778:(e,t,n)=>{"use strict";n.d(t,{A:()=>LegacyError});var r=n(13221);class LegacyError extends r.default{}},85453:(e,t,n)=>{"use strict";n.d(t,{m:()=>M});var r,o=n(10043),i=n(25773),a=n(64900),s=n(27378),l=n(1460),c=n(21675),u=n(38978),d=n(67527),p=n(85770),g=n(25718),m=n(66396),y=n(83515),f=n(22170),v=n(27865),h=n(93284),_=n(87550),b=n(82516),C=n(25933),O=n(12633),S=n(76312),E=n(15238),P=n(23371),Z=n(50169),D=n(32086),T=n(83631),w=n.n(T);const I=(0,S.I)((function _BankAccountNickName(e){let{relationshipId:t}=e;const n=(0,d.X_)((0,O.tT)({model:m.ao,params:{id:t}}));return(0,o.tZ)(h.DH,{defaultMessage:n.bank_account_nickname,id:"OrderForm.Receipt.Recurring.achRelationship",status:"legacy"})})),k=(0,S.I)((function _DirectDepositName(e){let{relationshipId:t}=e;const n=(0,d.X_)((0,b.x)({})).find((e=>e.id===t));return(0,o.tZ)(h.DH,{defaultMessage:null==n?void 0:n.originator_name,id:"OrderForm.Receipt.Recurring.directDepositRelationship",status:"legacy"})})),x=(0,h.B2)({amount:{defaultMessage:"Amount",id:"OrderForm.Receipt.Recurring.amount",status:"legacy"},backupPayment:{defaultMessage:"Backup",id:"OrderForm.Receipt.Recurring.backupPayment",status:"legacy"},footer:{defaultMessage:"You'll buy {amount} of {symbol} {frequencyMsg}. Your first order will be placed {nextInvestmentDate}.",id:"OrderForm.Receipt.Recurring.footer",status:"legacy"},frequency:{defaultMessage:"Frequency",id:"OrderForm.Receipt.Recurring.frequency",status:"legacy"},header:{defaultMessage:"{symbol} investment scheduled",id:"OrderForm.Receipt.Recurring.header",status:"legacy"},paycheckInvestmentCryptoMessage:{defaultMessage:"If filled, your orders will be executed at the market price at the time of submission and this price will be the conversion applied to your execution. Orders will be placed at any time between 2:30-4 PM ET. Once an order is executed it may not be undone.",id:"OrderForm.Receipt.Recurring.footer.paycheckInvestmentCryptoMessage",status:"legacy"},paycheckInvestmentHeader:{defaultMessage:"Order submitted",id:"OrderForm.Receipt.Recurring.header.paycheckInvestment",status:"legacy"},paycheckInvestmentOrderStatement:{defaultMessage:"Your order of {amount} to buy {symbol} will be scheduled and applied after your first paycheck is deposited into your spending account.",id:"OrderForm.Receipt.Recurring.footer.paycheckInvestment",status:"legacy"},payment:{defaultMessage:"Payment",id:"OrderForm.Receipt.Recurring.payment",status:"legacy"},startDate:{defaultMessage:"Starts",id:"OrderForm.Receipt.Recurring.startDate",status:"legacy"},startDateNextPaycheck:{defaultMessage:"Next paycheck",id:"OrderForm.Receipt.Recurring.startDate.nextPaycheck",status:"legacy"}}),RecurringDetails=e=>{let{recurringSchedule:t}=e;const{ach_relationship_id:n,amount:i,direct_deposit_relationship_id:a,frequency:c,isCrypto:u,isPaycheckInvestment:d,percentageOfDirectDeposit:m,source_of_funds:f}=t;return(0,o.tZ)(s.Fragment,null,(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:d&&0!==m?(0,o.tZ)(l.FormattedNumber,{maximumFractionDigits:0,style:"unit",unit:"percent",value:m}):(0,o.tZ)(g.tA,{value:i.amount})}),label:(0,o.tZ)(h.DH,x.amount)}),(0,o.tZ)(RecurringStartDateFormRow,{recurringSchedule:t}),(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:(0,o.tZ)(h.DH,(u?p._5:p.mu)[c])}),label:(0,o.tZ)(h.DH,x.frequency)}),f===C.i.ACH_RELATIONSHIP&&null!=n&&(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:(0,o.tZ)(I,{relationshipId:n})}),label:(0,o.tZ)(h.DH,x.payment)}),f===C.i.DIRECT_DEPOSIT&&null!=a&&(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:(0,o.tZ)(k,{relationshipId:a})}),label:(0,o.tZ)(h.DH,x.payment)}),f===C.i.BUYING_POWER&&(0,o.tZ)(s.Fragment,null,(0,o.tZ)(v.p,{className:w().formRow,field:r||(r=(0,o.tZ)(RecurringFormField,{value:(0,o.tZ)(h.DH,{defaultMessage:y.Kz,id:"OrderForm.Receipt.Recurring.buyingPower",status:"legacy"})})),label:(0,o.tZ)(h.DH,x.payment)}),null!=n&&(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:(0,o.tZ)(I,{relationshipId:n})}),label:(0,o.tZ)(h.DH,x.backupPayment)})))};function RecurringStartDateFormRow(e){let{recurringSchedule:t}=e;const{isPaycheckInvestment:n,startDate:r}=t,i=(0,_.ak)(r);return n?null:(0,o.tZ)(v.p,{className:w().formRow,field:(0,o.tZ)(RecurringFormField,{value:i}),label:(0,o.tZ)(h.DH,x.startDate)})}var R={name:"yz1nei",styles:"margin-top:16px"};const M=(0,S.I)((function _RecurringReceipt(e){let{className:t,headerSize:n="M",isDetailOrderForm:r,onDismiss:s,onReset:u,recurringSchedule:d}=e;const m=(0,h.og)(),{locale:y}=(0,h.og)(),v=(0,a.cx)(t,w().receipt),{amount:_,frequency:b,investment_asset:C,isCrypto:O,isPaycheckInvestment:S,nextInvestmentDate:T,startDate:I}=d;return S?(0,o.tZ)(RecurringPaycheckInvestmentReceipt,{className:t,headerSize:n,isDetailOrderForm:r,onDismiss:s,onReset:u,recurringSchedule:d}):(0,o.tZ)("div",{className:v,"data-testid":E.c.OrderForm.Receipt},(0,o.tZ)("header",{className:"card-heading"},(0,o.tZ)(c.Dy.Text,{isBold:!0,size:n},(0,o.tZ)(h.DH,(0,i.Z)({},x.header,{values:{symbol:C.asset_symbol}})))),(0,o.tZ)(RecurringDetails,{recurringSchedule:d}),(0,o.tZ)("div",{className:w().disclosureRow},(0,o.tZ)(c.Dy.Text,{size:"S"},(0,o.tZ)(h.DH,(0,i.Z)({},x.footer,{values:{amount:(0,o.tZ)(g.tA,{value:_.amount}),frequencyMsg:(0,o.tZ)(h.DH,(0,i.Z)({},(O?p.EA:p.UG)[b],{values:{dayOfMonth:(0,P.T2)(I,y),weekday:(0,o.tZ)(l.FormattedDate,{value:I,weekday:"long"})}})),nextInvestmentDate:(0,o.tZ)(D.A,{isDateBold:!0,startDate:T}),symbol:C.asset_symbol}})))),(0,o.tZ)("div",{css:(0,o.iv)({marginTop:2*Z.q3})},(0,o.tZ)(f.z,{label:m.formatMessage({defaultMessage:"Done",id:"OrderForm.Receipt.RecurringReceipt.doneButtonLabel",status:"legacy"}),onClick:e=>{e.preventDefault(),null==s||s()},type:"button",width:"full"})),!r&&(0,o.tZ)("div",{css:R},(0,o.tZ)(f.z,{label:m.formatMessage({defaultMessage:"Create new recurring investment",id:"OrderForm.Receipt.RecurringReceipt.createNewLabel",status:"legacy"}),onClick:u,type:"button",variant:"secondary",width:"full"})))}));var L={name:"15nyl30",styles:"border-bottom:none"},A={name:"yz1nei",styles:"margin-top:16px"};function RecurringPaycheckInvestmentReceipt(e){let{className:t,headerSize:n="M",isDetailOrderForm:r,onDismiss:s,onReset:d,recurringSchedule:p}=e;const m=(0,h.og)(),y=(0,a.cx)(t,w().receipt),{amount:v,investment_asset:_,isCrypto:b,percentage_of_direct_deposit:C}=p;return(0,o.tZ)("div",{className:y,"data-testid":E.c.OrderForm.Receipt},(0,o.tZ)("header",{className:"card-heading",css:L},(0,o.tZ)(c.Dy.Text,{isBold:!0,size:n},(0,o.tZ)(h.DH,x.paycheckInvestmentHeader))),(0,o.tZ)("div",{css:(0,o.iv)({marginBottom:2*Z.q3,marginTop:8},"")},(0,o.tZ)(c.Dy.Text,{size:"S"},(0,o.tZ)(h.DH,(0,i.Z)({},x.paycheckInvestmentOrderStatement,{values:{amount:C?(0,o.tZ)(h.DH,{defaultMessage:"{percentage} of every paycheck",id:"OrderForm.Receipt.RecurringPaycheckInvestmentReceipt.message.percentage",status:"legacy",values:{percentage:(0,o.tZ)(l.FormattedNumber,{maximumFractionDigits:0,style:"unit",unit:"percent",value:Number(C)})}}):(0,o.tZ)(g.tA,{value:v.amount}),symbol:_.asset_symbol}})))),(0,o.tZ)(RecurringDetails,{recurringSchedule:p}),b&&(0,o.tZ)("div",{css:(0,o.iv)({marginTop:2*Z.q3},"")},(0,o.tZ)(c.Dy.Text,{color:u.Wt.Fg2,size:"S"},(0,o.tZ)(h.DH,x.paycheckInvestmentCryptoMessage))),(0,o.tZ)("div",{css:(0,o.iv)({marginTop:2*Z.q3},"")},(0,o.tZ)(f.z,{label:m.formatMessage({defaultMessage:"Done",id:"OrderForm.Receipt.RecurringPaycheckInvestmentReceipt.doneButtonLabel",status:"legacy"}),onClick:e=>{e.preventDefault(),null==s||s()},type:"button",width:"full"}),!r&&(0,o.tZ)("div",{css:A},(0,o.tZ)(f.z,{label:m.formatMessage({defaultMessage:"Create new recurring investment",id:"OrderForm.Receipt.RecurringPaycheckInvestmentReceipt.createNewLabel",status:"legacy"}),onClick:d,type:"button",variant:"secondary",width:"full"}))))}var F={name:"35yyfd",styles:"font-weight:600;text-transform:capitalize"};function RecurringFormField(e){let{value:t}=e;return(0,o.tZ)("span",{css:F},t)}},55431:(e,t,n)=>{"use strict";n.d(t,{s:()=>checkACHRelationshipsError});var r=n(73367),o=n(51213);function checkACHRelationshipsError(e){let{recurringFundsSource:t}=e;if((null==t?void 0:t.type)===r.BankAccount.Savings)throw new o.ut}},53475:(e,t,n)=>{"use strict";n.d(t,{T:()=>checkFieldErrors});var r,o,i,a,s,l=n(15373),c=n.n(l),u=(n(27378),n(73367)),d=n(93284),p=n(51213),g=n(10043);function checkFieldErrors(e){let{dollarAmount:t,instrument:n,percentageOfDirectDeposit:l,recurringAmountType:m,type:y}=e;if(y===u.OrderType.Recurring&&m===u.OrderRecurringAmountType.Dollar&&(!t||c()(t).eq("0")))throw new p.cp({error:r||(r=(0,g.tZ)(d.DH,{id:"Please enter a valid dollar amount.",status:"legacy"})),field:"dollarAmount"});if(y===u.OrderType.Recurring&&m===u.OrderRecurringAmountType.Dollar&&c()(null!=t?t:"0").lt("1"))throw new p.cp({error:o||(o=(0,g.tZ)(d.DH,{id:"Your order must be for at least $1.00.",status:"legacy"})),field:"dollarAmount"});if(y===u.OrderType.Recurring&&!n.symbol)throw new p.cp({error:i||(i=(0,g.tZ)(d.DH,{id:"Please select a valid symbol.",status:"legacy"})),field:"instrumentSearch"});if(y===u.OrderType.Recurring&&m===u.OrderRecurringAmountType.Percentage&&(!l||c()(l).lte("0")||c()(l).gt("100")))throw new p.cp({error:a||(a=(0,g.tZ)(d.DH,{id:"Please enter a valid percentage amount.",status:"legacy"})),field:"percentageOfDirectDeposit"});if(y===u.OrderType.Recurring&&m===u.OrderRecurringAmountType.Percentage&&c()(null!=l?l:"0").lt("1"))throw new p.cp({error:s||(s=(0,g.tZ)(d.DH,{id:"Your order must be for at least 1%.",status:"legacy"})),field:"percentageOfDirectDeposit"})}},93542:(e,t,n)=>{"use strict";n.d(t,{P:()=>checkMarginMayBeUsedRecurringWarning});var r=n(73367),o=n(25933),i=n(51213),a=n(79167);function checkMarginMayBeUsedRecurringWarning(e){let{account:t,marginSettings:n,orderCheckOverrides:s,recurringFundsSource:l,type:c}=e;if(!s.has(a.ax.OverrideRecurringMarginWarning)&&c===r.OrderType.Recurring&&(null==l?void 0:l.type)===o.i.BUYING_POWER&&null!=t&&t.isMargin&&null!=n&&n.userEnabledMarginInvesting)throw new i.FN}},50547:(e,t,n)=>{"use strict";n.d(t,{P:()=>checkMaxBuyDollarsExceededErrors});var r=n(15373),o=n.n(r),i=n(73367),a=n(26812),s=n(89263),l=n(25933),c=n(51213),u=n(79167);function checkMaxBuyDollarsExceededErrors(e){let{amountType:t,dollarAmount:n,instrumentBuyingPower:r,orderCheckOverrides:d,recurringAmountType:p,recurringBackupPaymentSource:g,recurringFundsSource:m,side:y,type:f}=e;if(d.has(u.ax.OverrideMaxBuyDollars))return;if(!n||t!==i.OrderAmountTypes.DOLLAR&&p!==i.OrderRecurringAmountType.Dollar)return;if(y!==i.Side.Buy)return;if(n&&f===i.OrderType.Recurring&&o()(n).gt(s.Hu))throw new c.w0;if((f!==i.OrderType.Recurring||(null==m?void 0:m.type)===l.i.BUYING_POWER)&&null!=r&&o()(n).gt(r)&&((null==g?void 0:g.type)!==l.i.ACH_RELATIONSHIP||null==g||!g.value))throw(0,a.H)({errorName:a.xp.OrderCheck,tag:a.xI.EquityNotEnoughBpDollarBased}),new c.w7}},2420:(e,t,n)=>{"use strict";n.d(t,{$:()=>checkRecurringOrder,l:()=>p});var r=n(73367),o=n(42925),i=n(44574),a=n(55431),s=n(51213);function checkETPWarnings(e){let{etpDetails:t,instrument:n}=e;if(n.isEtf&&null!=t&&t.shouldTriggerETPWarning())throw new s.BF}var l=n(53475),c=n(93542),u=n(50547),d=n(12633);function checkSuitability(e){let{orders:t,side:n,suitabilityCompleted:o}=e;const i=n===r.Side.Buy,a=(0,d.q_)(t)&&t.count()>0;if(i&&a&&(null==o||!o.completed))throw new s.wy}function checkTradePermissionErrors(e){let{account:t,dayTradeChecks:n,shouldExecuteInMarketHoursOnly:o,side:i,tradePermission:a}=e;if(a){const e=a.getTradeSideCheckForAccount({marketHoursOnly:o,side:i});if(e){if(e.willOrderTriggerPDT)throw new s.y6;if(e.areDayTradesRestricted){if(!(i===r.Side.Sell))throw t.isMarkedPDT?new s.Xj:new s.L_;if(!n)throw new s.O9}}}}function checkRecurringOrder(e){!function runChecks(e,t){e.forEach((e=>e(t)))}([l.T,checkTradePermissionErrors,u.P,checkSuitability,a.s,c.P,checkETPWarnings],e)}const p={account:new o.AccountRecord,amountType:r.OrderAmountTypes.SHARE,dayTradeChecks:!0,dollarAmount:null,etpDetails:new i.t3,instrument:new i.k0,instrumentBuyingPower:null,marginSettings:void 0,orderCheckOverrides:new Set([]),orders:null,percentageOfDirectDeposit:null,quantity:null,recurringAmountType:r.OrderRecurringAmountType.Dollar,recurringBackupPaymentSource:null,recurringFundsSource:null,shouldExecuteInMarketHoursOnly:!0,side:r.Side.Buy,suitabilityCompleted:null,type:r.OrderType.Market}},51213:(e,t,n)=>{"use strict";n.d(t,{ut:()=>te,IV:()=>ne,O9:()=>X,Xj:()=>K,L_:()=>Q,cp:()=>FieldError,FN:()=>ee,w7:()=>J,w0:()=>$,$w:()=>ServerDrivenEquityOrderCheckError,BF:()=>re,wy:()=>V,y6:()=>G});var r,o,i,a,s,l,c,u,d,p,g,m=n(64649),y=n(13221),f=(n(27378),n(22170)),v=n(93284),h=n(15238),_=n(79167),b=n(10043);function EditOrderButton(e){let{cancelReviewing:t}=e;const n=(0,v.og)();return(0,b.tZ)(f.z,{label:n.formatMessage({defaultMessage:"Edit Order",id:"getDayTradesRestrictedCanOverrideProps.EditOrderButton",status:"legacy"}),onClick:t,type:"button",width:"full"})}function AcceptRestrictionButton(e){let{onSkipDayTradeChecks:t}=e;const n=(0,v.og)();return(0,b.tZ)(f.z,{label:n.formatMessage({defaultMessage:"Accept 90-day Restriction",id:"getDayTradesRestrictedCanOverrideProps.AcceptRestrictionButton.label",status:"legacy"}),onClick:()=>t(),type:"button",variant:"secondary",width:"full"})}var C,O,S=n(26812);var E,P,Z=n(25718),D=n(89263);var T,w,I,k=n(10959),x=n(61096);var R={name:"158icaa",styles:"margin-left:4px"};function Copy(){const e=(0,k.k6)(),t=(0,v.og)();return(0,b.tZ)("p",null,T||(T=(0,b.tZ)(v.DH,{defaultMessage:"This type of Exchange-Traded Product is generally designed for short-term trading and may not be suitable for all investors.",id:"getShowETPWarningErrorProps.ShowETPWarning.Copy",status:"legacy"})),(0,b.tZ)("span",{css:R},(0,b.tZ)(x.A,{isLegacyStyle:!0,label:t.formatMessage({defaultMessage:"Learn More",id:"getShowETPWarningErrorProps.ShowETPWarning.LearnMore",status:"legacy"}),onClick:()=>e.push("?applink=etp_warning_learn_more"),overrideRootStyles:{width:"initial !important"},type:"button"})))}function PrimaryButton(e){let{skipETPWarningChecks:t}=e;const n=(0,v.og)();return(0,b.tZ)(f.z,{label:n.formatMessage({defaultMessage:"Continue",id:"OrderForm.OrderFormControls.getTriggersPDTProps.PrimaryButton.label",status:"legacy"}),onClick:t,type:"button",width:"full"})}var M,L,A,F,N,B,j=n(8139),H=n.n(j),U=n(24498),z=n(32304),W=n(67527);function PrimaryButton_PrimaryButton(e){let{cancelReviewing:t}=e;const n=(0,v.og)(),r=(0,k.k6)(),{activeAccount:o}=(0,W.X_)((0,U.DV)());return(0,b.tZ)(f.z,{label:n.formatMessage({defaultMessage:"Continue",id:"OrderForm.OrderFormControls.SuitabilityError.Button.label",status:"legacy"}),onClick:e=>{e.preventDefault();const n="investment_profile?".concat(H().stringify({accountNumber:null==o?void 0:o.account_number,context:(0,z.B)({account:o,isSecondTrade:!0})}));r.push("?".concat(H().stringify({applink:n}))),t&&t()},type:"button",width:"full"})}function OrderFormControls_getTriggersPDTProps_Copy(){const e=(0,v.og)();return(0,b.tZ)("div",null,(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"Pattern Day Trade Protection prevents you from placing this trade because you could be marked as a Pattern Day Trader. You can disable this protection on the {settingsPageLink}.",id:"TriggersPDT.pdtProtectionExplanation",status:"legacy",values:{settingsPageLink:(0,b.tZ)(x.A,{href:"/account/settings/investing",isLegacyStyle:!0,label:e.formatMessage({defaultMessage:"settings page",id:"OrderFormControls.getTriggersPDTProps",status:"legacy"}),target:"_blank",type:"anchor"})}})),A||(A=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{id:"If you are marked as a Pattern Day Trader, you may place day trades only if your portfolio ends the previous day over $25,000.00.",status:"legacy"}))))}function getTriggersPDTProps_PrimaryButton(e){let{onClick:t}=e;const n=(0,v.og)();return(0,b.tZ)(f.z,{label:n.formatMessage({defaultMessage:"Cancel",id:"OrderForm.OrderFormControls.getTriggersPDTProps.PrimaryButton.label",status:"legacy"}),onClick:t,type:"button",width:"full"})}function SecondaryButton(){const e=(0,v.og)();return(0,b.tZ)(f.z,{href:"/account/settings",label:e.formatMessage({defaultMessage:"View Account Settings",id:"OrderForm.OrderFormControls.getTriggersPDTProps.SecondaryButton.label",status:"legacy"}),target:"_blank",type:"anchor",variant:"secondary",width:"full"})}var q,Y=n(75778);const createError=e=>class extends Y.A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Object.assign(this,e)}getProps(t){return e(t)}},V=createError((function getSuitabilityProps(e){let{cancelReviewing:t}=e;return{copy:M||(M=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"We’re required to have you answer some questions about your investing goals before we can allow you to continue using Robinhood.",id:"OrderForm.OrderFormControls.SuitabilityError.Message",status:"legacy"}))),primaryButton:(0,b.tZ)(PrimaryButton_PrimaryButton,{cancelReviewing:t}),secondaryButton:null,status:L||(L=(0,b.tZ)(v.DH,{defaultMessage:"Update Your Profile",id:"OrderForm.OrderFormControls.SuitabilityError.Status",status:"legacy"}))}})),G=createError((function getTriggersPDTProps(e){let{cancelReviewing:t,isExemptFromPDTRules:n}=e;return{copy:F||(F=(0,b.tZ)(OrderFormControls_getTriggersPDTProps_Copy,null)),primaryButton:(0,b.tZ)(getTriggersPDTProps_PrimaryButton,{onClick:t}),scary:!n,secondaryButton:N||(N=(0,b.tZ)(SecondaryButton,null)),status:B||(B=(0,b.tZ)(v.DH,{id:"Pattern Day Trade Warning",status:"legacy"}))}})),K=createError((function getDayTradesRestrictedProps(e){return{copy:u||(u=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{id:"You are marked as a Pattern Day Trader. You may place day trades only if your portfolio ends the previous day over $25,000.00.",status:"legacy"}))),status:d||(d=(0,b.tZ)(v.DH,{id:"Pattern Day Trader",status:"legacy"}))}})),Q=createError((function getDayTradesRestrictedNotPDTProps(e){return{copy:l||(l=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{id:"You’re restricted from day trading. Placing this trade may result in a day trade and restrict you from opening new positions for 90 days.",status:"legacy"}))),status:c||(c=(0,b.tZ)(v.DH,{id:"Restricted from day trading",status:"legacy"}))}})),X=createError((function getDayTradesRestrictedCanOverrideProps(e){let{cancelReviewing:t,onSkipDayTradeChecks:n}=e;return{copy:(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"You’re restricted from day trading. Placing this trade may result in another day trade and {restrictionLength}.",id:"DayTradesRestrictedCanOverride.message",status:"legacy",values:{restrictionLength:a||(a=(0,b.tZ)("span",{className:"bolder"},(0,b.tZ)(v.DH,{id:"restrict you from opening new positions for 90 days",status:"legacy"})))}})),primaryButton:(0,b.tZ)(EditOrderButton,{cancelReviewing:t}),scary:!0,secondaryButton:(0,b.tZ)(AcceptRestrictionButton,{onSkipDayTradeChecks:n}),status:s||(s=(0,b.tZ)(v.DH,{id:"Restricted from day trading",status:"legacy"}))}})),J=createError((function getMaxBuyDollarsExceededLimitedByNotEnoughBuyingPowerProps(e){let{addOrderCheckOverride:t,cancelReviewing:n,onSetError:r,onSetStage:o}=e;return o(_.oI.Reviewing),{copy:C||(C=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"You don’t have enough buying power for this order. If you don’t have a deposit scheduled, you might want to change your payment method or deposit funds.",id:"getMaxBuyDollarsExceededLimitedByNotEnoughBuyingPowerProps.status.copy",status:"legacy"}))),primaryButton:(0,b.tZ)(f.z,{label:"Continue",onClick:()=>{o(_.oI.Editing),r(null),t?(t(_.ax.OverrideMaxBuyDollars),o(_.oI.Checking)):o(_.oI.Reviewing)},type:"button"}),secondaryButton:(0,b.tZ)(f.z,{label:"Dismiss",loggingInfo:{button_group_title:S.xp.TradingAlert,button_title:S.CS.Cancel},onClick:n,type:"button",variant:"secondary"}),status:O||(O=(0,b.tZ)(v.DH,{defaultMessage:"Select New Payment Method",id:"getMaxBuyDollarsExceededLimitedByNotEnoughBuyingPowerProps.status.recurring",status:"legacy"}))}})),$=createError((function getMaxBuyDollarsExceededLimitedByRecurringMaxProps(e){let{onSetStage:t}=e;return t(_.oI.Reviewing),{copy:(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"You have exceeded the {recurringLimit} maximum limit for recurring investments. Please enter a smaller amount.",id:"getMaxBuyDollarsExceededLimitedByRecurringMaxProps.copy",status:"legacy",values:{recurringLimit:E||(E=(0,b.tZ)(Z.tA,{value:D.Hu}))}})),status:P||(P=(0,b.tZ)(v.DH,{defaultMessage:"Maximum Limit Reached",id:"getMaxBuyDollarsExceededLimitedByRecurringMaxProps.status",status:"legacy"}))}})),ee=createError((function getMarginMayBeUsedRecurringWarningProps(e){let{addOrderCheckOverride:t,cancelReviewing:n,onSetError:r,onSetStage:o}=e;return{copy:p||(p=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"Recurring investments may be purchased with margin if you choose Robinhood Buying Power as your payment method.",id:"getMarginMayBeUsedRecurringWarningProps.copy",status:"legacy"}))),primaryButton:(0,b.tZ)(f.z,{label:"Continue",onClick:()=>{r(null),t?(t(_.ax.OverrideRecurringMarginWarning),o(_.oI.Checking)):o(_.oI.Reviewing)},type:"button"}),secondaryButton:(0,b.tZ)(f.z,{label:"Edit",onClick:n,type:"button",variant:"secondary"}),status:g||(g=(0,b.tZ)(v.DH,{defaultMessage:"Margin May Be Used",id:"getMarginMayBeUsedRecurringWarningProps.status",status:"legacy"}))}})),te=createError((function getACHRelationshipsWithdrawalLimitProps(e){let{cancelReviewing:t,onSetError:n,onSetStage:i}=e;return i(_.oI.Reviewing),{copy:r||(r=(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"The account you selected may have a monthly withdrawal limit.",id:"getACHRelationshipsWithdrawalLimitProps.copy",status:"legacy"}))),primaryButton:(0,b.tZ)(f.z,{label:"Continue",onClick:()=>n(null),type:"button"}),secondaryButton:(0,b.tZ)(f.z,{label:"Edit",onClick:t,type:"button",variant:"secondary"}),status:o||(o=(0,b.tZ)(v.DH,{defaultMessage:"Withdrawal Limit",id:"getACHRelationshipsWithdrawalLimitProps.status",status:"legacy"}))}})),ne=createError((function getCanBuyFracsProps(e){let{instrument:t}=e;return{copy:(0,b.tZ)("p",null,(0,b.tZ)(v.DH,{defaultMessage:"Recurring Investment is unavailable because Fractional Shares are unavailable for {symbol}.",id:"getCanBuyFracsProps.recurring.copy",status:"legacy",values:{symbol:t.symbol}})),status:i||(i=(0,b.tZ)(v.DH,{defaultMessage:"Recurring Investment Unavailable",id:"getCanBuyFracsProps.recurring.status",status:"legacy"}))}})),re=createError((function getShowETPWarningErrorProps(e){let{onSkipETPWarningChecks:t}=e;return{copy:w||(w=(0,b.tZ)(Copy,null)),primaryButton:(0,b.tZ)(PrimaryButton,{skipETPWarningChecks:t}),status:I||(I=(0,b.tZ)(v.DH,{defaultMessage:"Heads-Up",id:"OrderForm2.Errors.ShortPositionQuantity.Status",status:"legacy"}))}}));class FieldError extends Y.A{constructor(e){let{error:t,field:n}=e;super(),(0,m.Z)(this,"error",void 0),(0,m.Z)(this,"field",void 0),this.field=n,this.error=t}getProps(e){let{submitting:t}=e;return{copy:(0,b.tZ)("p",null,this.error),primaryButton:(0,b.tZ)(legacyErrors_PrimaryButton,{submitting:t}),secondaryButton:null,status:q||(q=(0,b.tZ)(v.DH,{defaultMessage:"Error",id:"OrderForm.Error.Status.Default",status:"legacy"}))}}}function legacyErrors_PrimaryButton(e){const t=(0,v.og)();return(0,b.tZ)(f.z,{"data-testid":h.c.OrderForm.ControlsReview,label:t.formatMessage({defaultMessage:"Review Order",id:"OrderForm2.FieldErrorPrimaryButton.ReviewOrder",status:"legacy"}),state:e.submitting&&"loading",type:"submit",width:"full"})}class ServerDrivenEquityOrderCheckError extends y.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Object.assign(this,e)}}},65232:(e,t,n)=>{"use strict";n.d(t,{b:()=>useGetPendingOptionOrderDetails});var r=n(67527),o=n(30156),i=n(4849),a=n(85952),s=n(39989),l=n(12633);const useGetPendingOptionOrderDetails=e=>{const t=(0,i.n)(o.V.optionsCancelReplaceV2),n=(0,r.X_)((0,l.tT)({disabled:!t||!e,model:s.VZ,params:{id:e}})),c=(0,r.X_)((0,l.tT)({disabled:!t||!n,many:!0,model:s.e1,params:{ids:null==n?void 0:n.legs.map((e=>(0,l.Hz)(e.option))).join()}}));if(!t||!n||!c)return null;const{aggregateQuote:u}=(0,a.b)(n,c);return{displayBidAsk:null==u?void 0:u.getDisplayBidAsk(null==n?void 0:n.direction),optionOrder:n}}},12587:(e,t,n)=>{"use strict";n.d(t,{B:()=>HoverableItemWrapper,f:()=>d});var r=n(10043),o=n(4585),i=(n(27378),n(97224)),a=n(29714),s=n(50169);const l=(0,i.uI)(),c=2*s.q3,u={alignItems:"center",display:"flex",justifyContent:"space-between",margin:"-".concat(s.q3,"px 0"),padding:"".concat(s.q3,"px 0"),width:"100%"},d=(0,o.Z)("div",{target:"e1x8cbdk0"})({"&:first-child":{borderTop:"1px solid ".concat(l.bg3)},borderBottom:"1px solid ".concat(l.bg3),marginBottom:"-1px",maxWidth:s.ib,paddingBottom:s.q3,paddingTop:s.q3});function HoverableItemWrapper(e){let{children:t,onClick:n}=e;return(0,r.tZ)(d,null,(0,r.tZ)("div",{css:(0,r.iv)({"&:hover":{backgroundColor:l.hoverBg1},margin:"0 -".concat(c,"px"),padding:"0 ".concat(c,"px")},"")},n?(0,r.tZ)(a.Y,{onClick:n,overrideRootStyles:u,type:"button"},t):(0,r.tZ)("div",{css:u},t)))}},20295:(e,t,n)=>{"use strict";n.d(t,{qM:()=>useWaitForMenuItems,zM:()=>useWaitForNavLinks});var r=n(10043),o=n(27378),i=n(35002),a=n(97224),s=n(24498),l=n(79649),c=n(7657);var u=n(49677),d=n(67527),p=n(30156),g=n(33175),m=n(4849),y=n(55727);const f=(()=>{const e=n(27378),t=e.lazy((()=>n.e(79690).then(n.t.bind(n,41315,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})();let v;!function(e){e.Investing="/account/investing",e.Gold="/account/gold",e.Crypto="/account/crypto",e.Spending="/account/spending",e.Transfer="/account/transfers",e.ReportsAndStatements="/account/reports-statements",e.TaxCenter="/account/tax-center",e.History="/account/history",e.Recurring="/account/recurring",e.Slip="/account/stock-lending",e.Referral="/account/referral",e.Settings="/account/settings",e.Help="/account/help",e.Margin="/account/margin"}(v||(v={}));const h=[{icon:(0,r.tZ)(i.sg,{type:"AccountSummary24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_summary"},message:y.s.investing,shouldHide:e=>{let{accounts:t}=e;return!(l.r6.RHS_INDIVIDUAL in t)},url:v.Investing},{icon:(0,r.tZ)(i.sg,{type:"DollarSign24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_spending"},message:y.s.spending,shouldHide:e=>{let{accounts:t}=e;return!(l.r6.RHY_SPENDING in t)},url:v.Spending},{icon:(0,r.tZ)(i.sg,{type:"Crypto24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_crypto"},message:y.s.crypto,shouldHide:e=>{let{accounts:t,shouldShowCryptoAccountPage:n}=e;return!n||!(l.r6.RHC_CRYPTO in t)},url:v.Crypto},{icon:(0,r.tZ)(i.sg,{type:"Banking24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_banking"},message:y.s.transfers,shouldHide:e=>{let{accounts:t}=e;return!Object.keys(t).length},url:v.Transfer},{icon:(0,r.tZ)(i.sg,{type:"Recurring24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_recurring"},message:y.s.recurring,shouldHide:e=>{let{accounts:t}=e;return!Object.keys(t).length},url:v.Recurring},{icon:(0,r.tZ)(i.sg,{type:"Cash24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_stock_lending"},message:y.s.slip,shouldHide:e=>{let{shouldShowSlip:t}=e;return!t},url:v.Slip},{icon:(0,r.tZ)(i.sg,{type:"Margin24"}),loggingEventData:{button_group_title:"account_popover",button_title:"margin_settings"},message:y.s.margin,shouldHide:e=>{var t;let{accounts:n}=e;return!(null!==(t=n[l.r6.RHS_INDIVIDUAL])&&void 0!==t&&t.hasMarginInvesting)},url:v.Margin},{icon:(0,r.tZ)(f,{css:(0,r.iv)({"& > path":{fill:(0,a.uI)().fg1},height:24,width:24},"")}),loggingEventData:{button_group_title:"account_popover",button_title:"gold"},message:y.s.gold,shouldHide:e=>{var t;let{accounts:n}=e;return!(null!==(t=n[l.r6.RHS_INDIVIDUAL])&&void 0!==t&&t.isGold)},url:v.Gold},{icon:(0,r.tZ)(i.sg,{type:"Documents24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_reports_statements",page:"ACCOUNT_OVERVIEW"},message:y.s.reportsAndStatements,shouldHide:e=>{let{accounts:t}=e;return!Object.keys(t).length},url:v.ReportsAndStatements},{icon:(0,r.tZ)(i.sg,{type:"Disclosures24"}),loggingEventData:{button_group_title:"account_popover",button_title:"tax_center"},message:y.s.taxCenter,shouldHide:e=>{let{accounts:t,isTaxCenterMember:n}=e;return!Object.keys(t).length||!n},url:v.TaxCenter},{icon:(0,r.tZ)(i.sg,{type:"History24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_history"},message:y.s.history,shouldHide:e=>{let{accounts:t}=e;return!Object.keys(t).length},url:v.History},{icon:(0,r.tZ)(i.sg,{type:"Settings24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_settings"},message:y.s.settings,url:v.Settings},{icon:(0,r.tZ)(i.sg,{type:"Help24"}),loggingEventData:{button_group_title:"account_popover",button_title:"account_help"},message:y.s.help,url:v.Help},{icon:(0,r.tZ)(i.sg,{type:"Lightbulb24"}),loggingEventData:{button_group_title:"account_popover",button_title:"keyboard_shortcuts"},message:y.s.shortcuts,onClick:e=>{let{toggleShortcutModal:t}=e;return()=>{t()}},shouldHide:e=>{let{isKeyboardShortcutsMember:t}=e;return!t}}];function useWaitForMenuItems(){var e;const t=(0,d.X_)((0,l.tl)()),n=function useShouldShowCryptoAccountPage(){const{result:e}=(0,c.E)();return null==e?void 0:e.isEligible}(),{result:r}=(0,s.mz)(),i=(0,m.n)(p.V.decoupleTaxesFromStatements),a=!(null===(e=(0,g.E)(p.V.webFutureKeyboardShortcuts))||void 0===e||!e.isMember),y=r&&r.consent_status_enum!==u.Q.NeedsResponse;return o.useMemo((()=>h.filter((e=>{var r;return!(null!==(r=e.shouldHide)&&void 0!==r&&r.call(e,{accounts:t,isKeyboardShortcutsMember:a,isTaxCenterMember:i,shouldShowCryptoAccountPage:n,shouldShowSlip:y}))}))),[t,n,y,a,i])}function useWaitForNavLinks(){return useWaitForMenuItems().filter((e=>"url"in e))}},26093:(e,t,n)=>{"use strict";n.d(t,{l:()=>ActivityItem,t:()=>m});var r=n(10043),o=n(27378),i=n(45776),a=n(97224),s=n(69400);const l=1200,c=1500,u="#0F171F",d="#e8eefa",getStyles=e=>{let{isDark:t}=e;return{"&.highlight":{"*":{backgroundColor:t?u:d},backgroundColor:t?u:d}}},FocusElement=e=>{let{children:t,focusDeterminator:n,focusInitDelay:i=l,highlight:u,highlightDuration:d=c,scroll:p}=e;const g=(0,o.useRef)(0),m=(0,o.useRef)(0),y=(0,a.Fg)(),f=(0,o.useCallback)(getStyles,[y])({isDark:y.isDark}),v=(0,o.useRef)(null),h=n();return(0,s.F)((()=>{if(h){const e=v.current;return g.current=window.setTimeout((()=>{p&&(null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})),u&&(null==e||e.classList.add("highlight"),m.current=window.setTimeout((()=>{null==e||e.classList.remove("highlight")}),d))}),i),()=>{u&&clearTimeout(m.current),clearTimeout(g.current)}}})),t?(0,r.tZ)("span",{ref:v,css:f},t):null};var p=n(50169),g=n(66999);const m=o.createContext({});function ActivityItem(e){let{accountNumber:t,children:n,"data-testid":s,date:l,dateExtra:c,error:u,isOpen:d,links:y,onStateChange:f,record:v,status:h,statusExtra:_,subtitle:b,title:C}=e;const{targetRecordId:O}=(0,o.useContext)(m),S=!!v.id&&v.id===O,[E,P]=o.useState(d||S||!1),Z=!!n||!(!y||!y.length);return(0,r.tZ)(FocusElement,{focusDeterminator:()=>S,focusInitDelay:750,highlight:!0,highlightDuration:2e3,scroll:!0},(0,r.tZ)(i.b,{content:Z?(0,r.tZ)("div",null,!!n&&(0,r.tZ)("div",null,n),!!y&&(0,r.tZ)("div",{css:(0,r.iv)({display:"flex",marginBottom:p.q3,marginTop:p.q3},"")},y.map(((e,t)=>(0,r.tZ)("div",{key:t,css:(0,r.iv)({marginRight:2*p.q3},"")},e)))),u&&(0,r.tZ)("div",{css:(0,r.iv)({color:(0,a.fc)().error.base},"")},u)):null,"data-testid":s,header:(0,r.tZ)(g.X,{accountNumber:t,date:l,dateExtra:c,record:v,status:h,statusExtra:_,subtitle:b,title:C}),onChange:e=>{P((e=>!e)),f&&f(e)},state:E?"expanded":"collapsed"}))}},60465:(e,t,n)=>{"use strict";n.d(t,{C:()=>ActivityItemFieldsSection});var r=n(10043),o=(n(27378),n(21675)),i=n(50169);var a={name:"ti75j2",styles:"margin:0"};function ActivityItemFieldsSection(e){let{children:t,heading:n}=e;return(0,r.tZ)("section",null,n&&(0,r.tZ)("header",{css:(0,r.iv)({marginBottom:i.q3},"")},(0,r.tZ)("h3",{css:a},(0,r.tZ)(o.Dy.Text,{isBold:!0,size:"M"},n))),t)}},14403:(e,t,n)=>{"use strict";n.d(t,{$:()=>useActivityItemForRecordContext,y:()=>ActivityItemProvider});var r=n(64649),o=n(27378),i=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a=(0,o.createContext)(null);function ActivityItemProvider(e){let{children:t}=e;const n=(0,o.useReducer)(activityItemForRecordReducer,{optionOrderDetailModalId:void 0});return(0,i.tZ)(a.Provider,{value:n},t)}function activityItemForRecordReducer(e,t){return _objectSpread(_objectSpread({},e),t)}function useActivityItemForRecordContext(){const e=(0,o.useContext)(a);if(!e)throw new Error("Missing ActivityItemProvider");return e}},94915:(e,t,n)=>{"use strict";n.d(t,{U:()=>ActivityItemPlaceholder});var r,o=n(10043),i=(n(27378),n(97224)),a=n(20625);function ActivityItemPlaceholder(){return(0,o.tZ)("div",{css:(0,o.iv)({borderTop:"1px solid ".concat((0,i.uI)().bg3)},"")},r||(r=(0,o.tZ)(a.B,{height:90,width:150},(0,o.tZ)(a.F,{height:10,width:150,x:0,y:30}),(0,o.tZ)(a.F,{height:10,width:100,x:0,y:50}),(0,o.tZ)(a.F,{height:10,width:100,x:580,y:40}))))}},66999:(e,t,n)=>{"use strict";n.d(t,{X:()=>Heading});var r=n(64900),o=n(27378),i=n(1460),a=n(24498),s=n(67527),l=n(51883),c=n(50169),u=n(10043);const d={heading:(0,r.css)({borderRadius:c.n_,display:"flex",justifyContent:"space-between"},""),left:(0,r.css)({name:"16mmcnu",styles:"display:flex;flex-direction:column;justify-content:center"}),spacer:(0,r.css)({name:"ey5f1f",styles:"height:2px"}),status:(0,r.css)({name:"5a1gnn",styles:"display:flex;flex-direction:column;justify-content:center;text-align:right"})};var p={name:"1lv1yo7",styles:"display:inline-flex"};function Heading(e){var t;let{accountNumber:n,className:c,date:g,dateExtra:m,record:y,status:f,statusExtra:v,subtitle:h,title:_}=e;const b=(0,r.cx)(c,d.heading);let C=null;const O=(0,s.X_)((0,a.$p)(n?void 0:null)),S=n&&(null==O?void 0:O.size)>1&&(null==O||null===(t=O.find((e=>e.account_number===n)))||void 0===t?void 0:t.label.defaultMessage);return g&&(C=y.isPending?(0,u.tZ)(i.FormattedDate,{format:"short",value:g}):(0,u.tZ)(l.n,{format:"short",value:g})),(0,u.tZ)("div",{className:b},(0,u.tZ)("div",{className:d.left},(0,u.tZ)("h3",null,_),(0,u.tZ)("span",null,S&&"".concat(S," · "),m?(0,u.tZ)("div",{css:p},C,m):C),h),(0,u.tZ)("div",{className:d.status},(0,u.tZ)("h3",null,f),v&&(0,u.tZ)(o.Fragment,null,(0,u.tZ)("div",{className:d.spacer}),(0,u.tZ)("span",null,v))))}},8899:(e,t,n)=>{"use strict";n.d(t,{k:()=>FilledFields});var r,o,i=n(27378),a=n(1460),s=n(25142),l=n(93284),c=n(94865),u=n(89521),d=n(10043);function MultilegFilledQuantity(e){let{optionOrder:t}=e;const n=t.getAverageFillPrice();return(0,d.tZ)(l.DH,{defaultMessage:"{filledQuantity, number} filled at {averagePrice}",id:"OptionOrderActivityItem.Fields.MultilegFilledQuantity",redOakId:"2819976",status:"approved",values:{averagePrice:(0,d.tZ)(u.tA,{value:n}),filledQuantity:t.processed_quantity}})}function FilledFields(e){var t,n;let{leg:u,optionOrder:p}=e;const g=new Date(null!==(t=u.mostRecentFillDate)&&void 0!==t?t:"").getFullYear()===(new Date).getFullYear();return u.hasExecutions?(0,d.tZ)(i.Fragment,null,(0,d.tZ)(s.B,{label:r||(r=(0,d.tZ)(l.DH,{defaultMessage:"Filled quantity",id:"Fields.FilledQuantity",redOakId:"2819976",status:"approved"})),value:p&&!p.isSingleLeg?(0,d.tZ)(MultilegFilledQuantity,{optionOrder:p}):(0,d.tZ)(c.S,{leg:u})}),(0,d.tZ)(s.B,{label:o||(o=(0,d.tZ)(l.DH,{defaultMessage:"Filled",id:"Fields.TimeFilled",redOakId:"2819976",status:"approved"})),value:(0,d.tZ)(a.FormattedTime,{day:"numeric",month:"numeric",timeZoneName:"short",value:null!==(n=u.mostRecentFillDate)&&void 0!==n?n:void 0,year:g?void 0:"2-digit"})})):null}},29085:(e,t,n)=>{"use strict";n.d(t,{D:()=>TypeAndEffectFields});var r,o,i=n(27378),a=n(25142),s=n(93284),l=n(10043);function TypeAndEffectFields(e){let{leg:t,optionOrder:n}=e;return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(a.B,{label:r||(r=(0,l.tZ)(s.DH,{id:"Type",status:"legacy"})),value:(0,l.tZ)(s.DH,n.getTypeTriggerSideMessage(t))}),(0,l.tZ)(a.B,{label:o||(o=(0,l.tZ)(s.DH,{defaultMessage:"Position effect",id:"Fields.PositionEffect",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(s.DH,t.effectMessage)}))}},89302:(e,t,n)=>{"use strict";n.d(t,{I:()=>Fields});var r,o,i,a,s,l,c,u,d,p,g=n(10043),m=n(27378),y=n(1460),f=n(10894),v=n(25718),h=n(25142),_=n(93284),b=n(15138),C=n(50169),O=n(8899),S=n(34051),E=n(39989),P=n(12633),Z=n(60465),D=n(29085);function LegSection(e){let{leg:t,optionInstrument:n,optionOrder:o}=e;const i=(0,_.og)();return(0,g.tZ)("div",{css:(0,g.iv)({marginTop:2*C.q3},"")},(0,g.tZ)(Z.C,{heading:(0,g.tZ)(_.DH,{defaultMessage:"{legTitle}",id:"OptionOrderActivityItem.Fields.LegTitle",redOakId:"2418226",status:"approved",values:{legTitle:(0,g.tZ)(m.Fragment,null,t.getFormattedLegTitleWithSideAndSymbol({intl:i,symbol:n.chain_symbol}))}})},(0,g.tZ)("div",{className:"grid-3"},(0,g.tZ)(D.D,{leg:t,optionOrder:o}),(0,g.tZ)(O.k,{leg:t}),(0,g.tZ)(h.B,{label:r||(r=(0,g.tZ)(_.DH,{defaultMessage:"Quantity",id:"Fields.Quantity",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(y.FormattedNumber,{value:Math.round(t.ratio_quantity*Number(o.quantity))})}))))}function LegsSection(e){let{optionOrder:t}=e;const n=(0,P.tT)({many:!0,model:E.p8,params:{ids:t.legs.map((e=>E.p8.idFromUrl(e.option))).join()}}),r=n.result?(0,S.Map)(n.result.map((e=>[e.id,e]))):(0,S.Map)();return(0,g.tZ)(m.Fragment,null,t.sortedLegs.map((e=>{const n=E.p8.idFromUrl(e.option);if(!n)return null;const o=r.get(n);return o?(0,g.tZ)(LegSection,{key:o.id,leg:e,optionInstrument:o,optionOrder:t}):null})))}function Fields(e){var t,n,r,S;let{account:E,optionOrder:P,taxWithholding:Z}=e;const T=(0,f.M)(),w=P.isSingleLeg,I=P.direction===b.J7.Debit,k=new Date(null!==(t=P.created_at)&&void 0!==t?t:"").getFullYear()===(new Date).getFullYear();return(0,g.tZ)(m.Fragment,null,(0,g.tZ)("div",{css:(0,g.iv)({columnGap:C.q3,display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},"")},w&&(0,g.tZ)(D.D,{leg:P.legs.first(),optionOrder:P}),(0,g.tZ)(h.B,{label:o||(o=(0,g.tZ)(_.DH,{id:"Time in force",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(_.DH,P.timeInForceMessage)}),(0,g.tZ)(h.B,{label:i||(i=(0,g.tZ)(_.DH,{id:"Submitted",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(y.FormattedTime,{day:"numeric",month:"numeric",timeZoneName:"short",value:P.created_at,year:k?void 0:"2-digit"})}),(0,g.tZ)(h.B,{label:a||(a=(0,g.tZ)(_.DH,{id:"Quantity",status:"legacy"})),value:(0,g.tZ)(y.FormattedNumber,{value:Number(P.quantity)})}),E&&T&&(0,g.tZ)(h.B,{label:s||(s=(0,g.tZ)(_.DH,{id:"Account",status:"legacy"})),value:(0,g.tZ)(_.DH,E.label)}),(0,g.tZ)(h.B,{label:l||(l=(0,g.tZ)(_.DH,{id:"Status",status:"legacy"})),value:(0,g.tZ)(_.DH,P.stateMessage)}),w&&(0,g.tZ)(O.k,{leg:P.legs.first()}),P.hasNonzeroStopPrice&&(0,g.tZ)(h.B,{label:c||(c=(0,g.tZ)(_.DH,{defaultMessage:"Stop price",id:"Fields.StopPrice",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(v.tA,{value:P.stop_price})}),P.hasNonzeroPrice&&(0,g.tZ)(h.B,{label:u||(u=(0,g.tZ)(_.DH,{defaultMessage:"Limit price",id:"Fields.LimitPrice",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(v.tA,{value:P.price})}),(null==Z||null===(n=Z.amount)||void 0===n?void 0:n.amount)&&(0,g.tZ)(m.Fragment,null,(0,g.tZ)(h.B,{label:d||(d=(0,g.tZ)(_.DH,{defaultMessage:"Backup withholding",id:"Fields.BackupWithholding",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(v.tA,{value:-(null==Z||null===(r=Z.amount)||void 0===r?void 0:r.amount)})}),(0,g.tZ)(h.B,{label:p||(p=(0,g.tZ)(_.DH,{defaultMessage:"Net credit",id:"Fields.NetCredit",redOakId:"2418226",status:"approved"})),value:(0,g.tZ)(v.tA,{value:Number(P.processed_premium)-(Number(null==Z||null===(S=Z.amount)||void 0===S?void 0:S.amount)||0)})})),P.hasFills&&(0,g.tZ)(h.B,{label:(0,g.tZ)(_.DH,{defaultMessage:"Total {costOrCredit}",id:"Fields.Total",redOakId:"2819976",status:"approved",values:{costOrCredit:I?"cost":"credit"}}),value:(0,g.tZ)(v.tA,{value:P.processed_premium})})),!w&&(0,g.tZ)(LegsSection,{optionOrder:P}))}},94865:(e,t,n)=>{"use strict";n.d(t,{S:()=>FilledQuantity});n(27378);var r=n(25718),o=n(93284),i=n(10043);function FilledQuantity(e){let{leg:t}=e;return(0,i.tZ)(o.DH,{defaultMessage:"{filledQuantity, number} {filledQuantity, plural,\n        one {contract}\n        other {contracts}\n      } at {averagePrice}",id:"OptionOrderActivityItem.Fields.filledQuantity",redOakId:"2418226",status:"approved",values:{averagePrice:(0,i.tZ)(r.tA,{value:t.averagePrice}),filledQuantity:t.filledQuantity}})}},8815:(e,t,n)=>{"use strict";n.d(t,{SA:()=>yt,ol:()=>ScheduleAmount,Xp:()=>ScheduleSubtitle,Hr:()=>ScheduleTitle});var r=n(25773),o=n(8139),i=n.n(o),a=n(27378),s=n(1460),l=n(10959),c=n(35002),u=n(21675),d=n(58343),p=n(38978),g=n(32086),m=n(24498),y=n(67527),f=n(85770),v=n(30156),h=n(33175),_=n(25718),b=n(62865),C=n(44574),O=n(93284),S=n(87550),E=n(15238),P=n(26093),Z=n(47043),D=n(10043),T=n(84136),w=n(21676),I=n(82665),k=n(61096),x=n(32637),R=n(71075),M=n(89263),L=n(12633),A=n(55534),F=n(50169),N=n(23104),B=n(5310),j=n(79167),H=n(66979),U=n(76657);const z={body:{marginBottom:2*F.q3},error:{marginTop:F.q3},form:{marginTop:34,width:450},header:{marginBottom:16}};function Error(e){var t;let{error:n}=e;return n?(0,D.tZ)(d.J,{color:p.E1.Negative},(e=>{let{rootClassName:r}=e;return(0,D.tZ)("div",{className:r,css:z.error},t||(t=(0,D.tZ)(u.Dy.Text,{size:"S"},n)))})):null}function TakeoverForm(e){let{children:t,error:n,footer:r,header:o,onClose:i,onSubmit:a}=e;return(0,D.tZ)(U.D,{onClose:i},(0,D.tZ)("form",{css:z.form,onSubmit:async e=>{e.preventDefault(),a()}},(0,D.tZ)("h2",{css:z.header},o),(0,D.tZ)("div",{css:z.body},t),r,(0,D.tZ)(Error,{error:n})))}var W,q,Y=n(53291),V=n(64649),G=n(91906);const K={asset_type:"equity",components:[],id:"",menu_button:void 0};let Q=(0,L.OF)((q=class RecurringInsightsRecord extends((0,G.A)(K,"RecurringInsightsRecord")){},(0,V.Z)(q,"urlPath","/recurring/insights/"),W=q))||W;var X;const J={[M.TE.STATE_PAUSED]:{body:(0,O.b2)({defaultMessage:"This investment will be paused starting today. You can resume it anytime in your recurring investment overview.",id:"Recurring.ActivityItem.UpdateStateWizard.pause.body",status:"legacy"}),footer:(0,O.b2)({defaultMessage:"Pause investment",id:"Recurring.ActivityItem.UpdateStateWizard.pause.footer",status:"legacy"}),header:(0,O.b2)({defaultMessage:"Pause {symbol} investment?",id:"Recurring.ActivityItem.UpdateStateWizard.pause.header",status:"legacy"})},[M.TE.STATE_ACTIVE]:{body:(0,O.b2)({defaultMessage:"This investment will resume today.",id:"Recurring.ActivityItem.UpdateStateWizard.resume.body",status:"legacy"}),footer:(0,O.b2)({defaultMessage:"Resume investment",id:"Recurring.ActivityItem.UpdateStateWizard.resume.footer",status:"legacy"}),header:(0,O.b2)({defaultMessage:"Resume {symbol} investment?",id:"Recurring.ActivityItem.UpdateStateWizard.resume.header",status:"legacy"})},[M.TE.STATE_DELETED]:{body:(0,O.b2)({defaultMessage:"This means your {symbol} investment will no longer be scheduled.",id:"Recurring.ActivityItem.UpdateStateWizard.delete.body",status:"legacy"}),footer:(0,O.b2)({defaultMessage:"End recurring investment",id:"Recurring.ActivityItem.UpdateStateWizard.delete.footer",status:"legacy"}),header:(0,O.b2)({defaultMessage:"End your {symbol} investment?",id:"Recurring.ActivityItem.UpdateStateWizard.delete.header",status:"legacy"})}};function RecuringActivityUpdateStateFooter(e){var t;let{newScheduleState:n,onClose:r,stage:o}=e;return(0,D.tZ)(B.p,{color:n===M.TE.STATE_DELETED?p.E1.Negative:p.E1.Positive},(e=>{let{rootClassName:i}=e;return(0,D.tZ)("div",{className:i,css:(0,D.iv)({display:"grid",gap:F.q3,grid:"auto / 1fr 1fr",marginTop:2*F.q3},"")},(0,D.tZ)(H.w,{"data-testid":E.c.Sliver.recurring.updateWizardSubmitButton,isFullWidth:!0,loading:o!==j.oI.Editing,type:"submit"},(0,D.tZ)(O.DH,J[n].footer)),t||(t=(0,D.tZ)(H.w,{isFullWidth:!0,onClick:r,secondary:!0,type:"button"},X||(X=(0,D.tZ)(O.DH,{defaultMessage:"Keep investment",id:"Recurring.ActivityItem.UpdateStateWizard.keepInvestmentButton",status:"legacy"})))))}))}function RecurringActivityUpdateStateWizard(e){let{newScheduleState:t,onClose:n,schedule:o}=e;const[i,s]=(0,a.useState)(j.oI.Editing),[l,c]=(0,a.useState)(""),d=(0,N.useDispatch)(),p=(0,L.C$)(),g=(0,Y.j)({schedule:o}),onError=e=>{const t=JSON.parse(e.response.text).detail;s(j.oI.Editing),c(t)},handleClose=()=>{o.state!==t&&function loadUserLeapSurvey(e){e===M.TE.STATE_DELETED?(0,b.HU)("track","recurring-investments-delete"):e===M.TE.STATE_PAUSED&&(0,b.HU)("track","recurring-investments-pause")}(t),t===M.TE.STATE_DELETED&&o.isPaycheckInvestment&&g(),n()};return(0,D.tZ)(TakeoverForm,{error:l,footer:(0,D.tZ)(RecuringActivityUpdateStateFooter,{newScheduleState:t,onClose:n,stage:i}),header:(0,D.tZ)(O.DH,(0,r.Z)({},J[t].header,{values:{symbol:o.investment_asset.asset_symbol}})),onClose:n,onSubmit:()=>{s(j.oI.Submitting),d(M.g8.issueUpdate(o,{state:t},{partial:!0})).meta.promise.then((()=>{p.invalidate({model:Q,params:{id:o.id}}),handleClose()}),onError)}},(0,D.tZ)(u.Dy.Text,{size:"M"},(0,D.tZ)(O.DH,(0,r.Z)({},J[t].body,{values:{symbol:o.investment_asset.asset_symbol}}))))}var $,ee,te,ne;const re={editButton:{name:"1tx1l5v",styles:"margin-right:auto"},footer:(0,D.iv)({"a:last-of-type":{gridColumn:3,textAlign:"end"},display:"grid",gap:3*F.q3,grid:"auto / auto auto 1fr",marginTop:F.q3},""),footerInsights:(0,D.iv)({borderTop:"1px solid ".concat(p.ZV.neutral.bg3),display:"flex",flexDirection:"row",gap:3*F.q3,justifyContent:"flex-end",marginTop:2*F.q3,paddingTop:2*F.q3},"")};function RecurringActivityFooter(e){let{account:t,assetBuyingPower:n,schedule:r}=e;const[o,i]=a.useState(!1),[s,l]=a.useState(!1),[c,g]=a.useState(r.state),m=(0,L.C$)(),handleUpdateWizardClick=e=>n=>{n.preventDefault(),l(!0),g(e),t.isRetirementAccount&&m.invalidate({model:A.N})};return(0,D.tZ)("div",{css:re.footer},(0,D.tZ)(I.I,{onClick:e=>{e.preventDefault(),i(!0)}},$||($=(0,D.tZ)(O.DH,{defaultMessage:"Edit investment",id:"Recurring.ActivityItem.Footer.EditLink",status:"legacy"}))),r.isPaused?(null==n||!r.shouldUpdatePayment(n))&&(0,D.tZ)(I.I,{"data-testid":E.c.Sliver.recurring.scheduleResumeItemLink,onClick:handleUpdateWizardClick(M.TE.STATE_ACTIVE)},ee||(ee=(0,D.tZ)(O.DH,{defaultMessage:"Resume investment",id:"Recurring.ActivityItem.Footer.ResumeLink",status:"legacy"}))):(0,D.tZ)(I.I,{onClick:handleUpdateWizardClick(M.TE.STATE_PAUSED)},te||(te=(0,D.tZ)(O.DH,{defaultMessage:"Pause investment",id:"Recurring.ActivityItem.Footer.PauseLink",status:"legacy"}))),(0,D.tZ)(d.J,{color:p.E1.Negative},(e=>{let{rootClassName:t}=e;return(0,D.tZ)(I.I,{className:t,onClick:handleUpdateWizardClick(M.TE.STATE_DELETED)},ne||(ne=(0,D.tZ)(u.Dy.Text,{isBold:!0,size:"S"},(0,D.tZ)(O.DH,{defaultMessage:"End recurring investment",id:"Recurring.ActivityItem.Footer.CancelLink",status:"legacy"}))))})),o&&(0,D.tZ)(x.b,{account:t,flow:R.H.Editing,onWizardClose:()=>i(!1),schedule:r}),r.state!==c&&s&&(0,D.tZ)(RecurringActivityUpdateStateWizard,{newScheduleState:c,onClose:()=>{l(!1),g(r.state)},schedule:r}))}function RecurringActivityFooterInsights(e){var t;let{account:n,assetBuyingPower:r,schedule:o}=e;const[i,s]=a.useState(!1),[l,c]=a.useState(!1),[u,d]=a.useState(o.state),handleEditWizardClick=e=>{e.preventDefault(),s(!0)},handleUpdateWizardClick=e=>t=>{t.preventDefault(),c(!0),d(e)};return(0,D.tZ)("div",{css:re.footerInsights},(0,D.tZ)(T.P,null,(e=>{let{rootClassName:n}=e;return(0,D.tZ)("div",{className:n,css:re.editButton},t||(t=(0,D.tZ)(w.z,{id:"Recurring.ActivityItem.Footer.EditLink",label:"Edit investment",onClick:handleEditWizardClick,size:"compact",type:"button",variant:"secondary"})))})),o.isPaused?(null==r||!o.shouldUpdatePayment(r))&&(0,D.tZ)(k.A,{"data-testid":E.c.Sliver.recurring.scheduleResumeItemLink,id:"Recurring.ActivityItem.Footer.ResumeLink",label:"Resume investment",onClick:handleUpdateWizardClick(M.TE.STATE_ACTIVE),type:"button"}):(0,D.tZ)(k.A,{id:"Recurring.ActivityItem.Footer.PauseLink",label:"Pause investment",onClick:handleUpdateWizardClick(M.TE.STATE_PAUSED),type:"button"}),(0,D.tZ)(k.A,{id:"Recurring.ActivityItem.Footer.CancelLink",label:"End investment",onClick:handleUpdateWizardClick(M.TE.STATE_DELETED),type:"button"}),i&&(0,D.tZ)(x.b,{account:n,flow:R.H.Editing,onWizardClose:()=>s(!1),schedule:o}),o.state!==u&&l&&(0,D.tZ)(RecurringActivityUpdateStateWizard,{newScheduleState:u,onClose:()=>{c(!1),d(o.state)},schedule:o}))}var oe,ie,ae,se,le,ce=n(97224),ue=n(47789),de=n(42925),pe=n(6377),ge=n(85945),me=n(60328),ye=n(66396),fe=n(83515),ve=n(25142),he=n(20625),_e=n(66808),be=n(25933),Ce=n(22170),Oe=n(34955),Se=(n(49597),n(84860)),Ee=n(78090),Pe=n(76312),Ze=n(33996),De=n.n(Ze);!function(e){e.Editing="editing",e.Submitting="submitting",e.UpdateError="update_error",e.BulkUpdateError="bulk_update_error"}(le||(le={}));const Te=[M.L6.EQUITY,M.L6.CRYPTO];var we={name:"ohi38b",styles:"display:block;margin:0 auto 12px auto"};const Ie=(0,Pe.I)((function RecurringActivityAddBackupPaymentWizard(e){let{asset:t,onClose:n,schedule:r}=e;const o=(0,O.og)(),i=(0,L.C$)(),s={label:o.formatMessage({defaultMessage:"Select a backup payment method",id:"RecurringActivityUpdateBackupPaymentWizard.selectBackupPayment",status:"legacy"}),type:be.i.ACH_RELATIONSHIP,value:null},l={many:!0,model:M.g8,params:{asset_types:Te,has_active_backup_payment:"False",source_of_funds:be.i.BUYING_POWER}};(0,a.useEffect)((()=>{i.invalidate(l)}),[l,i]);const c=(0,y.X_)((0,L.tT)(l)),[u,d]=(0,a.useState)(!1),[g,m]=(0,a.useState)(s),[f,v]=(0,a.useState)(le.Editing);let h;return h=f===le.Submitting?"loading":null==(null==g?void 0:g.value)?"disabled":"default",f===le.BulkUpdateError?(0,D.tZ)(Se.q,{onClose:n,title:(0,D.tZ)("div",null,(0,D.tZ)("img",{css:we,role:"presentation",src:De()}),oe||(oe=(0,D.tZ)(O.DH,{defaultMessage:"Backup payment not applied to other orders",id:"RecurringActivityAddBackupPaymentWizard.bulkUpdateError.title",status:"legacy"}))),type:"medium"},ie||(ie=(0,D.tZ)("p",null,(0,D.tZ)(O.DH,{defaultMessage:"Something went wrong on our end. We aren't able to update your other recurring orders right now.",id:"RecurringActivityAddBackupPaymentWizard.bulkUpdateError.body",status:"legacy"}))),(0,D.tZ)(Ce.z,{color:p.E1.Error,label:o.formatMessage({defaultMessage:"Dismiss",id:"RecurringActivityEditWizard.action.dismiss",status:"legacy"}),onClick:n,type:"submit",width:"full"})):(0,D.tZ)(TakeoverForm,{error:f===le.UpdateError?ae||(ae=(0,D.tZ)(O.DH,{defaultMessage:"Something went wrong, please try again.",id:"RecurringActivityEditWizard.errorMessage",status:"legacy"})):null,footer:(0,D.tZ)(Oe.h,{isFullWidth:!0,primaryButton:(0,D.tZ)(Ce.z,{label:o.formatMessage({defaultMessage:"Cancel",id:"RecurringActivityEditWizard.action.cancel",status:"legacy"}),onClick:n,type:"button",variant:"secondary"}),secondaryButton:(0,D.tZ)(Ce.z,{label:o.formatMessage({defaultMessage:"Save",id:"RecurringActivityEditWizard.action.save",status:"legacy"}),state:h,type:"submit"})}),header:se||(se=(0,D.tZ)(O.DH,{defaultMessage:"Add Backup Payment",id:"RecurringActivityUpdateBackupPaymentWizard.title",status:"legacy"})),onClose:n,onSubmit:async()=>{v(le.Submitting);const e={ach_relationship_id:null==g?void 0:g.value,is_backup_ach_enabled:!0};try{await i.update(r,e)}catch(e){return void v(le.UpdateError)}if(u)try{await Promise.all(Te.map((async t=>{const n=c.filter((e=>e.id!==r.id&&!e.is_backup_ach_enabled&&e.investment_asset.asset_type===M.L6.CRYPTO==(t===M.L6.CRYPTO))).map((e=>e.id)).toArray();n.length&&await M.g8.bulkUpdate(n,e,t)}))),await i.get({many:!0,model:M.g8,params:{asset_types:Te,source_of_funds:be.i.BUYING_POWER}})}catch(e){return void v(le.BulkUpdateError)}n()}},(0,D.tZ)(Ee.n,{asset:t,defaultSource:s,isDisabled:!1,onSetRecurringFundsSource:m,recurringFundsSource:g}),!1)}),null);var ke,xe,Re,Me=n(29881);function RecurringActivityUpdatePaymentFooter(e){let{onClose:t}=e;return(0,D.tZ)("span",{css:(0,D.iv)({display:"grid",gap:F.q3,grid:"auto / 1fr 1fr",marginTop:2*F.q3},"")},(0,D.tZ)(H.w,{css:(0,D.iv)({marginTop:F.q3},""),type:"submit"},ke||(ke=(0,D.tZ)(O.DH,{defaultMessage:"Save",id:"RecurringActivityEditWizard.action.edit",status:"legacy"}))),(0,D.tZ)(H.w,{css:(0,D.iv)({marginTop:F.q3},""),onClick:t,secondary:!0,type:"button"},xe||(xe=(0,D.tZ)(O.DH,{defaultMessage:"Edit",id:"RecurringActivityEditWizard.action.edit",status:"legacy"}))))}const Le=function RecurringActivityUpdatePaymentWizard(e){let{asset:t,onClose:n,schedule:r}=e;const o=(0,N.useDispatch)(),[i,s]=(0,a.useState)(Me.cc);return(0,D.tZ)(TakeoverForm,{footer:(0,D.tZ)(RecurringActivityUpdatePaymentFooter,{onClose:n}),header:Re||(Re=(0,D.tZ)(O.DH,{defaultMessage:"Update Payment Method",id:"RecurringActivityUpdatePaymentWizard.title",status:"legacy"})),onClose:n,onSubmit:async()=>{await o(M.g8.issueUpdate(r,{ach_relationship_id:i.value,source_of_funds:i.type===be.i.BUYING_POWER?be.i.BUYING_POWER:be.i.ACH_RELATIONSHIP},{partial:!0})).meta.promise,n()}},(0,D.tZ)(Me.fl,{areFieldsDisabled:!1,asset:t,onSetRecurringFundsSource:s,recurringFundsSource:i,scheduleFrequency:r.frequency,shouldUseLongField:!0}))};var Ae,Fe,Ne,Be,je,He,Ue,ze,We,qe,Ye,Ve,Ge;var Ke={name:"1dtifey",styles:"display:flex;text-transform:capitalize"};function PaymentLabel(e){let{achRelationship:t,assetBuyingPower:n,directDepositRelationships:r,handleDepositWizardOpen:o,handlePaymentWizardOpen:i,isRetirementAccount:s,schedule:l}=e;const u=(0,ce.VD)(ue.h2.Prime);if(null!=n&&l.shouldUpdatePayment(n))return l.source_of_funds===be.i.ACH_RELATIONSHIP?(0,D.tZ)(I.I,{onClick:i},Ae||(Ae=(0,D.tZ)(O.DH,{defaultMessage:"Update Payment Method",id:"RecurringActivityItemFields.updatePaymentMethodMsg",status:"legacy"}))):(0,D.tZ)(I.I,{"data-testid":E.c.Sliver.recurring.scheduleItemDepositLink,onClick:o},Fe||(Fe=(0,D.tZ)(O.DH,{defaultMessage:"Deposit Funds",id:"RecurringActivityItemFields.depositFunds",status:"legacy"})));if(l.source_of_funds===be.i.ACH_RELATIONSHIP){const e=s,n=(0,D.tZ)("div",{style:{alignItems:"center",display:"flex",justifyContent:"right"}},(0,D.tZ)(c.sg,{"aria-label":"retirementIcon",color:p.E1.Positive,type:"Retirement16"}),(0,D.tZ)("span",{css:(0,D.iv)({color:u},"")},e&&"Match"));return(0,D.tZ)("div",{css:Ke},(0,D.tZ)(O.DH,{defaultMessage:"{name} ••••{lastFour}",id:"RecurringActivityItemFields.relationship.ach.description",status:"legacy",values:{lastFour:null==t?void 0:t.bank_account_number,name:null==t?void 0:t.bank_account_nickname}}),e&&(0,D.tZ)(a.Fragment,null," · "," ",(0,D.tZ)("span",{css:(0,D.iv)({color:u},"")},n)))}if(l.source_of_funds===be.i.DIRECT_DEPOSIT){var d;const e=null==r?void 0:r.find((e=>e.id===l.direct_deposit_relationship_id));return(0,D.tZ)(O.DH,{defaultMessage:"{originatorName}",id:"RecurringActivityItemFields.relationship.directDeposit.description",status:"legacy",values:{originatorName:null!==(d=null==e?void 0:e.originator_name)&&void 0!==d?d:"--"}})}return Ne||(Ne=(0,D.tZ)(O.DH,{defaultMessage:"Buying power",id:"RecurringActivityItemFields.buyingpower",status:"legacy"}))}function BackupPaymentLabel(e){var t,n;let{onAddBackupPaymentOpen:r,schedule:o}=e;const i=(0,O.og)(),{ach_relationship_id:s,backup_payment_removal_reason:l,is_backup_ach_enabled:c}=o,u=(0,L.tT)({disabled:null==s,model:ye.ao,params:{id:s}});return l&&l!==M.XM.USER_INITIATED?(0,D.tZ)(k.A,{isLegacyStyle:!0,label:i.formatMessage({defaultMessage:"Update Backup Payment",id:"RecurringActivityItemFields.updateBackupPayment",status:"legacy"}),onClick:r,type:"anchor"}):c?(0,D.tZ)(a.Fragment,null,null!==(t=null===(n=u.result)||void 0===n?void 0:n.bank_account_nickname)&&void 0!==t?t:Be||(Be=(0,D.tZ)(he.B,{height:12,width:100},(0,D.tZ)(he.F,{height:12,width:100})))):(0,D.tZ)(k.A,{isLegacyStyle:!0,label:i.formatMessage({defaultMessage:"Add Backup Payment",id:"RecurringActivityItemFields.addBackupPayment",status:"legacy"}),onClick:r,type:"anchor"})}var Qe={name:"1yvcaec",styles:"padding-right:4px"};function ScheduleAlert(e){let{alertRecord:t}=e;return null!=t&&t.alert?(0,D.tZ)("div",{css:(0,D.iv)({marginBottom:2*F.q3},""),"data-testid":E.c.Sliver.recurring.scheduleItemPausedContent},(0,D.tZ)("span",{css:Qe},je||(je=(0,D.tZ)(c.sg,{type:"Info16"}))),(0,D.tZ)(ge.H,{value:null==t?void 0:t.alert})):null}var Xe={name:"1tpdvqq",styles:"width:240px"};function PriceChangeTooltip(e){let{asset:t}=e;const n=(0,O.B2)({crypto:{defaultMessage:"This is the percentage change in {symbol}'s price since your first recurring order.",id:"PriceChangeMsg.crypto",status:"legacy"},equity:{defaultMessage:"This is the percentage change in {symbol}'s price since your first recurring order. It's been adjusted to account for stock splits.",id:"PriceChangeMsg.equity",status:"legacy"}});let o;return o=t instanceof pe.s?t.asset_currency.code:null==t?void 0:t.symbol,(0,D.tZ)(_e.w,{content:(0,D.tZ)("div",{css:Xe},He||(He=(0,D.tZ)("div",null,(0,D.tZ)(u.Dy.Text,{isBold:!0,size:"M"},(0,D.tZ)(O.DH,{defaultMessage:"What does price change mean?",id:"priceChangeToolTip.popover.title",status:"legacy"})))),(0,D.tZ)("div",{css:(0,D.iv)({marginTop:F.q3},"")},(0,D.tZ)(u.Dy.Text,{size:"S"},(0,D.tZ)(O.DH,(0,r.Z)({},t instanceof C.k0?n.equity:n.crypto,{values:{symbol:o}}))))),marginTop:F.q3,trigger:"mouseover"})}var Je={name:"kff9ir",styles:"text-transform:capitalize"};function RecurringFirstInvestmentDateField(e){let{firstInvestmentDate:t,startDate:n}=e;const r=(0,S.ak)(null!=t?t:n);return(0,D.tZ)(ve.B,{label:Ue||(Ue=(0,D.tZ)(O.DH,{defaultMessage:"First investment date",id:"RecurringActivityItemFields.firstInvestmentDate",status:"legacy"})),value:(0,D.tZ)("span",{css:Je},t?r:"--")})}var $e={name:"q82x4k",styles:"align-items:center;display:flex;flex-direction:row"};function RecurringActivityItemFields(e){let{account:t,achRelationship:n,asset:r,assetBuyingPower:o,directDepositRelationships:i,quote:l,schedule:c}=e;const[u,d]=a.useState(!1),p=c.percentChangeInPrice(l instanceof C.Z9?l.marketPrice:l.mark_price),[g,m]=a.useState(!1),[v,h]=a.useState(!1),b=(0,L.C$)();(0,a.useEffect)((()=>{b.invalidate({model:de.InvestmentScheduleAlertRecord,params:{accountNumber:t.account_number,scheduleId:c.id}})}),[t.account_number,b,c.id,c.updated_at]);const S=(0,y.X_)((0,y.S3)((0,L.tT)({model:de.InvestmentScheduleAlertRecord,params:{accountNumber:t.account_number,scheduleId:c.id}})));return(0,D.tZ)(a.Fragment,null,(0,D.tZ)(ScheduleAlert,{alertRecord:S.result}),(0,D.tZ)("div",{className:"grid-3"},(0,D.tZ)(ve.B,{label:ze||(ze=(0,D.tZ)(O.DH,{defaultMessage:"Amount",id:"RecurringActivityItemFields.amount",status:"legacy"})),value:c.isPaycheckInvestment&&0!==c.percentageOfDirectDeposit?(0,D.tZ)(s.FormattedNumber,{maximumFractionDigits:0,style:"unit",unit:"percent",value:c.percentageOfDirectDeposit}):(0,D.tZ)(_.tA,{value:c.dollarAmount})}),(0,D.tZ)(ve.B,{label:We||(We=(0,D.tZ)(O.DH,{defaultMessage:"Frequency",id:"RecurringActivityItemFields.frequency",status:"legacy"})),value:(0,D.tZ)(O.DH,(c.isCrypto?f._5:f.mu)[c.frequency])}),(0,D.tZ)(ve.B,{label:qe||(qe=(0,D.tZ)(O.DH,{defaultMessage:"Payment",id:"RecurringActivityItemFields.payment",status:"legacy"})),value:(0,D.tZ)(PaymentLabel,{achRelationship:n,assetBuyingPower:o,directDepositRelationships:i,handleDepositWizardOpen:()=>m(!0),handlePaymentWizardOpen:()=>d(!0),isRetirementAccount:t.isRetirementAccount,schedule:c})})),(0,D.tZ)("div",{className:"grid-3"},c.source_of_funds===be.i.BUYING_POWER&&(0,D.tZ)(ve.B,{label:Ye||(Ye=(0,D.tZ)(O.DH,{defaultMessage:"Backup payment",id:"RecurringActivityItemFields.backupPayment",status:"legacy"})),value:(0,D.tZ)(BackupPaymentLabel,{onAddBackupPaymentOpen:()=>h(!0),schedule:c})}),(0,D.tZ)(ve.B,{label:Ve||(Ve=(0,D.tZ)(O.DH,{defaultMessage:"Total invested",id:"RecurringActivityItemFields.totalInvested",status:"legacy"})),value:(0,D.tZ)(_.tA,{value:c.totalInvested})}),(0,D.tZ)(ve.B,{label:(0,D.tZ)("div",{css:$e},Ge||(Ge=(0,D.tZ)(O.DH,{defaultMessage:"Price change",id:"RecurringActivityItemFields.priceChange",status:"legacy"})),(0,D.tZ)(PriceChangeTooltip,{asset:r})),value:(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemPriceChange},"string"==typeof p?p:(0,D.tZ)(s.FormattedNumber,{maximumFractionDigits:2,minimumFractionDigits:2,style:"percent",value:p}))}),(0,D.tZ)(RecurringFirstInvestmentDateField,{firstInvestmentDate:c.firstInvestmentDate,startDate:c.startDate})),u&&(0,D.tZ)(Le,{asset:r,onClose:()=>d(!1),schedule:c}),g&&(0,D.tZ)(me.W,{depositAmount:c.suggestedBuyingPowerForNexInvestment,onComplete:()=>m(!1),toAccountType:fe.hc.Brokerage}),v&&(0,D.tZ)(Ie,{asset:r,onClose:()=>h(!1),schedule:c}))}var et,tt,nt,rt,ot=n(51356),it=n(49424),at=n(31965),st=n(25934),lt=n(58949),ct=n(5261);function RecurringInsightsSection(e){let{schedule:t}=e;const n=(0,L.tT)({model:Q,params:{id:t.id}}),{onAction:r}=(0,st.bY)();return n.result?(0,D.tZ)(it.Y,{components:n.result.components,customComponents:{[at.ComponentType.RecurringInsightsHeader]:lt.c,[at.ComponentType.RecurringInsightsVisualization]:ct.L},onAction:r}):et||(et=(0,D.tZ)(ot.q,null))}const ut=(0,O.B2)({active:{defaultMessage:"Next {nextDateMsg}",id:"Recurring.ActivityItem.Subtitle.NextOn",status:"legacy"},paused:{defaultMessage:"Paused",id:"Recurring.ActivityItem.Subtitle.Paused",status:"legacy"}}),dt=(0,O.B2)({active:{defaultMessage:"{frequency} ·{next} {nextDateMsg}",id:"Recurring.ActivityItem.Subtitle.NextOn",status:"legacy"},multipleAccountsActive:{defaultMessage:"{accountLabel} ·{next} {nextDateMsg}",id:"Recurring.ActivityItem.Subtitle.MultipleAccountsNextOn",status:"legacy"},multipleAccountsPaused:{defaultMessage:"{accountLabel} · Paused",id:"Recurring.ActivityItem.Subtitle.MultipleAccountsPaused",status:"legacy"},paused:{defaultMessage:"{frequency} · Paused",id:"Recurring.ActivityItem.Subtitle.Paused",status:"legacy"}});function ScheduleAmount(e){let{assetBuyingPower:t,dollarAmount:n,schedule:r,size:o="M"}=e;if(null!=t&&r.shouldUpdatePayment(t))return tt||(tt=(0,D.tZ)(c.sg,{type:"Alert24"}));const i=(0,D.tZ)(u.Dy.Text,{size:o},r.isPaycheckInvestment&&0!==r.percentageOfDirectDeposit?(0,D.tZ)(s.FormattedNumber,{maximumFractionDigits:0,style:"unit",unit:"percent",value:r.percentageOfDirectDeposit}):(0,D.tZ)(_.tA,{value:n}));return r.isPaused?(0,D.tZ)(d.J,{color:p.Wt.Fg3},(e=>{let{rootClassName:t}=e;return(0,D.tZ)("span",{className:t},i)})):i}var pt={name:"kff9ir",styles:"text-transform:capitalize"};function ScheduleTitle(e){let t,{asset:n,multipleAccounts:r,schedule:o,shouldShowSymbol:i}=e;if(t=i?n instanceof C.k0?n.symbol:n.asset_currency.code:n instanceof C.k0?n.simpleName:n.asset_currency.name,o&&r){const e=o.frequency;return(0,D.tZ)("span",{css:pt,"data-testid":E.c.Sliver.recurring.scheduleItemTitle},n instanceof C.k0?(0,D.tZ)(O.DH,{defaultMessage:"{name} {frequency} Buy",id:"Recurring.ActivityItem.EquityTitle",status:"legacy",values:{frequency:e,name:t}}):(0,D.tZ)(O.DH,{defaultMessage:"{name} Crypto {frequency} buy",id:"Recurring.ActivityItem.CryptoTitle",status:"legacy",values:{frequency:e,name:t}}))}return(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemTitle},n instanceof C.k0?(0,D.tZ)(O.DH,{defaultMessage:"{name} recurring buy",id:"Recurring.ActivityItem.EquityTitle",status:"legacy",values:{name:t}}):(0,D.tZ)(O.DH,{defaultMessage:"{name} crypto recurring buy",id:"Recurring.ActivityItem.CryptoTitle",status:"legacy",values:{name:t}}))}var gt={name:"kff9ir",styles:"text-transform:capitalize"};function ScheduleSubtitle(e){let{directDepositRelationships:t,schedule:n}=e;if(n.isPaused)return(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,ut.paused));if(n.isPaycheckInvestment){const e=null==t?void 0:t.find((e=>e.id===n.direct_deposit_relationship_id));return e?(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,{defaultMessage:"{originator} paycheck",id:"Recurring.ActivityItem.Subtitle.Paycheck",status:"legacy",values:{originator:e.originator_name}})):nt||(nt=(0,D.tZ)(O.DH,{defaultMessage:"Paycheck",id:"Recurring.ActivityItem.Subtitle.Paycheck.placeholder",status:"legacy"}))}return(0,D.tZ)("span",{css:gt,"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,(0,r.Z)({},ut.active,{values:{nextDateMsg:(0,D.tZ)(g.A,{startDate:n.nextInvestmentDate})}})))}var mt={name:"kff9ir",styles:"text-transform:capitalize"};function ScheduleSubtitleInsights(e){var t;let{directDepositRelationships:n,multipleAccounts:o,schedule:i}=e;const a=(0,y.X_)((0,m.$p)()),s=null==a||null===(t=a.find((e=>e.account_number===i.account_number)))||void 0===t?void 0:t.label.defaultMessage,l=(0,S.ak)(i.nextInvestmentDate);if(i.isPaused)return(0,D.tZ)("span",{css:mt,"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,(0,r.Z)({},o&&s?dt.multipleAccountsPaused:dt.paused,{values:{accountLabel:s,frequency:(i.isCrypto?f._5:f.mu)[i.frequency].defaultMessage}})));if(i.isPaycheckInvestment){const e=null==n?void 0:n.find((e=>e.id===i.direct_deposit_relationship_id));return e?(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,{defaultMessage:"{originator} paycheck",id:"Recurring.ActivityItem.Subtitle.Paycheck",status:"legacy",values:{originator:e.originator_name}})):rt||(rt=(0,D.tZ)(O.DH,{defaultMessage:"Paycheck",id:"Recurring.ActivityItem.Subtitle.Paycheck.placeholder",status:"legacy"}))}return(0,D.tZ)("span",{"data-testid":E.c.Sliver.recurring.scheduleItemSubTitle},(0,D.tZ)(O.DH,(0,r.Z)({},o&&s?dt.multipleAccountsActive:dt.active,{values:{accountLabel:s,frequency:(i.isCrypto?f._5:f.mu)[i.frequency].defaultMessage,next:"tomorrow"!==l?" Next":"",nextDateMsg:(0,D.tZ)(g.A,{startDate:i.nextInvestmentDate})}})))}function RecurringExpandedDetailsSection(e){var t;let{account:n,achRelationship:r,asset:o,assetBuyingPower:i,directDepositRelationships:s,quote:l,schedule:c}=e;const u=null===(t=(0,h.E)(v.V.recurringInsights))||void 0===t?void 0:t.isMember();return(0,D.tZ)(a.Fragment,null,u?(0,D.tZ)(a.Fragment,null,(0,D.tZ)(RecurringInsightsSection,{schedule:c}),(0,D.tZ)(RecurringActivityFooterInsights,{account:n,assetBuyingPower:i,schedule:c})):(0,D.tZ)(a.Fragment,null,(0,D.tZ)(RecurringActivityItemFields,{account:n,achRelationship:r,asset:o,assetBuyingPower:i,directDepositRelationships:s,quote:l,schedule:c}),(0,D.tZ)(RecurringActivityFooter,{account:n,assetBuyingPower:i,schedule:c})))}const yt=(0,Z.t)((function _RecurringActivityItem(e){var t;let{schedule:n}=e;const{account:r,achRelationship:o,asset:s,assetBuyingPower:c,directDepositRelationships:u,quote:d}=(0,S.ck)(n),{investmentSchedule:p}=i().parse((0,l.TH)().search,{ignoreQueryPrefix:!0}),g=(0,a.useRef)(!1),[f,v]=(0,a.useState)(n.id===p),h=!(null===(t=(0,y.X_)((0,m.$p)()))||void 0===t||!t.size);return(0,a.useEffect)((()=>{p&&!g.current&&((0,b.dZ)({surveyName:"recurring-investments-manage",timeToLoadSurveyInMS:5e3}),g.current=!0)}),[p]),(0,D.tZ)(P.l,{"data-testid":E.c.Sliver.recurring.scheduleItem,isOpen:n.id===p,onStateChange:e=>{"expanded"===e&&((0,b.HU)("track","recurring-investments-view"),v(!0))},record:n,status:(0,D.tZ)(ScheduleAmount,{assetBuyingPower:c,dollarAmount:n.dollarAmount,schedule:n}),subtitle:(0,D.tZ)(ScheduleSubtitleInsights,{directDepositRelationships:u,multipleAccounts:h,schedule:n}),title:(0,D.tZ)(ScheduleTitle,{asset:s,multipleAccounts:h,schedule:n})},f?(0,D.tZ)(RecurringExpandedDetailsSection,{account:r,achRelationship:o,asset:s,assetBuyingPower:c,directDepositRelationships:u,quote:d,schedule:n}):(0,D.tZ)(a.Fragment,null))}))},58949:(e,t,n)=>{"use strict";n.d(t,{c:()=>RecurringInsightsHeader});n(27378);var r=n(21815),o=n(10043);function RecurringInsightsHeader(e){let{subtitle:t,title:n}=e;const{Renderer:i}=(0,r.O)();return(0,o.tZ)("div",null,(0,o.tZ)(i,{components:[n,t]}))}},5261:(e,t,n)=>{"use strict";n.d(t,{L:()=>RecurringInsightsVisualization});n(27378);var r=n(97224),o=n(21815),i=n(31965),a=n(76596),s=n(10043);const RecurringInsightsVisualizationTitleSubtitle=e=>{let{data:t}=e;const{Renderer:n}=(0,o.O)(),r={icon_with_action:t.title_icon,label:t.title.text,label_color_override:{dark:"fg2",light:"fg2"},sdui_component_type:i.ComponentType.DataRowStacked,value:t.subtitle.text};return(0,s.tZ)("div",{style:{width:176}},(0,s.tZ)(n,{components:[r]}))};function RecurringInsightsVisualization(e){let{first_data:t,second_data:n}=e;const o=(0,a.q9)(t.color),i=(0,a.q9)(t.stroke_color),l=(0,a.q9)(n.color),c=(0,a.q9)(n.stroke_color),u=(0,r.uI)().fg1;if(!t.accurate_size||!n.accurate_size)return null;const d=120*t.accurate_size,p=120*n.accurate_size;return(0,s.tZ)("div",{style:{display:"flex",flexDirection:"column"}},(0,s.tZ)("div",{style:{alignItems:"stretch",columnGap:48,display:"flex",flexDirection:"row",justifyContent:"flex-start"}},(0,s.tZ)(RecurringInsightsVisualizationTitleSubtitle,{data:t}),(0,s.tZ)(RecurringInsightsVisualizationTitleSubtitle,{data:n})),(0,s.tZ)("div",{style:{alignItems:"flex-end",borderBottom:"1px solid ".concat(u),columnGap:48,display:"flex",flexDirection:"row",justifyContent:"flex-start",marginTop:"24px"}},(0,s.tZ)("div",{style:{backgroundColor:o,border:"1px solid ".concat(i),borderBottom:"none",height:d,width:176}}),(0,s.tZ)("div",{style:{backgroundColor:l,border:"1px solid ".concat(c),borderBottom:"none",height:p,width:176}})))}},47043:(e,t,n)=>{"use strict";n.d(t,{t:()=>withActivityItemSuspense});n(27378);var r,o=n(76312),i=n(94915),a=n(10043);function withActivityItemSuspense(e){return(0,o.I)(e,r||(r=(0,a.tZ)(i.U,null)))}},57884:(e,t,n)=>{"use strict";n.d(t,{w:()=>DocumentRequestFlow});var r,o=n(53782),i=n(27378),a=n(78501),s=n(76312),l=n(10043);const c=["emptyFallback"],u=i.lazy((()=>Promise.all([n.e(80964),n.e(36097),n.e(23279)]).then(n.bind(n,81194)).then((e=>({default:e.DocumentRequestFlow})))));function DocumentRequestFlow(e){const{emptyFallback:t}=e,n=(0,o.Z)(e,c);return(0,l.tZ)(a._,{fallback:t?void 0:r||(r=(0,l.tZ)(s.D,null))},(0,l.tZ)(u,n))}},79158:(e,t,n)=>{"use strict";n.d(t,{E:()=>ye});var r=n(10043),o=n(27378),i=n(20549),a=n(21675),s=n(38978),l=n(51243),c=n(58343),u=n(35002),d=n(73367),p=n(53613),g=n(64533),m=n(97224),y=n(93284),f=n(7428);function DirectionIcon(e){let{className:t,downImage:n,upImage:o}=e;const i=(0,f.J)();return(0,r.tZ)("div",{className:t},i===d.Direction.Down?n:o)}var v,h,_=n(1323),b=n.n(_),C=n(93514),O=n.n(C);var S={name:"1xve8kz",styles:"height:64%;width:64%"};function EarningsCallImage(e){let{src:t}=e;const n=(0,y.og)().formatMessage({defaultMessage:"Trumpet",id:"EarningsCallNowText",status:"legacy"});return(0,r.tZ)("img",{alt:n,css:S,src:t})}var E,P,Z,D=n(21697),T=n.n(D),w=n(2538),I=n.n(w);const k=(()=>{const e=n(27378),t=e.lazy((()=>n.e(42300).then(n.t.bind(n,10965,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),x=(()=>{const e=n(27378),t=e.lazy((()=>n.e(7954).then(n.t.bind(n,11636,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),R=(()=>{const e=n(27378),t=e.lazy((()=>n.e(8240).then(n.t.bind(n,32122,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),M=(()=>{const e=n(27378),t=e.lazy((()=>n.e(29693).then(n.t.bind(n,74968,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),L=(()=>{const e=n(27378),t=e.lazy((()=>n.e(53459).then(n.t.bind(n,18876,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),A=(()=>{const e=n(27378),t=e.lazy((()=>n.e(56043).then(n.t.bind(n,98165,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),F=(()=>{const e=n(27378),t=e.lazy((()=>n.e(75001).then(n.t.bind(n,52990,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),N=(()=>{const e=n(27378),t=e.lazy((()=>n.e(50612).then(n.t.bind(n,98424,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),B=(()=>{const e=n(27378),t=e.lazy((()=>n.e(98600).then(n.t.bind(n,15267,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),j=(()=>{const e=n(27378),t=e.lazy((()=>n.e(29755).then(n.t.bind(n,87792,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),H=(()=>{const e=n(27378),t=e.lazy((()=>n.e(79690).then(n.t.bind(n,41315,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),U={"24_karat_gold_announcement":(0,r.tZ)(GoldIconWrapper,null),"24_karat_gold_migration":(0,r.tZ)(GoldIconWrapper,null),compliance_document:(0,r.tZ)(FingerprintIconWrapper,null),create_recurring_investment:(0,r.tZ)((function RecurringCryptoImgWrapper(){return P||(P=(0,r.tZ)("img",{src:I()}))}),null),crypto_reverify_residency_failed:(0,r.tZ)(GlobeIconWrapper,null),crypto_verify_residency:(0,r.tZ)(GlobeIconWrapper,null),crypto_verify_residency_approved_account:(0,r.tZ)(x,null),crypto_verify_residency_failed:(0,r.tZ)(GlobeIconWrapper,null),crypto_verify_residency_succeeded_avoided:(0,r.tZ)(x,null),deposit_verify_id:(0,r.tZ)(FingerprintIconWrapper,null),document_request_with_account:(0,r.tZ)(FingerprintIconWrapper,null),document_request_without_account:(0,r.tZ)(FingerprintIconWrapper,null),document_rerequest:(0,r.tZ)(FingerprintIconWrapper,null),early_pay_announcement:(0,r.tZ)(M,null),earnings_call_now:(0,r.tZ)((function EarningsCallNowIcon(e){let{className:t}=e;return(0,r.tZ)(DirectionIcon,{className:t,downImage:v||(v=(0,r.tZ)(EarningsCallImage,{src:b()})),upImage:h||(h=(0,r.tZ)(EarningsCallImage,{src:O()}))})}),null),margin_call_resolve:(0,r.tZ)(MarginCallArrowIcon,null),margin_call_warn:(0,r.tZ)(MarginCallArrowIcon,null),national_id_request:(0,r.tZ)(FingerprintIconWrapper,null),option_assignment:(0,r.tZ)(R,null),option_level_change:(0,r.tZ)(N,null),options_profit_loss:(0,r.tZ)(j,null),options_rolling:(0,r.tZ)((function OptionsRollingImgWrapper(){return Z||(Z=(0,r.tZ)("img",{src:T()}))}),null),options_watchlist:(0,r.tZ)(B,null),prc_request:(0,r.tZ)(FingerprintIconWrapper,null),valid_day_trade_call:(0,r.tZ)(F,null)};function MarginCallArrowIcon(){return(0,r.tZ)(k,{css:(0,r.iv)({fill:(0,m.uI)().fg1},"")})}function FingerprintIconWrapper(){return(0,r.tZ)(L,{css:(0,r.iv)({height:107,stroke:(0,m.uI)().fg2,width:107},"")})}var z={name:"1gjibu6",styles:"overflow:hidden;width:105px"};function GlobeIconWrapper(){return(0,r.tZ)("div",{css:z},E||(E=(0,r.tZ)(A,null)))}var W={name:"5rmd7n",styles:"height:100px;width:100px"};function GoldIconWrapper(){return(0,r.tZ)(H,{css:W})}function Megaphone(e){let{className:t,notification:n,onClick:o,onClose:i}=e;const a=U[n.type],s=function useNotificationSideImage(e){const t=(0,f.J)(),n=null==e?void 0:e.ios.asset_path;if(!n)return;const r=t===d.Direction.Down?"red":"green",o="".concat("https://cdn.robinhood.com/card_side_image_asset_v2/").concat(n,"/").concat(r,"/"),i=["1x","1.5x","2x","3x"],a=i.map((e=>"".concat(o).concat(e,".png ").concat(e)));return{src:"".concat(o).concat(i[0],".png"),srcSet:a.join(", ")}}(n.side_image);return(0,r.tZ)(p.O,{direction:n.isUrgent?d.Direction.Down:null,id:"Megaphone-notif-".concat(n.id),priority:2},(0,r.tZ)(g.nb,{actionLink:(0,r.tZ)(g.J9,{notification:n,onClick:()=>null==o?void 0:o(n)}),className:t,icon:a,image:s,isScary:n.isScary,isUrgent:n.isUrgent,onClose:n.fixed?void 0:function _onClose(e){e.preventDefault(),i&&i(n)},subtitle:n.message,title:n.title,type:n.type}))}var q=n(42925),Y=n(67527),V=n(30156),G=n(4849),K=n(86075),Q=n(6114),X=n(8810),J=n(11397),$=n(31063),ee=n(84974),te=n(25311);async function logMegaphoneCardEvent(e,t,n,r,o){return t.logEvent({event:{category:"notification_stack",data:{message:n.message,message_uuid:te.Y.idFromUrl(n.url),number_of_notifications:o.size-r,type:n.type,url:n.url},event:e}})}var ne=n(95181),re=n(12633),oe=n(76312),ie=n(15238),ae=n(93126);const se=new Set(["news","top_movers","top_sp500_losers","top_sp500_gainers","user_top_mover","price_movement","acats_status_completed","acats_status_failed","acats_residual","buy_executed","cash_sell_executed","corporate_action","currency_buy_executed","currency_sell_executed","deposit_completed","dividend_paid","to_stock_reward_claimed","from_stock_reward_claimed","margin_sell_executed","option_expiring_this_week","option_single_underlying_ntm_expiring_today","option_single_underlying_otm_expiring_today","option_expiration_long","pending_deposit","pending_withdrawal","pre_ipo_buy_placed","referral_to_knowledge_asset_cash_10","referral_from_completed_asset_cash_10","referral_from_completed_asset_stock","referral_to_completed_asset_cash_10","referral_to_completed_asset_cash_5","referral_to_completed_asset_stock","referral_to_knowledge","single_leg_option_buy_executed","single_leg_option_sell_executed","transfer_reversed","upcoming_dividend","withdrawal_completed"]);var le,ce,ue=n(25523);const de=300;var pe={name:"1c43rr7",styles:"overflow-x:hidden;position:relative"},ge={name:"lw7zsg",styles:"flex:0 0 100%"},me={name:"mkkf9p",styles:"flex:1 1 auto"};const ye=(0,oe.I)((function _MegaphoneSection(){const{showWebNUX:e}=(0,ue.VF)(),[t,n]=(0,Y.X_)((0,re.tT)({many:!0,model:q.AccountRecord}),(0,re.tT)({many:!0,model:q.NotificationRecord})),l=t.get(0),c=!!l&&!l.hasOptionsAccess,[u,d]=(0,o.useState)(!1),[,p]=(0,re.Db)(((e,t)=>e.delete(t))),[g,m]=(0,o.useState)(0),f=(0,G.n)(V.V.advancedAlertsV2),[v,h]=(0,o.useState)(!1),{addToast:_}=(0,i.pm)(),b=(0,ne.y)(),C=n.toSeq().filter((e=>function getCanShowInMegaphone(e){return!se.has(e.type)&&(!e.action||(0,ae.b)(e.action)||e.show_if_unsupported)}(e))).filter((e=>"options_invite"===e.type?c:"create_recurring_investment"===e.type?!b:"advanced_indicator_alerts"!==e.type||f)).toList(),onNotificationClick=e=>{logMegaphoneCardEvent("card_action",ee.YB,e,g,C)},onNotificationClose=async e=>{if(!u){d(!0);try{await p(e),g===C.size-1?m((e=>e-1)):C.size>1&&(h(!0),setTimeout((()=>h(!1)),de))}catch(e){_((0,r.tZ)(a.Dy.Text,{color:s.E1.Error,size:"S"},le||(le=(0,r.tZ)(y.DH,{defaultMessage:"There was an error dismissing your notification. Please try again.",id:"PortfolioDetail.MegaphoneSection.dismissError",status:"legacy"}))),{variant:"error"})}d(!1)}};return C.count()?(0,r.tZ)(Q.N,{css:pe},(0,r.tZ)(K.M,{onAppear:()=>{const e=C.get(g);logMegaphoneCardEvent("impression",ee.YB,e,g,C)},refId:g.toString()},e&&(ce||(ce=(0,r.tZ)(X.O,{title:(0,r.tZ)(y.DH,{defaultMessage:"Get more out of Robinhood",id:"MegaphoneSectionHeader",status:"legacy"})}))),(0,r.tZ)("div",{css:(0,r.iv)({display:"flex",left:"calc(".concat(-100*g,"%)"),position:"relative",transition:"left ".concat(de,"ms")}),"data-testid":ie.c.MegaphoneSectionNotificationsList},C.map(((e,t)=>{const n=v&&g===t;return(0,r.tZ)(o.Fragment,{key:e.card_id},n&&(0,r.tZ)("div",{css:ge}),(0,r.tZ)("div",{css:(0,r.iv)({display:"flex",flex:"0 0 100%",height:"calc(".concat(178,"px + (").concat(s.ZV.size.gutterWidth," * 2))"),opacity:u?.5:1,transform:n?"translateX(-100%)":"none",transition:"".concat(n?"transform ".concat(de,"ms, "):"","opacity ").concat(de,"ms")})},(0,r.tZ)(Megaphone,{css:me,notification:e,onClick:onNotificationClick,onClose:onNotificationClose})))})))),(0,r.tZ)(MegaphoneNavigation,{dismissLoading:u,notificationIndex:g,onClickNext:()=>m((e=>e+1)),onClickPrev:()=>m((e=>e-1)),totalNotifications:C.size})):null}),null,null,$.q.MEGAPHONE);var fe={name:"1ucylfr",styles:"align-items:center;display:flex;justify-content:center"},ve={name:"74mrhl",styles:"margin:0 25px"};function MegaphoneNavigation(e){let{dismissLoading:t,notificationIndex:n,onClickNext:o,onClickPrev:i,totalNotifications:s}=e;return(0,r.tZ)("div",{css:fe},(0,r.tZ)(MegaphoneNavButton,{disabled:t||0===n,iconType:"CaretLeft12",onClick:i,testID:ie.c.MegaphoneSectionNotificationsPrev}),(0,r.tZ)("span",{css:ve},(0,r.tZ)(a.Dy.Text,{size:"S"},(0,r.tZ)(y.DH,{defaultMessage:"{currNotification} of {totalNotifications}",id:"PortfolioDetail.MegaphoneSection.pageIndicator",status:"legacy",values:{currNotification:n+1,totalNotifications:s}}))),(0,r.tZ)(MegaphoneNavButton,{disabled:t||n===s-1,iconType:"CaretRight12",onClick:o,testID:ie.c.MegaphoneSectionNotificationsNext}))}var he={name:"1lv1yo7",styles:"display:inline-flex"};function MegaphoneNavButton(e){var t;let{disabled:n,iconType:o,onClick:i,testID:a}=e;return(0,r.tZ)(l.tL,null,(e=>{let{hoverableClassName:l}=e;return(0,r.tZ)(c.J,{color:s.Wt.Fg3},(e=>{let{rootClassName:s}=e;return(0,r.tZ)(J.k,{className:n?s:l,css:he,"data-testid":a,disabled:n,onClick:i},t||(t=(0,r.tZ)(u.sg,{type:o})))}))}))}},25523:(e,t,n)=>{"use strict";n.d(t,{VF:()=>useNUXContext,y:()=>NUXContextWrapper});var r=n(27378),o=n(42925),i=n(67527),a=n(30156),s=n(33175),l=n(12633),c=n(58798),u=n(10043);const d=(0,r.createContext)({isInvested:!1,isTraded:!1,menuOfOptionsData:{},showWebNUX:!1,userState:void 0});function NUXContextWrapper(e){var t,n,p,g,m,y,f;let{children:v}=e;const[h,_]=(0,r.useState)(!1),[b,C]=(0,i.X_)((0,i.KQ)((0,l.tT)({model:o.MenuOfOptionsRecord})),(0,l.tT)({model:o.SortingHatUserStateRecord})),O=null===(t=(0,s.E)(a.V.acquisitionWebNUX))||void 0===t?void 0:t.isMember(),S=null==C||null===(n=C.brokerage)||void 0===n?void 0:n.is_traded,E=null==C||null===(p=C.brokerage)||void 0===p?void 0:p.is_invested,P="string"==typeof(null==b||null===(g=b.experience)||void 0===g?void 0:g.data)?null==b||null===(m=b.experience)||void 0===m?void 0:m.data:null==b||null===(y=b.experience)||void 0===y||null===(f=y.data)||void 0===f?void 0:f.state;return(0,r.useEffect)((()=>{if(void 0!==b&&void 0!==O){const e=Boolean(P);(0,c.Ah)("web-nux",{data:{member:O,nuxEligible:e}}),_(O&&e)}}),[O,b,P]),(0,u.tZ)(d.Provider,{value:{isInvested:E,isTraded:S,menuOfOptionsData:b,showWebNUX:h,userState:P}},v)}const useNUXContext=()=>(0,r.useContext)(d)},70788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>getOptionAggregateQuote});var r=n(15373),o=n.n(r),i=n(42579),a=n(39989);const getOptionAggregateQuote=(e,t)=>{if(!t)return;let n=o()("0"),r=o()("0"),s=o()("0"),l=o()("0");for(const a of e.legsQueryParams){const e=t.find((e=>e.instrument===a.option));if(!e)return;const c=o()(a.ratio_quantity),u=o()(e.bid_price).times(c),d=o()(e.ask_price).times(c),p=o()(e.previous_close_price).times(c),g=o()(e.adjusted_mark_price).times(c);a.position_type===i.d.Long?(n=n.plus(u),r=r.plus(d),s=s.plus(p),l=l.plus(g)):(n=n.minus(d),r=r.minus(u),s=s.minus(p),l=l.minus(g))}return new a.KP({adjusted_mark_price:l.toString(),ask_price:r.toString(),bid_price:n.toString(),mark_price:n.plus(r).div(o()(2)).toString(),previous_close_price:s.toString()})}},16182:(e,t,n)=>{"use strict";n.d(t,{S:()=>PositionCaption});n(27378);var r=n(87540),o=n(93284),i=n(10043);function PositionCaption(e){let{position:t,prefix:n}=e;return(0,i.tZ)(o.DH,{defaultMessage:"{prefix} {quantityMessage} {quantity, plural,\n        one {Share}\n        other {Shares}\n      }",id:"StockPreviewCell.PositionCaption.shares",status:"legacy",values:{prefix:n,quantity:t.adjustedQuantity,quantityMessage:(0,r.A)(t.adjustedQuantity)}})}},64772:(e,t,n)=>{"use strict";n.d(t,{x:()=>EditListModal});var r=n(10043),o=n(27378),i=n(7467),a=n(22170),s=n(2256),l=n(6500),c=n(17289),u=n(93284),d=n(15238),p=n(50169);var g={name:"skgbeu",styles:"display:flex;justify-content:flex-end"};function EditListModal(e){let{list:t,onClose:n}=e;const m=(0,o.useRef)(null),y=(0,o.useRef)(null),[f,v]=(0,o.useState)(t.icon_emoji),[h,_]=o.useState(null),[b,C]=(0,o.useState)(!1),[O,S]=(0,o.useState)(t.display_name),E=(0,c.Q2)(),P=(0,u.og)();return(0,r.tZ)(i.u.LegacyAdapter,{_experimentalIsFocusLockDisabled:!0,onClose:()=>{_(null),C(!1),n()},title:"Edit List",variant:"wide"},(0,r.tZ)("form",{ref:m,css:(0,r.iv)({padding:"".concat(p.hc,"px ").concat(p.bT,"px 0 ").concat(p.bT-6,"px")},""),onSubmit:async e=>{if(e.preventDefault(),t.id){C(!0),_(null);try{await E.updateList({emoji:f,list:t,name:O}),C(!1),n()}catch(e){_(e),C(!1)}}}},(0,r.tZ)("div",{css:(0,r.iv)({alignItems:"center",display:"flex",marginBottom:"".concat(2*p.q3,"px")},""),"data-testid":d.c.VirtualizedSidebar.EditModalEmojiButton},(0,r.tZ)(s.U,{emoji:f,emojiPopoverClassName:"rh-emoji-popover-element-class",onSelect:e=>{v(e)},popoverPlacement:"top-right-corner",size:"md"}),(0,r.tZ)("div",{css:(0,r.iv)({flexGrow:1,marginLeft:"".concat(p.hc,"px")},""),"data-testid":d.c.VirtualizedSidebar.EditModalDisplayNameInput},(0,r.tZ)(l.w,{ref:y,error:h,isSubmitting:b,onChange:e=>{_(null),S(e)},size:"default",value:O}))),(0,r.tZ)("footer",{css:g},(0,r.tZ)(a.z,{"data-testid":d.c.VirtualizedSidebar.EditModalSaveButton,label:P.formatMessage({defaultMessage:"Save",id:"VirtualizedList.EditModal.save",status:"legacy"}),size:"default",state:b&&"loading",type:"submit",width:"full"}))))}},54289:(e,t,n)=>{"use strict";n.d(t,{o:()=>ListCellOverflowMenu});var r=n(73846),o=n(27378),i=n(26246),a=n(38978),s=n(14368),l=n(93284),c=n(64772),u=n(53225),d=n(10043);const p=(0,r.ZP)({resolved:{},chunkName:()=>"RearrangeListModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(25023),n.e(17866)]).then(n.bind(n,16165)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 16165}},{resolveComponent:e=>e.RearrangeListModal});function ListCellOverflowMenu(e){let{list:t,listId:n}=e;const r="custom"===t.owner_type,g=(0,l.og)(),[m,y]=(0,o.useState)(null),f=(0,o.useMemo)((()=>r?[{icon:"Settings16",label:g.formatMessage({defaultMessage:"Edit list",id:"VirtualizedList.ListCell.OverflowMenu.edit",status:"legacy"}),onClick:()=>{n&&y("edit")},variant:"button"},{icon:"Drag16",label:g.formatMessage({defaultMessage:"Rearrange list",id:"VirtualizedList.ListCell.OverflowMenu.rearrange",status:"legacy"}),onClick:()=>{n&&y("rearrange")},variant:"button"},{icon:"BubbleRemove16",label:g.formatMessage({defaultMessage:"Delete list",id:"VirtualizedList.ListCell.OverflowMenu.delete",status:"legacy"}),onClick:()=>{n&&y("delete")},variant:"button"}]:[{icon:"Drag16",label:g.formatMessage({defaultMessage:"Rearrange list",id:"VirtualizedList.ListCell.OverflowMenu.rearrange",status:"legacy"}),onClick:()=>{n&&y("rearrange")},variant:"button"},{icon:"BubbleRemove16",label:g.formatMessage({defaultMessage:"Unfollow list",id:"VirtualizedList.ListCell.OverflowMenu.unfollow",status:"legacy"}),onClick:()=>{n&&y("unfollow")},variant:"button"}]),[g,n,r]);return(0,d.tZ)(o.Fragment,null,(0,d.tZ)(i.P,{onChange:noop,options:f,toggleButtonBackgroundColor:r?a.Wt.Bg2:a.Wt.Bg1,toggleButtonForegroundColor:a.Wt.Fg2,value:null}),"unfollow"===m&&(0,d.tZ)(u.o,{list:t,onClose:()=>y(null)}),"rearrange"===m&&(0,d.tZ)(p,{isOwnList:r,onClose:()=>y(null)}),"edit"===m&&(0,d.tZ)(c.x,{list:t,onClose:()=>y(null)}),"delete"===m&&(0,d.tZ)(s.D,{list:t,onClose:()=>y(null)}))}function noop(){}},53225:(e,t,n)=>{"use strict";n.d(t,{o:()=>UnfollowListModal});var r=n(10043),o=n(27378),i=n(20549),a=n(5310),s=n(38978),l=n(7467),c=n(21675),u=n(74900),d=n(90956),p=n(22170),g=n(17289),m=n(93284),y=n(12633),f=n(50169);function UnfollowListModal(e){var t;let{list:n,onClose:c}=e;const v=(0,m.og)(),{addToast:h}=(0,i.pm)(),_=(0,y.tT)({model:u.P}).result,b=null==_?void 0:_.id,[C,O]=(0,o.useState)(!1),[S,E]=(0,o.useState)(null),P=(0,g.Q2)();return(0,r.tZ)(a.p,{color:s.E1.Scary},(e=>{let{rootClassName:o}=e;return(0,r.tZ)("div",{className:o},(0,r.tZ)(l.u.LegacyAdapter,{onClose:c,title:v.formatMessage({defaultMessage:"Are you sure you want to unfollow “{name}”?",id:"Lists.UnfollowListModal.title",status:"legacy"},{name:n.display_name}),variant:"medium"},S&&(0,r.tZ)("div",{css:(0,r.iv)({color:s.ZV.semantic.scary.base,marginBottom:"".concat(f.q3,"px")},"")},(0,d.oN)(S)),(0,r.tZ)(p.z,{label:v.formatMessage({defaultMessage:"Unfollow {name}",id:"Lists.UnfollowListModal.unfollowButtonLabel",status:"legacy"},{name:n.display_name}),onClick:async()=>{E(null),O(!0);try{if(!n.id)return void O(!1);b&&await P.unfollowList({list:n,userId:b}),h(t||(t=(0,r.tZ)(UnfollowToastContent,{list:n})),{variant:"success"}),O(!1),c()}catch(e){E(e),O(!1)}},state:C&&"loading",type:"button",width:"full"})))}))}function UnfollowToastContent(e){let{list:t}=e;return(0,r.tZ)(c.Dy.Text,{size:"S"},(0,r.tZ)(m.DH,{defaultMessage:"Removed {name} from Lists",id:"Lists.UnfollowListModal.toast.unfollow",status:"legacy",values:{name:(0,r.tZ)(c.Dy.Text,{isBold:!0,size:"S"},t.display_name)}}))}},8255:(e,t,n)=>{"use strict";n.d(t,{UD:()=>a,ly:()=>s});var r=n(64649),o=n(27378),i=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const{VirtualizedPreviewListContext:a,VirtualizedPreviewListProvider:s}=function NewVirtualizedPreviewListContext(e){const t=(0,o.createContext)(null);return{VirtualizedPreviewListContext:t,VirtualizedPreviewListProvider:function VirtualizedPreviewListProvider(n){let{children:r}=n;const a=(0,o.useReducer)(virtualizedPreviewListReducer,void 0,e);return(0,i.tZ)(t.Provider,{value:a},r)}}}((()=>({optionOrderDetailModalId:void 0})));function virtualizedPreviewListReducer(e,t){return _objectSpread(_objectSpread({},e),t)}},40364:(e,t,n)=>{"use strict";n.d(t,{B4:()=>r,BJ:()=>l,Ee:()=>a,ex:()=>o,qI:()=>i,rg:()=>s});const r="stock-header-id",o="lists-header-id",i="following-lists-header-id",a="recurring-header-id",s="crypto-header-id",l="options-header-id"},22280:(e,t,n)=>{"use strict";n.d(t,{Bq:()=>useCryptoCellData,Es:()=>useCurrencyPairsFromCurrencyHoldings,VD:()=>s.V,vc:()=>useListCellData,bn:()=>useNewsCellData,g3:()=>N.g3,qd:()=>m.q,UL:()=>useRecurringCellData,sH:()=>useStockCellData,mY:()=>b.m});var r=n(34051),o=n(27378),i=n(67527),a=n(42474);function useCurrencyPairsFromCurrencyHoldings(e){var t,n;let{additionalCurrencyPairs:s,currencyHoldings:l,shouldFetch:c}=e;const u=null==l?void 0:l.map((e=>e.currency.id)),d=(0,a.RV)({currencyPairIdWhitelist:s,currencyWhitelist:u,shouldFetch:c}),p=(0,o.useRef)(getIdsFromHoldings(null===(t=d.result)||void 0===t?void 0:t.currencyPairs,l)||(0,r.List)()),g=getIdsFromHoldings(null===(n=d.result)||void 0===n?void 0:n.currencyPairs,l)||(0,r.List)(),m=p.current.size===g.size&&p.current.toArray().every((e=>!!g.toArray().find((t=>t.id===e.id))));m||(p.current=g);const y=(0,o.useMemo)((()=>(0,i.gM)(p.current)),[m]);return d.loading||!d.result?d:y}function getIdsFromHoldings(e,t){return null==t?void 0:t.filter((e=>e.hasPosition&&"USD"!==e.currency.code)).map((t=>null==e?void 0:e.find((e=>t.currency.id===e.asset_currency.id&&"USD"===e.quote_currency.code)))).filter((e=>!!e))}var s=n(81305),l=n(89263),c=n(1972),u=n(12633);var d=n(17289),p=n(44574),g=n(83589);var m=n(23807),y=(n(6844),n(55447),n(15192)),f=n(12397);var v,h,_,b=n(97895),C=n(64649),O=n(56141),S=n.n(O),E=n(23104),P=n(55155),Z=n(9545),D=n(30156),T=n(4849),w=n(93284),I=n(15238),k=n(59091),x=n(40364),R=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useStockCellData(e,t){var n;const i=function usePSPEligiblePrograms(e){let{shouldFetch:t}=e;const n=(0,f.C)().result,r=null==n?void 0:n.account_number;return(0,u.tT)({disabled:!(t&&r),many:!0,model:p.pO,params:{account_numbers:r}})}({shouldFetch:!!(0,T.n)(D.V.psp)}),a=(0,y.c)({shouldFetch:!e&&!t}),s=(0,o.useMemo)((()=>{var e;const n=[],o=!t&&(null===(e=a.result)||void 0===e?void 0:e.positions)||(0,r.List)(),s=i.result||(0,r.List)();return((null==o?void 0:o.count())>0||s.count()>0)&&(n.push({dataTestId:I.c.VirtualizedSidebar.Header("Stocks"),id:x.B4,label:v||(v=(0,R.tZ)(w.DH,{defaultMessage:"Stocks",id:"InstrumentPreviewList.Stocks.Header",status:"legacy"})),section:"stocks",type:k.Cz.HEADER,viewKey:"stocks"}),s.count()>0&&(n.push({label:h||(h=(0,R.tZ)(w.DH,{defaultMessage:"Pending gifts",id:"InstrumentPreviewList.PSPEligiblePrograms.PendingGifts",status:"legacy"})),parent:x.B4,section:"stocks",type:k.Cz.SUB_HEADER}),s.forEach(((e,t)=>{n.push({isLastItem:t===s.count()-1,parent:x.B4,pspEligibleProgram:e,section:"stocks",type:k.Cz.PSP_ELIGIBLE_PROGRAM,viewKey:"stocks"})})),o.count()>0&&n.push({label:_||(_=(0,R.tZ)(w.DH,{defaultMessage:"Active stocks",id:"InstrumentPreviewList.PSPEligiblePrograms.ActiveStocks",status:"legacy"})),parent:x.B4,section:"stocks",type:k.Cz.SUB_HEADER})),o.valueSeq().forEach(((e,t,r)=>{var o;n.push({dataTestId:I.c.VirtualizedSidebar.PositionCell,id:null!==(o=e.instrumentId)&&void 0!==o?o:"",isLastItem:t===r.count()-1,parent:x.B4,position:e,section:"stocks",type:k.Cz.INSTRUMENT,viewKey:"stocks"})}))),n}),[t,null===(n=a.result)||void 0===n?void 0:n.positions,i.result]);useStockCellDataPrefetch(s,e);const l=a.loading||i.loading,c=a.error||i.error;return{data:c||(l?null:s),state:l?"loading":c?"error":"completed"}}function useStockCellDataPrefetch(e,t){const n=(0,E.useDispatch)(),r=!!(0,T.n)(D.V.adt),i=!!(0,T.n)(D.V.adtChartInternal),[a,s]=o.useState((()=>[]));o.useEffect((()=>{const t=function getInstrumentIds(e){return e.filter((e=>e.type===k.Cz.INSTRUMENT)).map((e=>e.id))}(e);s((e=>S()(e,t)?e:t))}),[e]),(0,o.useEffect)((()=>{t||a.length>0&&n(p.k0.issueQuery({queryParams:{active_instruments_only:!1,ids:a.join()}}))}),[t,a,n]),(0,o.useEffect)((()=>{if(!t&&a.length>0){n(p.Z9.issueQuery({queryParams:{ids:a.join(","),include_inactive:!1}},{noSubscribe:!0}));const e=75,t=[];for(let n=0;n<a.length;n+=e)t.push(a.slice(n,n+e));t.forEach((e=>{n(p.pi.issueQuery({queryParams:_objectSpread({ids:e.join()},(0,Z.iW)({bounds:r||i?P.BOUNDS.ADT:void 0,span:P.DISPLAY_SPAN.DAY}))},{noSubscribe:!0}))}))}}),[n,r,i,a,t])}var M,L=n(89676),A=n(3218);function useCryptoCellData_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useCryptoCellData_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useCryptoCellData_ownKeys(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useCryptoCellData_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useCryptoCellData(e,t){var n;const i=(0,y.c)({shouldFetch:!e&&!t}),a=(0,d._4)(),s=(0,o.useMemo)((()=>{var e;return[...new Set(null===(e=a.result)||void 0===e?void 0:e.lists.map((e=>e.items.filter((e=>"currency_pair"===e.object_type)).map((e=>e.object_id)))).reduce(((e,t)=>e.concat(t)),[]))]}),[a.result]),l=useCurrencyPairsFromCurrencyHoldings({additionalCurrencyPairs:(0,r.List)(s),currencyHoldings:null===(n=i.result)||void 0===n?void 0:n.currencyHoldings,shouldFetch:!e&&!t}),c=(0,o.useMemo)((()=>{var e;return(null===(e=l.result)||void 0===e?void 0:e.map((e=>e.id)))||(0,r.List)()}),[l.result]),u=i.loading||a.loading||l.loading,p=i.error||a.error||l.error,g=(0,o.useMemo)((()=>{const e=[];return c.count()>0&&(e.push({dataTestId:I.c.VirtualizedSidebar.Header("Crypto"),id:x.rg,label:M||(M=(0,R.tZ)(w.DH,{defaultMessage:"Cryptocurrencies",id:"VirtualizedList.Crypto.Header",status:"legacy"})),section:"crypto",type:k.Cz.HEADER,viewKey:"crypto"}),c.valueSeq().forEach(((t,n,r)=>{e.push({currencyPairId:t,dataTestId:I.c.VirtualizedSidebar.CryptoCell,isLastItem:n===r.count()-1,parent:x.rg,section:"crypto",type:k.Cz.CRYPTO,viewKey:"crypto"})}))),e}),[c]);return useCryptoCellDataPrefetch(g,e),{data:p||(u?null:g),state:u?"loading":p?"error":"completed"}}function useCryptoCellDataPrefetch(e,t){const n=(0,E.useDispatch)();(0,o.useEffect)((()=>{if(t)return;const r=e.filter((e=>e.type===k.Cz.CRYPTO)).map((e=>e.currencyPairId));r.length>0&&(n(L.a.issueQuery({queryParams:{ids:r.join()}})),n(A.Y.issueQuery({queryParams:useCryptoCellData_objectSpread({ids:r.join()},(0,Z.ZI)({span:P.DISPLAY_SPAN.TWENTY_FOUR_HOUR}))})))}),[n,e,t])}var F,N=n(43268),B=n(42579),j=n(29699),H=n(95164),U=n(39989);function useListCellData(e,t){const n=!!(0,T.n)(D.V.screener),a=(0,y.c)({shouldFetch:!e&&!t}),s=function useListData(){const e=(0,g.w)(),t=(0,u.tT)({model:p.ex}),n=(0,d.de)(),r=(0,i.GZ)((0,i.KQ)(t),(0,i.KQ)(n)),[a,s]=r.result||[],l=(0,o.useMemo)((()=>null==s?void 0:s.results.filter((e=>"custom"===e.owner_type)).filter((t=>t.id!==e)).map((e=>e.id)).filter((e=>null!==e))),[null==s?void 0:s.results,e]),c=(0,o.useMemo)((()=>e?null==l?void 0:l.unshift(e):l),[l,e]),m=(0,o.useMemo)((()=>(0,i.gM)({customListIds:c,robinhoodListIds:null==s?void 0:s.results.filter((e=>"robinhood"===e.owner_type)).map((e=>e.id)).filter((e=>null!==e)),userListItems:a})),[c,null==s?void 0:s.results,a]);return r.loading||!r.result?r:m}(),l=(0,d.$q)(),c=function useActiveOptionListItems(){var e,t;let{sort:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sort:null};const r=(0,H.F)({sort:n}),o=null===(e=r.result)||void 0===e?void 0:e.map((e=>e.strategy_code)),a=(0,u.tT)({disabled:!(o&&!o.isEmpty()),many:!0,model:U.lf,params:{strategy_codes:null==o?void 0:o.join(",")}}),s=null===(t=a.result)||void 0===t?void 0:t.map((e=>{var t;return null===(t=e.legs.first(void 0))||void 0===t?void 0:t.option_id})),l=(0,u.tT)({disabled:!(s&&!s.isEmpty()),many:!0,model:U.p8,params:{ids:null==s?void 0:s.join()}}),c=(0,i.GZ)(r,a,l),d=(0,j.k)(r.result,l.result,a.result),p=c.loading&&void 0===d?(0,i.TO)(c.loading):(0,i.gM)(d);return(0,i.pn)((0,i.GZ)(r,p),(e=>{let[t,n]=e;return t.filter((e=>{var t;return(null===(t=n[e.id])||void 0===t?void 0:t.state)===B.TE.Active}))}))}(),m=(0,g.w)(),f=(0,o.useMemo)((()=>{var o,i,u,d,p,g,y,f,v;const h=[],_=null!==(o=null===(i=s.result)||void 0===i?void 0:i.customListIds)&&void 0!==o?o:(0,r.List)(),b=null!==(u=null===(d=s.result)||void 0===d?void 0:d.robinhoodListIds)&&void 0!==u?u:(0,r.List)(),C=null===(p=s.result)||void 0===p?void 0:p.userListItems,O=null!==(g=null==l||null===(y=l.result)||void 0===y?void 0:y.results)&&void 0!==g?g:[],S=c.result||(0,r.List)(),E=!e&&!t&&(null===(f=a.result)||void 0===f?void 0:f.optionAggregatePositions)||(0,r.List)(),P=!e&&!t&&(null===(v=a.result)||void 0===v?void 0:v.positions)||(0,r.List)();if(n?h.push({dataTestId:I.c.VirtualizedSidebar.Header("Lists"),id:x.ex,section:"lists",type:k.Cz.LISTS_HEADER}):h.push({dataTestId:I.c.VirtualizedSidebar.Header("Lists"),id:x.ex,section:"lists",type:k.Cz.DEPRECATED_LISTS_HEADER}),h.push({section:"lists",type:k.Cz.NEW_LIST}),n&&O.length>0&&O.forEach((e=>{h.push({dataTestId:I.c.VirtualizedSidebar.ListCell(e.id),display_name:e.display_name,icon_emoji:e.icon_emoji,parent:x.ex,screenerId:e.id,section:"lists",type:k.Cz.SCREENER})})),_.count()>0&&_.valueSeq().forEach(((t,n,r)=>{h.push({dataTestId:I.c.VirtualizedSidebar.ListCell(t),expandedKey:e?void 0:t,isLastItem:n===r.count()-1,listId:t,parent:x.ex,section:"lists",type:k.Cz.LIST});const o=null==C?void 0:C.lists,i=null==o?void 0:o.find((e=>e.id===t));S.count()>0&&t===m&&S.forEach(((e,n)=>{var r,o;const i=e?E.find((t=>t.strategy_code===e.strategy_code)):void 0;h.push({expandedKey:t,id:e.object_id,isLastItem:n===S.count()-1,name:null!==(r=e.name)&&void 0!==r?r:"",optionAggregatePosition:i,optionListItem:e,parent:x.ex,section:"lists",strategyCode:null!==(o=e.strategy_code)&&void 0!==o?o:"",type:k.Cz.OPTIONS_STRATEGY})})),i&&t!==m&&i.items.forEach(((e,n)=>{if("instrument"===e.object_type){const r=P&&P.find((t=>t.instrumentId===e.object_id));h.push({expandedKey:t,id:e.object_id,isLastItem:n===i.items.length-1,parent:x.ex,position:r,section:"lists",type:k.Cz.INSTRUMENT})}else"currency_pair"===e.object_type&&h.push({currencyPairId:e.object_id,expandedKey:t,isLastItem:n===i.items.length-1,parent:x.ex,section:"lists",type:k.Cz.CRYPTO})}))})),b.count()>0){n||h.push({id:x.qI,label:F||(F=(0,R.tZ)(w.DH,{defaultMessage:"Following",id:"InstrumentPreviewList.Following.Header",status:"legacy"})),section:"lists",type:k.Cz.HEADER});const e=n?x.ex:x.qI;b.valueSeq().forEach(((t,n,r)=>{h.push({dataTestId:I.c.VirtualizedSidebar.ListCell(t),isLastItem:n===r.count()-1,listId:t,parent:e,section:"lists",type:k.Cz.LIST})}))}return h}),[s.result,c.result,a.result,n,l,t,m,e]);useStockCellDataPrefetch(f,e),useCryptoCellDataPrefetch(f,e),(0,N.S$)(f,e);const v=a.loading||s.loading||c.loading,h=a.error||s.error||c.error;return{data:h||(v?null:f),state:v?"loading":h?"error":"completed"}}var z=n(3786),W=n(24498);function useRecurringCellData(e){const t=function useInvestmentSchedules(e){let{shouldFetch:t}=e;return(0,u.tT)({disabled:!t,many:!0,model:l.g8,params:{asset_types:[c.L.EQUITY,c.L.CRYPTO]}})}({shouldFetch:!e}),n=(0,W.Qo)(),i=(0,o.useMemo)((()=>{const e=[],o=(t.result?(0,z.hQ)(t.result):(0,r.List)()).filter((e=>(null==n?void 0:n.account_number)===e.account_number));return o.count()>0&&(e.push({dataTestId:I.c.VirtualizedSidebar.Header("Recurring"),id:x.Ee,section:"recurring",type:k.Cz.RECURRING_HEADER}),o.valueSeq().forEach(((t,n,r)=>{e.push({id:t.id,isLastItem:n===r.count()-1,parent:x.Ee,schedule:t,section:"recurring",type:k.Cz.RECURRING})}))),e}),[n,t.result]),a=t.loading,s=t.error;return{data:s||(a?null:i),state:a?"loading":s?"error":"completed"}}var q,Y=n(81889),V=n(2146),G=n(49867),K=n(30999);function useNewsCellData(e){const t=(0,T.n)(D.V.liveIndices),n=(0,K.Hb)((0,T.B)(D.V.infoProductsMarketUpdates.name)),{feed:i}=(0,V.sc)(!1),a=(0,o.useMemo)((()=>e?i.filter((e=>!(e.category===Y.f.POPULAR_LISTS||e.category===Y.f.EDUCATION_SERIES||e.category===Y.f.MARKET_UPDATES||e.category===Y.f.INDICATORS||e.category===Y.f.TOP_MOVERS)&&e.contents.some((e=>e.content_type===G.z.Article||e.content_type===G.z.EmbeddedArticle))&&e.contents.every((e=>e.content_type!==G.z.Video)))).slice(0,3):(0,r.List)()),[i,e]),s=(0,o.useMemo)((()=>e?i.filter((e=>e.category===Y.f.INDICATORS&&t||e.category===Y.f.MARKET_UPDATES&&n)):(0,r.List)()),[i,e,t,n]);return(0,o.useMemo)((()=>{const e=[];if(a.size>0||s.size>0){if(e.push({expandedKey:"news",label:q||(q=(0,R.tZ)(w.DH,{defaultMessage:"News",id:"News.List.Header",status:"legacy"})),section:"news",type:k.Cz.NEWS_HEADER}),s.size>0){const t=s.find((e=>e.category===Y.f.INDICATORS)),n=s.find((e=>e.category===Y.f.MARKET_UPDATES));(t||n)&&e.push({expandedKey:"news",indicators:t,marketUpdate:n,section:"news",type:k.Cz.INDICATORS_AND_MARKET_UPDATE})}a.size>0&&a.forEach((t=>{e.push({element:t,expandedKey:"news",section:"news",type:k.Cz.NEWS_ITEM})})),e.push({expandedKey:"news",section:"news",type:k.Cz.NEWS_FOOTER})}return e}),[a,s])}},81305:(e,t,n)=>{"use strict";n.d(t,{V:()=>useInvalidateOptionPositionsUponPendingOrderExecution});var r=n(15373),o=n.n(r),i=n(27378),a=n(5606),s=n(16684),l=n(30156),c=n(33175),u=n(10974),d=n(39989),p=n(12633);function useInvalidateOptionPositionsUponPendingOrderExecution(e){var t;let{account:n,pendingOptionOrders:r,shouldFetch:g}=e;const m=(0,c.E)(l.V.optionsServerDrivenNomenclature),y=null!==(t=null==r?void 0:r.reduce(((e,t)=>e.add(t.pending_quantity)),o()(0)))&&void 0!==t?t:o()(0),f=(0,u.D)(y),v=(0,p.C$)();(0,i.useEffect)((()=>{g&&f&&!y.eq(f)&&(v.invalidate({many:!0,model:d.JY,params:{}}),n&&(v.invalidate({many:!0,model:d.JY,params:{account_numbers:n.account_number}}),v.invalidate({model:s.A,params:{accountNumber:n.account_number,instrument_type:a.b.options}}),v.invalidate({model:s.A,params:{accountNumber:n.account_number,instrument_type:a.b.pendingOptions}})),null!=m&&m.isMember()&&(v.invalidate({many:!0,model:d.AX,params:{}}),v.invalidate({many:!0,model:d.FV,params:{}})))}),[n,m,f,v,g,y])}},43268:(e,t,n)=>{"use strict";n.d(t,{S$:()=>useOptionCellDataPrefetch,g3:()=>useOptionCellData,xx:()=>getSortedOptionAggregatePositions});var r,o,i,a=n(34051),s=n(27378),l=n(23104),c=n(24498),u=n(30156),d=n(4849),p=n(93284),g=n(39989),m=n(12633),y=n(59091),f=n(40364),v=n(81305),h=n(55447),_=n(23807),b=n(6844),C=n(15192),O=n(10043);function useOptionCellData(e,t){var n,l;const g=(0,c.DV)(),S=null===(n=g.result)||void 0===n?void 0:n.activeAccount,E=!!(0,d.n)(u.V.optionsServerDrivenNomenclature),P=(0,C.c)({shouldFetch:!e&&!t}),Z=(0,h.w)({shouldFetch:!e&&!t&&!(null==S||!S.hasOptionsAccess)&&E}),D=(0,_.q)({accountNumber:null==S?void 0:S.account_number,shouldFetch:!(e||null==S||!S.hasOptionsAccess||t||E)}),T=(0,b.g)({shouldFetch:!e&&!(null==S||!S.hasOptionsAccess)&&!t&&E});(0,v.V)({account:S,pendingOptionOrders:D.result,shouldFetch:!e&&!(null==S||!S.hasOptionsAccess)&&!t});const w=(0,s.useMemo)((()=>{var e;const n=[],s=D.result||(0,a.List)(),l=(null==Z?void 0:Z.result)||(0,a.List)(),c=(null===(e=P.result)||void 0===e?void 0:e.optionAggregatePositions)||(0,a.List)(),u=T.result||(0,a.List)(),d=!t&&!E&&c.count()>0||E&&l.count()>0,g=!t&&s.count()>0&&!E||u.count()>0&&E;return(d||g)&&(n.push({id:f.BJ,label:r||(r=(0,O.tZ)(p.DH,{defaultMessage:"Options",id:"InstrumentPreviewList.Options.Header",status:"legacy"})),section:"options",type:y.Cz.HEADER,viewKey:"options"}),g&&(n.push({label:o||(o=(0,O.tZ)(p.DH,{defaultMessage:"Pending Orders",id:"InstrumentPreviewList.Options.PendingOrders",status:"legacy"})),parent:f.BJ,section:"options",type:y.Cz.SUB_HEADER}),E?u.forEach(((e,t)=>{n.push({isLastItem:t===u.count()-1,parent:f.BJ,pendingOptionOrderBonfire:e,section:"options",type:y.Cz.PENDING_OPTION_ORDER_BONFIRE})})):s.forEach(((e,t)=>{n.push({isLastItem:t===s.count()-1,parent:f.BJ,pendingOptionOrder:e,section:"options",type:y.Cz.PENDING_OPTION_ORDER})}))),g&&d&&n.push({label:i||(i=(0,O.tZ)(p.DH,{defaultMessage:"Positions Held",id:"InstrumentPreviewList.Options.PositionsHeld",status:"legacy"})),parent:f.BJ,section:"options",type:y.Cz.SUB_HEADER}),E?l.forEach(((e,t)=>{n.push({isLastItem:t===l.count()-1,optionPositionRow:e,parent:f.BJ,section:"options",type:y.Cz.OPTION,viewKey:"options"})})):getSortedOptionAggregatePositions(c).forEach(((e,t,r)=>{var o;const i=e.legs.map((e=>(0,m.Hz)(e.option))).filter((e=>null!==e)).toSet().toList();n.push({instrumentIds:i,isLastItem:t===r.count()-1,optionAggregatePositionId:e.id,optionChainId:null!==(o=(0,m.Hz)(e.chain))&&void 0!==o?o:void 0,parent:f.BJ,section:"options",type:y.Cz.OPTION_LEGACY,viewKey:"options"})}))),n}),[t,E,null===(l=P.result)||void 0===l?void 0:l.optionAggregatePositions,T.result,null==Z?void 0:Z.result,D.result]),I=g.loading||P.loading||Z.loading||D.loading||T.loading,k=g.error||P.error||Z.error||D.error||T.error;return useOptionCellDataPrefetch(w,e),{data:k||(I?null:w),state:I?"loading":k?"error":"completed"}}function useOptionCellDataPrefetch(e,t){const n=(0,l.useDispatch)();(0,s.useEffect)((()=>{if(t)return;const r=(0,a.List)(e).filter((e=>e.type===y.Cz.OPTION_LEGACY));if(r.count()>0){const e=r.map((e=>e.optionChainId)).toSet().toList().join();n(g.UY.issueQuery({queryParams:{ids:e}}));const t=r.map((e=>e.instrumentIds.join())).toSet().toList().join();n(g.e1.issueQuery({queryParams:{ids:t}}))}}),[n,e,t])}function getSortedOptionAggregatePositions(e){return e.sortBy((e=>e.id)).sortBy((e=>e.symbol)).sortBy((e=>e.expirationDates.first()))}},55447:(e,t,n)=>{"use strict";n.d(t,{w:()=>useOptionPositions});var r=n(39989),o=n(12633);function useOptionPositions(e){let{shouldFetch:t}=e;const n=(0,o.tT)({disabled:!t,many:!0,model:r.FV,params:{}});return n.loading||n.result,n}},23807:(e,t,n)=>{"use strict";n.d(t,{q:()=>usePendingOptionOrders});var r=n(64649),o=n(67527),i=n(15379),a=n(39989),s=n(12633);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function usePendingOptionOrders(e){let{accountNumber:t,shouldFetch:n}=e;const r=(0,s.tT)({disabled:!n,many:!0,model:a.VZ,params:_objectSpread({states:i.jP.join(",")},t&&{account_numbers:t})});return r.loading||!r.result?r:(0,o.gM)(r.result.filter((e=>e.isPending)))}},6844:(e,t,n)=>{"use strict";n.d(t,{g:()=>usePendingOptionOrdersBonfire});var r=n(39989),o=n(12633);function usePendingOptionOrdersBonfire(e){let{shouldFetch:t}=e;const n=(0,o.tT)({disabled:!t,many:!0,model:r.AX,params:{}});return n.loading||n.result,n}},15192:(e,t,n)=>{"use strict";n.d(t,{c:()=>usePortfolioData});var r=n(27378),o=n(12397),i=n(42925),a=n(67527),s=n(47727),l=n(30156),c=n(33175),u=n(39989),d=n(12633);function usePortfolioData(e){let{shouldFetch:t}=e;const n=(0,c.E)(l.V.optionsServerDrivenNomenclature),p=(0,a.X_)((0,o.C)(t?void 0:null)),g=(0,d.tT)({disabled:!t,many:!0,model:i.PositionRecord,params:{account_number:null==p?void 0:p.account_number}}),m=(0,d.tT)({disabled:!(t&&(null==n||!n.isMember())),many:!0,model:u.JY,params:{account_numbers:null==p?void 0:p.account_number}}),y=(0,d.tT)({disabled:!t,many:!0,model:s.u,params:{}}),f=(0,a.GZ)((0,a.KQ)(g),(0,a.KQ)(m),(0,a.KQ)(y)),[v,h,_]=f.result||[],b=(0,r.useMemo)((()=>(0,a.gM)({currencyHoldings:_,optionAggregatePositions:null==h?void 0:h.filter((e=>Number(e.quantity)>0)),positions:v})),[_,h,v]);return f.loading||!f.result?f:b}},97895:(e,t,n)=>{"use strict";n.d(t,{m:()=>useVirtualizedPreviewListContext});var r=n(27378),o=n(8255);function useVirtualizedPreviewListContext(){const e=(0,r.useContext)(o.UD);if(!e)throw new Error("Missing VirtualizedPreviewListProvider");return e}},75976:(e,t,n)=>{"use strict";n.d(t,{j:()=>Cn});var r=n(53782),o=n(64900),i=n(34051),a=n(56141),s=n.n(a),l=n(27378),c=n(75790),u=n(30156),d=n(4849),p=n(87495),g=n(2030),m=n(39989),y=n(12633),f=n(8255),v=n(22280),h=n(59091),_=n(25773),b=n(64649),C=n(65805),O=n(91349),S=n(20670),E=n(42474),P=n(15238);var Z=n(15373),D=n.n(Z),T=n(5310),w=n(38978),I=n(55155),k=n(9545),x=n(74483),R=n(47727),M=n(89676),L=n(6377),A=n(3218),F=n(25718),N=n(97108);var B=n(28585),j=n(64367),H=n(10556),U=n(84974),z=n(60727),W=n(21675),q=n(50169),Y=n(10043);const V={captionWrapper:(0,o.css)({name:"ovk77c",styles:"min-width:0"}),labelComponent:(0,o.css)({name:"1ml9tbj",styles:"padding-bottom:2px"}),pendingState:(0,o.css)({name:"2jgtqr",styles:"flex-basis:10%;margin-left:2px;white-space:nowrap"}),pendingStateWrapper:(0,o.css)({name:"zjik7",styles:"display:flex"}),previewCell:e=>(0,o.css)([{flex:"0 1 50%",marginRight:q.q3,minWidth:0},e&&{flexBasis:"100%",marginRight:0}],""),valueComponent:(0,o.css)({flex:"0 1 50%",margin:"0 0 0 ".concat(q.q3,"px"),textAlign:"right"},"")},G=l.memo((function _PreviewCell(e){var t;let{caption:n,children:r,isRecurringSearch:o=!1,label:i,pendingState:a,value:s}=e;const c=(0,l.useMemo)((()=>(0,Y.tZ)("div",{className:V.labelComponent},(0,Y.tZ)(W.Dy.Text,{isBold:!o,overrideRootStyles:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},size:"S"},i))),[o,i]),u=(0,l.useMemo)((()=>n&&(0,Y.tZ)(W.Dy.Text,{color:o?w.Wt.Fg2:void 0,overrideRootStyles:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},size:"S"},n)),[n,o]),d=(0,l.useMemo)((()=>s&&(0,Y.tZ)("div",{className:V.valueComponent},t||(t=(0,Y.tZ)(W.Dy.Text,{size:"M"},s)))),[s]);return(0,Y.tZ)(l.Fragment,null,(0,Y.tZ)("div",{className:V.previewCell(!r)},c,(0,Y.tZ)("div",{className:V.pendingStateWrapper},(0,Y.tZ)("div",{className:V.captionWrapper},u),a&&(0,Y.tZ)(W.Dy.Text,{size:"S"},(0,Y.tZ)("span",{className:V.pendingState},a)))),r,d)}));var K=n(66319),Q=n.n(K);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const emotionStyles_hyperlink=e=>{let{isLastItem:t}=e;return(0,o.css)({borderBottom:t?"1px solid ".concat(w.ZV.neutral.bg3):void 0},"")},emotionStyles_instrumentPreviewCell=e=>{let{isLastItem:t,isRecurringSearch:n,onClick:r}=e;return(0,o.css)(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({":hover":{backgroundColor:w.ZV.neutral.bg2},borderBottom:t?"1px solid ".concat(w.ZV.neutral.bg3):void 0,cursor:r?"pointer":void 0},n&&{boxShadow:"inset 0px -1px 0px #E3E8ED",height:72,padding:0}),"")},X=l.memo((function _InstrumentPreviewCell(e){const{caption:t,children:n,isCrypto:r=!1,isRecurringSearch:i,label:a,pendingState:s,value:l}=e,{downColor:c,upColor:u}=function useColors(e){const t=(0,H.WE)();return{downColor:e?t.cryptoDownColor:t.stockDownColor,upColor:e?t.cryptoUpColor:t.stockUpColor}}(r),d=(0,Y.tZ)(G,{children:n,caption:t,isRecurringSearch:i,label:a,pendingState:s,value:l});if(function isHyperlinkProps(e){return"to"in e}(e)){const{loggingInfo:t,onClick:n,to:r}=e;return(0,Y.tZ)(B.Q,{negative:c,positive:u},(i=>{let{rootClassName:a}=i;return(0,Y.tZ)(j.n,{className:(0,o.cx)(a,Q().instrumentPreviewCell,emotionStyles_hyperlink(e)),loggingInfo:t,onClick:n,to:r},d)}))}return(0,Y.tZ)(B.Q,{negative:c,positive:u},(t=>{let{rootClassName:n}=t;return(0,Y.tZ)("div",{className:(0,o.cx)(n,Q().instrumentPreviewCell,emotionStyles_instrumentPreviewCell(e)),onClick:t=>{e.loggingInfo&&(0,z.TX)(U.YB,e.loggingInfo),e.onClick&&e.onClick(t)}},d)}))}));var J,$,ee,te,ne=n(20625);const re={borderBottom:(0,o.css)({borderBottom:"1px solid ".concat(w.ZV.neutral.bg3)},"")};function LoadingCell(e){let{isLastItem:t}=e;return(0,Y.tZ)("div",{className:(0,o.cx)(Q().instrumentPreviewCell,t&&re.borderBottom)},(0,Y.tZ)(ne.B,{height:64,width:222},J||(J=(0,Y.tZ)(ne.F,{height:10,width:40,x:0,y:18})),$||($=(0,Y.tZ)(ne.F,{height:10,opacity:.504,width:40,x:0,y:32})),(0,Y.tZ)("svg",{css:(0,Y.iv)({path:{stroke:w.ZV.neutral.fg2,strokeDasharray:"1 4"},rect:{fill:w.ZV.neutral.fg2}},""),height:64,viewBox:"0 0 242 64",width:"100%",xmlns:"http://www.w3.org/2000/svg"},ee||(ee=(0,Y.tZ)("g",{fill:"none",fillRule:"evenodd"},(0,Y.tZ)("path",{d:"M86,31.625 L148,31.625"})))),te||(te=(0,Y.tZ)(ne.F,{height:16,opacity:.504,width:52,x:170,y:23}))))}var oe=n(58343);const ie={priceChangeValue:(0,o.css)({name:"dnp3pp",styles:"display:inline-flex;flex-direction:column"}),spacer:(0,o.css)({name:"ey5f1f",styles:"height:2px"})};function PriceChangeValue(e){var t;let{change:n,delta:r,isInvertedColor:o=!1,price:i}=e;const a=o?Number(r)>0:Number(r)<0;return(0,Y.tZ)("div",{className:ie.priceChangeValue},(0,Y.tZ)(W.Dy.Text,{size:"S"},i),(0,Y.tZ)("div",{className:ie.spacer}),(0,Y.tZ)(oe.J,{color:a?w.E1.Negative:w.E1.Positive},(e=>{let{rootClassName:r}=e;return(0,Y.tZ)("span",{className:r},t||(t=(0,Y.tZ)(W.Dy.Text,{size:"S"},n)))})))}var ae;function CryptoCellValue(e){let{currencyHolding:t,currencyPair:n,currencyPairHistoricals:r,currencyPairQuote:o,quoteCurrencyId:i,view:a}=e;const s=o.getDeltaFractionForSpan({historicals:r,span:I.DISPLAY_SPAN.TWENTY_FOUR_HOUR}).toString(),l=null==t?void 0:t.getTodaysReturnAndFraction(o,i).todaysReturn,c=null==t?void 0:t.getTodaysReturnAndFraction(o,i).todaysReturnFraction,u=null==t?void 0:t.getTotalReturn(o,i),d=null==t?void 0:t.getTotalReturnFraction(o,i);switch(a){case"price":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:s}),delta:s,price:(0,Y.tZ)(F.tA,{maximumFractionDigits:n.maximumFractionDigitsForPrice,value:o.coreValueIncludingExtendedHoursIfPossible})});case"equity":return(0,Y.tZ)(F.XG,{value:null==t?void 0:t.getEquity({quote:o,quoteCurrencyId:n.quote_currency.id})});case"todaysReturn":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:c}),delta:s,price:(0,F.yr)(s,(0,Y.tZ)(F.lm,{display:"price",price:l}))});case"totalReturn":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:d}),delta:null!=u?u:0,price:(0,F.yr)(null!=u?u:0,(0,Y.tZ)(F.tA,{value:u}))});default:return ae||(ae=(0,Y.tZ)(F.tA,{value:null}))}}function CryptoCell_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CryptoCell_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CryptoCell_ownKeys(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CryptoCell_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CryptoCell(e){var t;let{cellData:n,loggingSidebarSection:r,view:o}=e;const{currencyPairId:i,isLastItem:a}=n,s=(0,y.eG)({model:L.s,params:{id:i}}),c=(0,y.eG)({many:!0,model:R.u}),u=(0,x.Q$)(),d=l.useCallback((()=>{("lists"===r?x.mN:x.AD)("crypto",i,u.current.screen,u.current.identifier)}),[i,r,u]);if(!s.result||c.loading)return(0,Y.tZ)(LoadingCell,{isLastItem:a});const p=null===(t=c.result)||void 0===t?void 0:t.find((e=>{var t;return e.currency.id===(null===(t=s.result)||void 0===t?void 0:t.asset_currency.id)}));return(0,Y.tZ)(CryptoPreviewCell,{currencyHolding:p,currencyPair:s.result,isLastItem:a,onClick:d,view:o})}function CryptoPreviewCell(e){var t;let{currencyHolding:n,currencyPair:r,isLastItem:o,onClick:i,view:a}=e;const s=(0,O.vB)(),l=(0,y.eG)({model:M.a,params:{id:r.id}}),c=(0,y.eG)({model:A.Y,params:CryptoCell_objectSpread({id:r.id},(0,k.ZI)({span:I.DISPLAY_SPAN.TWENTY_FOUR_HOUR}))});if(!(0,y.q_)(r))return(0,Y.tZ)(LoadingCell,{isLastItem:o});const u=r.quote_currency.id,d=null===(t=s.sections)||void 0===t?void 0:t.find((e=>"expandable_list"===e.name)),p="expandable_list"===(null==d?void 0:d.name)?{button_description:r.id,button_group_title:"home_lists",button_title:"view_cdp",entity_id:d.id,entity_type:d.displayName}:{button_description:u,button_group_title:(0,y.q_)(n)?"home_holdings":"home_legacy_watchlist",button_title:"view_cdp"};return(0,Y.tZ)(X,{caption:(0,y.q_)(n)&&D()(n.quantity).gt(0)&&(0,Y.tZ)(F.iz,{increment:r.asset_currency.increment,value:n.quantity}),isCrypto:!0,isLastItem:o,label:r.asset_currency.code,loggingInfo:p,onClick:i,to:"/crypto/".concat(r.asset_currency.code),value:l.result&&c.result&&(0,Y.tZ)(CryptoCellValue,{currencyHolding:n,currencyPair:r,currencyPairHistoricals:c.result,currencyPairQuote:l.result,quoteCurrencyId:u,view:a})},l.result&&c.result&&(0,Y.tZ)(T.p,{color:"up"===l.result.getDirectionForSpan({historicals:c.result,span:I.DISPLAY_SPAN.TWENTY_FOUR_HOUR})?w.E1.Positive:w.E1.Negative},(e=>{var t;let{rootClassName:n}=e;return c.result&&(0,Y.tZ)("div",{className:n},(0,Y.tZ)(N.A,{currentValue:null===(t=l.result)||void 0===t?void 0:t.coreValueIncludingExtendedHoursIfPossible,height:16,historicals:c.result,small:!0,span:I.DISPLAY_SPAN.TWENTY_FOUR_HOUR,width:60}))})))}var se=n(26246),le=n(30484),ce=n(35002),ue=n(11397);const de={actionsArea:(0,o.css)({name:"12vgu5e",styles:"align-items:center;display:flex;gap:20px"}),additionalActionHidden:(0,o.css)({name:"eivff4",styles:"display:none"}),additionalActionVisible:(0,o.css)({name:"zjik7",styles:"display:flex"}),caretIcon:(0,o.css)({name:"b584zw",styles:"display:flex;transition:transform 300ms"}),caretIconWhenExpanded:(0,o.css)({name:"21xn5r",styles:"transform:rotate(180deg)"}),cellContainer:(0,o.css)({name:"3zi5gs",styles:"height:100%;position:relative;width:100%"}),cellContainerBorder:(0,o.css)({borderBottomColor:w.ZV.neutral.bg3,borderBottomStyle:"solid",borderBottomWidth:1},""),cellContainerWhenExpandable:(0,o.css)({"&:hover":{backgroundColor:w.ZV.neutral.bg2}},""),cellContent:(0,o.css)({name:"jyh989",styles:"align-items:center;display:flex;height:100%;justify-content:space-between;padding:0px 28px 0px 24px"}),tappableCell:(0,o.css)({name:"1qua1v0",styles:"color:inherit;height:100%;width:100%"})};function noop(){}function ExpandableSectionCellWrapper(e){let{additionalAction:t,additionalActionAlwaysVisible:n=!1,children:r,includeBottomBorder:i=!0,isExpandable:a=!0,isExpanded:s,loggingInfo:c,rootElement:u="div",toggleIsExpanded:d}=e;const[p,g]=(0,l.useState)(!1),[m,y]=(0,l.useState)(!1);return(0,Y.tZ)(u,{className:(0,o.cx)(de.cellContainer,a&&de.cellContainerWhenExpandable,i&&de.cellContainerBorder),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},(0,Y.tZ)(ue.k,{className:(0,o.cx)(de.tappableCell),loggingInfo:c,onClick:a?d:noop,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),overrideRootStyles:!a&&{cursor:"default"}},(0,Y.tZ)("div",{className:de.cellContent},"function"==typeof r?r({isHovered:m,setIsExpandHovered:g}):r,(0,Y.tZ)("div",{className:de.actionsArea},t&&(0,Y.tZ)("div",{className:(0,o.cx)(m||n?de.additionalActionVisible:de.additionalActionHidden),onClick:e=>e.stopPropagation(),onMouseEnter:()=>g(!1),onMouseLeave:()=>g(!0)},"function"==typeof t?t(m):t),a&&(0,Y.tZ)("div",{className:(0,o.cx)(de.caretIcon,s&&de.caretIconWhenExpanded)},(0,Y.tZ)(ce.sg,{color:p?w.E1.Primary:w.Wt.Fg2,type:"CaretDown16"}))))))}function HeaderCell(e){let{isExpanded:t=!1,label:n,loggingSidebarSection:r,toggleExpanded:o,viewHandler:i}=e;const a=(0,d.n)(u.V.webFutureMultitaskingQuickNav),s=(0,x.Q$)(),c=l.useCallback((()=>{o(),r&&(0,x.N4)(!t,r,s.current.screen,s.current.identifier)}),[t,r,s,o]);return(0,Y.tZ)(ExpandableSectionCellWrapper,{additionalAction:i&&(0,Y.tZ)(DisplayMenu,{loggingSidebarSection:r,onChange:i.onViewChange,view:i.view}),isExpandable:a,isExpanded:t,rootElement:"header",toggleIsExpanded:c},(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},n))}function DisplayMenu(e){let{loggingSidebarSection:t,onChange:n,view:r}=e;const o=(0,le.o)(),i=(0,d.n)(u.V.webFutureMultitaskingQuickNav),a=l.useMemo((()=>[{label:o.formatMessage({defaultMessage:"Display",id:"DisplayMenu.title",status:"legacy"}),variant:"title"},{label:o.formatMessage({defaultMessage:"Last Price",id:"DisplayMenu.option.price",status:"legacy"}),value:"price"},{label:o.formatMessage({defaultMessage:"Your Equity",id:"DisplayMenu.option.equity",status:"legacy"}),value:"equity"},{label:o.formatMessage({defaultMessage:"Today’s Return",id:"DisplayMenu.option.todaysReturn",status:"legacy"}),value:"todaysReturn"},{label:o.formatMessage({defaultMessage:"Total Return",id:"DisplayMenu.option.totalReturn",status:"legacy"}),value:"totalReturn"}]),[o]),s=(0,x.Q$)(),c=l.useCallback((e=>{let{value:r}=e;n&&(n(r),function logMenuOptionClickEvent(e){(0,z.TX)(U.YB,{button_group_title:"home_holdings_display_data",button_title:h.C0[e]})}(r),t&&(0,x.Zm)(r,t,s.current.screen,s.current.identifier))}),[t,s,n]),p=l.useCallback((()=>{!function logMenuVisibilityEvent(){(0,z.TX)(U.YB,{button_group_title:"home_holdings",button_title:"edit_holdings_display_data"})}(),t&&(0,x.Ct)(t,s.current.screen,s.current.identifier)}),[t,s]);return(0,Y.tZ)(se.P,{onChange:c,onMenuOpen:p,options:a,toggleButtonBackgroundColor:i?w.Wt.Bg2:w.Wt.Bg1,toggleButtonForegroundColor:w.Wt.Fg2,value:r})}const pe=l.memo((function CryptoRowImpl(e){let{cell:t,isParentCollapsed:n,updateCollapsedSections:r,updateViewStates:o,viewStates:i}=e;if(t.type===h.Cz.HEADER){const e=t.viewKey&&i.get(t.viewKey);return(0,Y.tZ)(HeaderCell,{isExpanded:!n(t.id),label:t.label,loggingSidebarSection:"crypto",toggleExpanded:()=>r(t.id),viewHandler:e?{onViewChange:e=>{t.viewKey&&o(t.viewKey,e)},view:e}:void 0})}return t.type===h.Cz.CRYPTO?(0,Y.tZ)(CryptoCell,{cellData:t,loggingSidebarSection:"crypto",view:t.viewKey&&i.get(t.viewKey)||"price"}):null}));var ge,me=n(14381),ye=n(83589),fe=n(44768),ve=n(93284);const he={button_group_title:"sidebar_lists",button_title:"create_new_list"};function DeprecatedListsHeaderCell(e){let{createListButtonRef:t,isExpanded:n,onClickCreateListButton:r,toggleExpanded:o}=e;const i=(0,ve.og)(),a=(0,d.n)(u.V.webFutureMultitaskingQuickNav),s=(0,x.Q$)(),c=l.useCallback((()=>{r(),(0,x.Bz)(s.current.screen,s.current.identifier)}),[r,s]),p=l.useCallback((()=>{o(),(0,x.N4)(!n,"lists",s.current.screen,s.current.identifier)}),[n,s,o]);return(0,Y.tZ)(ExpandableSectionCellWrapper,{additionalAction:e=>(0,Y.tZ)(fe.h,{"aria-label":i.formatMessage({defaultMessage:"Create new list",id:"ListsHeaderCell.CreateButton.Label",owners:(0,ve.IP)("eric.lovett@robinhood.com"),redOakId:"2679802",shipDate:(0,ve.tC)("2023-01-31"),status:"pending"}),backgroundColor:a&&e?w.Wt.Bg2:w.Wt.Bg1,"data-testid":P.c.SidebarCreateListButton,foregroundColor:w.Wt.Fg2,icon:"Plus16",innerRef:t,loggingInfo:he,onClick:c,type:"button"}),additionalActionAlwaysVisible:!0,isExpandable:a,isExpanded:n,rootElement:"header",toggleIsExpanded:p},ge||(ge=(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},(0,Y.tZ)(ve.DH,{defaultMessage:"Lists",id:"InstrumentPreviewList.Lists.Header",status:"legacy"}))))}var _e,be=n(67527),Ce=n(90431),Oe=n(44574),Se=n(26797);function IPOAccessValue(e){let{ipoQuote:t,view:n}=e;const r=(0,Se.O)(t);switch(n){case"price":return(0,Y.tZ)(W.Dy.Text,{size:"S"},r);default:return _e||(_e=(0,Y.tZ)(F.tA,{value:null}))}}var Ee,Pe,Ze,De=n(60514),Te=n(16182);function Value(e){var t,n;let{position:r,quote:o,view:i}=e;switch(i){case"price":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.lm,{currentPrice:o.coreValue,display:"percent",percent:o.deltaFraction,price:o.deltaToClose}),delta:o.deltaFraction||0,price:(0,Y.tZ)(F.tA,(0,_.Z)({},D()(o.marketPrice).gt(10**5)?{maximumFractionDigits:0,minimumFractionDigits:0}:{},{stock:!0,value:o.marketPrice}))});case"equity":return r?(0,Y.tZ)(F.XG,{stock:!0,value:D()(o.marketPrice).times(r.quantity)}):Ee||(Ee=(0,Y.tZ)(F.tA,{value:null}));case"todaysReturn":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:null==r?void 0:r.getTodaysReturnAndFraction(o).todaysReturnFraction}),delta:o.deltaFraction||0,price:(0,F.yr)(o.deltaFraction||0,(0,Y.tZ)(F.lm,{display:"price",price:null==r?void 0:r.getTodaysReturnAndFraction(o).todaysReturn}))});case"totalReturn":return null!=r&&r.avg_cost_affected?Pe||(Pe=(0,Y.tZ)(ve.DH,{defaultMessage:"N/A",id:"StockPreviewCell.Value.na",status:"legacy"})):(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:null==r?void 0:r.getTotalReturnFraction(o)}),delta:null!==(t=null==r?void 0:r.getTotalReturn(o))&&void 0!==t?t:0,price:(0,F.yr)(null!==(n=null==r?void 0:r.getTotalReturn(o))&&void 0!==n?n:0,(0,Y.tZ)(F.lm,{display:"price",price:null==r?void 0:r.getTotalReturn(o)}))});default:return Ze||(Ze=(0,Y.tZ)(F.tA,{value:null}))}}const we={historicalsGraphWrapper:(0,o.css)({name:"1dd7dg9",styles:"align-items:center;display:flex;flex:0 0 64px;justify-content:center"})};function StockPreviewCell(e){var t,n,r,o;let{historicals:i,inAnADTExperiment:a,instrument:s,ipoQuote:c,isLastItem:u,isPreMarketSession:d,onClick:p,position:g,quote:m,view:y}=e;const f=(0,O.vB)(),v=s.allDayTradableEligibile(a),h=(0,l.useMemo)((()=>g&&(t||(t=(0,Y.tZ)(Te.S,{position:g})))),[g]),_=(0,l.useMemo)((()=>m?n||(n=(0,Y.tZ)(Value,{position:g,quote:m,view:y})):s.isNonPublicIPOAccessInstrument&&c?r||(r=(0,Y.tZ)(IPOAccessValue,{ipoQuote:c,view:y})):null),[s,c,g,m,y]),b=(0,l.useMemo)((()=>m&&i&&(0,Y.tZ)("div",{className:we.historicalsGraphWrapper},(0,Y.tZ)(De.d,{enableADT:v,height:16,historicals:i,isPreMarketSession:d,quote:m,small:!0,span:I.DISPLAY_SPAN.DAY,width:60}))),[i,m,d,v]),C=g&&Boolean(g.quantity),S=null===(o=f.sections)||void 0===o?void 0:o.find((e=>"expandable_list"===e.name)),E=l.useMemo((()=>{if(s)return"expandable_list"===(null==S?void 0:S.name)?{button_description:s.id,button_group_title:"home_lists",button_title:"view_sdp",entity_id:S.id,entity_type:S.displayName}:{button_description:s.id,button_group_title:C?"home_holdings":"home_legacy_watchlist",button_title:"view_sdp"}}),[S,s,C]);return(0,Y.tZ)(X,{caption:h,isLastItem:u,label:s.symbol,loggingInfo:E,onClick:p,pendingState:null==g?void 0:g.pendingState,to:s.webappPath,value:_},b)}function InstrumentCell_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function InstrumentCell_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?InstrumentCell_ownKeys(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):InstrumentCell_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function InstrumentCell(e){var t,n,r;let{cellData:{id:o,isLastItem:i,position:a},isPreMarketSession:s,loggingSidebarSection:c,skipSubscription:p,view:g}=e;const m=(0,x.Q$)(),f=l.useCallback((()=>{("lists"===c?x.mN:x.AD)("stock",o,m.current.screen,m.current.identifier)}),[o,c,m]);(0,y.tT)({disabled:p,many:!0,model:Oe.Z9,params:{ids:o,include_inactive:!1}}),(0,y.tT)({disabled:p,many:!0,model:Oe.pi,params:InstrumentCell_objectSpread({ids:o},(0,k.iW)({span:I.DISPLAY_SPAN.DAY}))});const v=(0,y.eG)({model:Oe.Z9,params:{include_inactive:!1,instrumentId:o}}),h=(0,d.n)(u.V.adt)||!1,_=(0,d.n)(u.V.adtChartInternal)||!1,b=h||_,C=(0,y.eG)({disabled:!v.result,model:Oe.pi,params:InstrumentCell_objectSpread({include_inactive:!0,symbol:null===(t=v.result)||void 0===t?void 0:t.symbol},(0,k.iW)({bounds:b?I.BOUNDS.ADT:void 0,span:I.DISPLAY_SPAN.DAY}))}),O=(0,y.eG)({disabled:!o,model:Oe.k0,params:{id:o}}),S=(0,y.tT)({disabled:!(null!==(n=O.result)&&void 0!==n&&n.isNonPublicIPOAccessInstrument),model:Oe.PQ,params:{instrument_id:null===(r=O.result)||void 0===r?void 0:r.id}}),E=(0,be.GZ)(O,v,C);if((0,be.SJ)(E)){const e=new Error("Unable to load data for quote and historical data for id=".concat(o));return(0,Ce.e)(e,{error:E.error}),null}return!o||C.loading||v.loading||!O.result?(0,Y.tZ)(LoadingCell,{isLastItem:i}):(0,Y.tZ)(StockPreviewCell,{historicals:C.result,inAnADTExperiment:b,instrument:O.result,ipoQuote:S.result,isLastItem:i,isPreMarketSession:s,onClick:f,position:a,quote:v.result,view:g})}var Ie=n(28999),ke=n(56273);var xe={name:"qeq9f3",styles:"align-items:center;display:flex;overflow:hidden"},Re={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"},Me={name:"1uowx8j",styles:"display:flex;height:100%;width:100%"},Le={name:"1uowx8j",styles:"display:flex;height:100%;width:100%"},Ae={name:"1uowx8j",styles:"display:flex;height:100%;width:100%"};function CellHyperlink(e){let{customIcon:t,isLink:n=!0,list:r,onClick:o,onMouseEnter:i,onMouseLeave:a,showIcon:s}=e;const l=(0,Y.tZ)("div",{css:xe,onClick:o,onMouseEnter:i,onMouseLeave:a},s&&(0,Y.tZ)("div",{css:(0,Y.iv)({flexShrink:0,marginRight:q.q3},"")},null!=t?t:(0,Y.tZ)(ke.D,{emoji:r.icon_emoji,imageUrls:r.image_urls,listId:r.id||void 0,size:"md"})),(0,Y.tZ)("div",{css:Re},(0,Y.tZ)(W.Dy.Text,{size:"S"},r.display_name)));return n?(0,Y.tZ)(j.n,{css:Le,"data-testid":P.c.VirtualizedSidebar.ListCellHyperlink,loggingInfo:{button_group_title:"sidebar_list_cell",button_title:"view_list",entity_id:r.id,entity_type:r.display_name,tag:"robinhood"===r.owner_type?"rh_list":"custom_list"},onClick:e=>{e.stopPropagation()},to:"/lists/".concat(r.owner_type,"/").concat(r.id)},(0,Y.tZ)("div",{css:Ae},l)):(0,Y.tZ)("div",{css:Me},l)}var Fe=n(54289);const Ne={cellLink:(0,o.css)({name:"7zh1zr",styles:"cursor:pointer;display:flex;overflow:hidden"}),isExpandableCellLink:(0,o.css)({"&:hover":{backgroundColor:w.ZV.neutral.hoverBg1,borderRadius:"4px"},margin:"-4px 16px -4px -8px",padding:"4px 8px"},""),unExpandableCellLink:(0,o.css)({name:"6m26ux",styles:"align-items:center;flex-grow:1;height:100%"})};function ListCell(e){let{cellData:t,isEditable:n=!1,isExpanded:r,isLink:i=!0,toggleIsExpanded:a}=e;const{isLastItem:s,listId:c}=t,u=(0,y.eG)({model:Ie.W,params:{id:c}}).result,d=(0,x.Q$)(),p=l.useCallback((()=>{a(),(0,x.GP)(!r,c,d.current.screen,d.current.identifier)}),[r,c,d,a]),g=null==u?void 0:u.owner_type,m=l.useCallback((()=>{if(!g)return;("custom"===g?x.oA:x.lM)(c,d.current.screen,d.current.identifier)}),[c,g,d]);if(!u)return null;const f="custom"===u.owner_type&&!!t.expandedKey;return(0,Y.tZ)(ExpandableSectionCellWrapper,{additionalAction:!n&&(0,Y.tZ)(Fe.o,{list:u,listId:c}),includeBottomBorder:s&&(!f||!r),isExpandable:f,isExpanded:r,loggingInfo:{button_group_title:"home_lists",button_title:r?"collapse_list":"expand_list",entity_id:u.id,entity_type:u.display_name},toggleIsExpanded:p},(e=>{let{setIsExpandHovered:t}=e;return(0,Y.tZ)("div",{className:(0,o.cx)(Ne.cellLink,!n&&f?Ne.isExpandableCellLink:Ne.unExpandableCellLink)},(0,Y.tZ)(CellHyperlink,{isLink:i,list:u,onClick:m,onMouseEnter:()=>t(!1),onMouseLeave:()=>t(!0),showIcon:!0}))}))}var Be=n(7467),je=n(43306),He=n(33417);const Ue=(0,ve.B2)({screenerCardDescription:{defaultMessage:"Find your next trade with filters for price, volume, and other indicators",id:"ChooseListTypeModal.Card.Screener.Description",redOakId:"2564484",status:"approved"},screenerCardTitle:{defaultMessage:"Create screener",id:"ChooseListTypeModal.Card.Screener.Label",redOakId:"2564484",status:"approved"},watchlistCardDescription:{defaultMessage:"Keep an eye on investments you’re interested in",id:"ChooseListTypeModal.Card.Watchlist.Description",redOakId:"2564484",status:"approved"},watchlistCardTitle:{defaultMessage:"Create watchlist",id:"ChooseListTypeModal.Card.Watchlist.Label",redOakId:"2564484",status:"approved"}});function CreateListModal(e){let{handleModalClose:t,isCreatingList:n,updateIsCreatingList:r}=e;const o=l.useRef(null),i=(0,ve.og)(),a=(0,d.n)(u.V.webFutureMultitaskingQuickNav);return(0,Y.tZ)(Be.u,{backgroundColor:w.Wt.Bg1,onClose:()=>t(),width:"wide"},(0,Y.tZ)(Be.u.Header,{title:i.formatMessage({defaultMessage:"Create list",id:"CreateListModal.Label.Title",status:"legacy"})}),(0,Y.tZ)(me.S,{createButtonEl:o.current,emojiPopoverPlacement:a?"top-left-corner":"top-right-corner",includeAccordion:!1,includeBottomBorder:!0,isOpen:n,onCancel:()=>{r(!1),t()},onCreateList:()=>{r(!1),t()},useStylesForModal:!0}))}var ze=n(70855),We=n.n(ze),qe=n(43972),Ye=n.n(qe);function ChooseListTypeButton(e){let{isHovered:t,onClick:n,screen:r,updateIsCreatingList:o}=e;const i=(0,ve.og)(),a=(0,d.n)(u.V.webFutureMultitaskingQuickNav),[s,c]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),m=l.useCallback((()=>{null==n||n(),c(!0)}),[n]);return(0,Y.tZ)(l.Fragment,null,(0,Y.tZ)(fe.h,{"aria-label":i.formatMessage({defaultMessage:"Create new list or screener",id:"ChooseListTypeButton.CreateButton.Label",status:"legacy"}),backgroundColor:a&&t?w.Wt.Bg2:w.Wt.Bg1,"data-testid":P.c.SidebarCreateListButton,foregroundColor:w.Wt.Fg2,icon:"Plus16",onClick:m,protoLoggingInfo:(0,He.Ah)({screen:r}),type:"button"}),s&&(0,Y.tZ)(ChooseListTypeModal,{handleModalClose:()=>c(!1),handleShowCreateListModal:()=>g(!0)}),p&&(0,Y.tZ)(CreateListModal,{handleModalClose:()=>g(!1),isCreatingList:!1,updateIsCreatingList:o}))}function ChooseListTypeModal(e){let{handleModalClose:t,handleShowCreateListModal:n}=e;const r=(0,ve.og)();return(0,Y.tZ)(Be.u,{backgroundColor:w.Wt.Bg1,onClose:()=>t(),width:"wide"},(0,Y.tZ)(Be.u.Header,{title:r.formatMessage({defaultMessage:"Choose a list type",id:"ChooseListTypeModal.Label.Title",status:"legacy"})}),(0,Y.tZ)("div",{css:(0,Y.iv)({display:"flex",gap:q.hc},"")},(0,Y.tZ)(je.w4,{description:(0,Y.tZ)(ve.DH,Ue.watchlistCardDescription),imgSrc:We(),label:(0,Y.tZ)(ve.DH,Ue.watchlistCardTitle),onClick:()=>{t(),n()},type:"button",width:206}),(0,Y.tZ)(je.w4,{description:(0,Y.tZ)(ve.DH,Ue.screenerCardDescription),href:"/screener/new",imgSrc:Ye(),isNew:!0,label:(0,Y.tZ)(ve.DH,Ue.screenerCardTitle),type:"anchor",width:206})),(0,Y.tZ)(Be.u.Footer,{primaryButton:{label:r.formatMessage({defaultMessage:"Go back",id:"ChooseListTypeModal.Button.GoBack",status:"legacy"}),onClick:()=>t()}}))}function ListsHeaderCell(e){let{isExpanded:t,screen:n,toggleExpanded:r,updateIsCreatingList:o}=e;const i=(0,d.n)(u.V.webFutureMultitaskingQuickNav),a=(0,x.Q$)(),s=l.useCallback((()=>{(0,x.Bz)(a.current.screen,a.current.identifier)}),[a]),c=l.useCallback((()=>{r(),(0,x.N4)(!t,"lists",a.current.screen,a.current.identifier)}),[t,a,r]);return(0,Y.tZ)(ExpandableSectionCellWrapper,{additionalAction:e=>(0,Y.tZ)(ChooseListTypeButton,{isHovered:e,onClick:s,screen:n,updateIsCreatingList:o}),additionalActionAlwaysVisible:!0,isExpandable:i,isExpanded:t,rootElement:"header",toggleIsExpanded:c},(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},(0,Y.tZ)(ve.DH,{defaultMessage:"Lists",id:"InstrumentPreviewList.Watching.Header",owners:(0,ve.IP)("samantha.klonaris@robinhood.com"),shipDate:(0,ve.tC)("2023-03-15"),status:"pending"})))}var Ve,Ge=n(42579),Ke=n(94749);function PriceMovement(e){let{direction:t,optionStrategyDetail:n}=e;const r=t===Ge.J7.Credit,o=n.legs.first(void 0),i=(0,y.tT)({disabled:!o,model:m.e1,params:{instrumentId:null==o?void 0:o.option_id}});return i.result?(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.lm,{currentPrice:i.result.adjusted_mark_price,display:"percent",percent:i.result.corePriceDeltaFraction,price:i.result.corePriceDelta}),delta:i.result.corePriceDelta,isInvertedColor:r,price:(0,Y.tZ)(F.tA,{value:i.result.coreValueIncludingExtendedHoursIfPossible})}):Ve||(Ve=(0,Y.tZ)(Ke.O,{height:16,width:52}))}var Qe=n(27548),Xe=n(19207),Je=n(57390);function WatchedStrategyCaption(e){var t;let{optionAggregatePosition:n,optionStrategyDetail:r}=e;const o=(0,ve.og)(),i=(0,Xe.Y)(),a=r.legs.first(void 0),s=(0,y.tT)({disabled:!a,model:m.p8,params:{id:null==a?void 0:a.option_id}});if(!s&&1!==r.legs.size)return null;const l=s.result?i(s.result.normalizedExpirationDate,{short:!0}):"",c=null!==(t=null==a?void 0:a.position_type)&&void 0!==t?t:Ge.d.Long,u=(0,Je.k3)({positionEffect:Ge.yR.Open,positionType:c});return(0,Y.tZ)(ve.DH,{defaultMessage:"{expirationDate} • {position}",id:"OptionStrategyPreviewCell.caption",redOakId:"2819976",status:"approved",values:{expirationDate:l,position:n?o.formatMessage(Qe.s.singleLegPositionQuantity[c],{quantity:n.quantity}):o.formatMessage(Qe.s.side[u])}})}function OptionStrategyCell(e){var t;let{cellData:n}=e;const{isLastItem:r,name:o,optionAggregatePosition:i,optionListItem:a,strategyCode:s}=n,c=(0,y.tT)({disabled:!s,model:m.lf,params:{strategy_code:s}}),u=(0,x.Q$)(),d=l.useCallback((()=>{(0,x.zs)(s,u.current.screen,u.current.identifier)}),[s,u]);return c.result?(0,Y.tZ)(X,{caption:(0,Y.tZ)(WatchedStrategyCaption,{optionAggregatePosition:i,optionStrategyDetail:c.result}),isLastItem:r,label:o,onClick:d,to:"/options/".concat(s),value:(0,Y.tZ)(PriceMovement,{direction:null!==(t=null==a?void 0:a.open_price_direction)&&void 0!==t?t:Ge.J7.Debit,optionStrategyDetail:c.result})}):(0,Y.tZ)(LoadingCell,{isLastItem:r})}var $e,et,tt=n(59955);function OptionWatchlistCellIcon(){return $e||($e=(0,Y.tZ)(ke.A,{imageUrls:null,isActive:!1,size:"md",type:"default",variant:"default"},(0,Y.tZ)(ce.sg,{type:"Eye16"})))}function OptionWatchlistHeaderCell(e){let{cellData:t,isExpanded:n,toggleIsExpanded:r}=e;const{isLastItem:i,listId:a}=t,s=(0,x.Q$)(),c=l.useCallback((()=>{r(),(0,x.GP)(!n,x.A4,s.current.screen,s.current.identifier)}),[n,s,r]),u=l.useCallback((()=>{(0,x.QO)(s.current.screen,s.current.identifier)}),[s]),d=(0,tt.t)({model:Ie.W,params:{id:a,owner_type:"custom"}}).result;if(!d)return null;const p=!!t.expandedKey;return(0,Y.tZ)(ExpandableSectionCellWrapper,{includeBottomBorder:i&&(!p||!n),isExpandable:p,isExpanded:n,loggingInfo:{button_group_title:"home_lists",button_title:n?"collapse_list":"expand_list",entity_id:d.id,entity_type:d.display_name},toggleIsExpanded:c},(e=>{let{setIsExpandHovered:t}=e;return(0,Y.tZ)("div",{className:(0,o.cx)(Ne.cellLink,p?Ne.isExpandableCellLink:Ne.unExpandableCellLink)},(0,Y.tZ)(CellHyperlink,{customIcon:et||(et=(0,Y.tZ)(OptionWatchlistCellIcon,null)),list:d,onClick:u,onMouseEnter:()=>t(!1),onMouseLeave:()=>t(!0),showIcon:!0}))}))}var nt=n(49569);function getTapSavedScreenerRowLoggingInfo(e){let{screen:t,screenerId:n}=e;return{component:{component_type:nt.t.event_logging.Component.ComponentType.ROW,identifier:"".concat("screener_").concat(n)},event_type:nt.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:t}}}var rt={name:"qeq9f3",styles:"align-items:center;display:flex;overflow:hidden"},ot={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"},it={name:"1uowx8j",styles:"display:flex;height:100%;width:100%"},at={name:"1uowx8j",styles:"display:flex;height:100%;width:100%"};function ScreenerCellHyperlink(e){let{onClick:t,onMouseEnter:n,onMouseLeave:r,screenerData:o}=e;const i=(0,Y.tZ)("div",{css:rt,onClick:t,onMouseEnter:n,onMouseLeave:r},(0,Y.tZ)("div",{css:(0,Y.iv)({flexShrink:0,marginRight:q.q3},"")},(0,Y.tZ)(ke.D,{emoji:o.icon_emoji||"💡",listId:o.screenerId||void 0,size:"md"})),(0,Y.tZ)("div",{css:ot},(0,Y.tZ)(W.Dy.Text,{size:"S"},o.display_name)));return(0,Y.tZ)(j.n,{css:it,"data-testid":P.c.VirtualizedSidebar.ListCellHyperlink,loggingInfo:{button_group_title:"sidebar_screener_cell",button_title:"view_list",entity_id:o.screenerId,entity_type:o.display_name},onClick:e=>{e.stopPropagation()},to:"/screener/".concat(o.screenerId,"?source=lists_section_saved_screener")},(0,Y.tZ)("div",{css:at},i))}var st,lt=n(61100);const ct={actionIcon:{name:"b584zw",styles:"display:flex;transition:transform 300ms"},actionsArea:{name:"12vgu5e",styles:"align-items:center;display:flex;gap:20px"},cellContainer:{name:"3zi5gs",styles:"height:100%;position:relative;width:100%"},cellContent:{name:"jyh989",styles:"align-items:center;display:flex;height:100%;justify-content:space-between;padding:0px 28px 0px 24px"},tappableCell:{name:"1qua1v0",styles:"color:inherit;height:100%;width:100%"}};function ScreenerCellWrapper_noop(){}function _ScreenerIconTooltip(){const e=(0,ve.og)().formatMessage({defaultMessage:"Screener",id:"ScreenerCell.Icon.Tooltip.label",redOakId:"2564484",status:"approved"}),[t,n]=l.useState(!1);return(0,Y.tZ)(lt.a,{arrowPosition:"center",content:e,hasArrow:!0,isOpen:t,placement:"top",renderTrigger:()=>(0,Y.tZ)("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1)},(0,Y.tZ)(ce.sg,{color:t?w.E1.Positive:w.Wt.Fg3,type:"Recurring16"}))})}const ut=l.memo(_ScreenerIconTooltip);function ScreenerCellWrapper(e){let{children:t,protoLoggingInfo:n}=e;return(0,Y.tZ)("div",{css:ct.cellContainer},(0,Y.tZ)(ue.k,{css:ct.tappableCell,onClick:ScreenerCellWrapper_noop,protoLoggingInfo:n},(0,Y.tZ)("div",{css:ct.cellContent},t,(0,Y.tZ)("div",{css:ct.actionsArea},(0,Y.tZ)("div",{css:ct.actionIcon},st||(st=(0,Y.tZ)(ut,null)))))))}const dt={cellContainer:{name:"lw44a8",styles:"align-items:center;color:inherit;display:flex;height:100%;justify-content:space-between;padding:0px 28px 0px 24px;position:relative;width:100%"},cellLink:{name:"195xmcc",styles:"cursor:pointer;display:flex;margin:-4px 16px -4px -8px;overflow:hidden;padding:4px 8px;width:100%"}};function ScreenerCell(e){let{cellData:t,screen:n}=e;const r=l.useCallback((()=>{}),[]);return t?(0,Y.tZ)(ScreenerCellWrapper,{protoLoggingInfo:getTapSavedScreenerRowLoggingInfo({screen:n,screenerId:t.screenerId})},(0,Y.tZ)("div",{css:dt.cellLink},(0,Y.tZ)(ScreenerCellHyperlink,{onClick:r,screenerData:t}))):null}const pt=l.memo((function ListRowImpl(e){let{cell:t,expandedStates:n,isCreatingList:r,isParentCollapsed:o,isPreMarketSession:i,isScrolling:a,isVisible:s,screen:c,updateCollapsedSections:p,updateExpandedStates:g,updateIsCreatingList:m}=e;const y=(0,ye.w)(),f=(0,d.n)(u.V.webFutureMultitaskingQuickNav),v=l.useRef(null),_=a||!s;return t.type===h.Cz.HEADER?(0,Y.tZ)(HeaderCell,{isExpanded:!o(t.id),label:t.label,loggingSidebarSection:"following",toggleExpanded:()=>p(t.id)}):t.type===h.Cz.LIST?o(t.parent)?null:t.listId===y?(0,Y.tZ)(OptionWatchlistHeaderCell,{key:t.listId,cellData:t,isExpanded:!!n.get(t.listId),toggleIsExpanded:()=>{g(t.listId)}}):(0,Y.tZ)(ListCell,{key:t.listId,cellData:t,isExpanded:!!n.get(t.listId),toggleIsExpanded:()=>{g(t.listId)}}):t.type===h.Cz.SCREENER?(0,Y.tZ)(ScreenerCell,{key:t.screenerId,cellData:t,screen:c}):t.type===h.Cz.DEPRECATED_LISTS_HEADER?(0,Y.tZ)(DeprecatedListsHeaderCell,{createListButtonRef:v,isExpanded:!t.id||!o(t.id),onClickCreateListButton:()=>{m(!0)},toggleExpanded:()=>p(t.id)}):t.type===h.Cz.LISTS_HEADER?(0,Y.tZ)(ListsHeaderCell,{isExpanded:!t.id||!o(t.id),screen:c,toggleExpanded:()=>p(t.id),updateIsCreatingList:m}):t.type===h.Cz.OPTIONS_STRATEGY?(0,Y.tZ)(OptionStrategyCell,{cellData:t}):t.type===h.Cz.NEW_LIST?r&&!o(t.parent)?(0,Y.tZ)(me.S,{createButtonEl:v.current,emojiPopoverPlacement:f?"top-left-corner":"top-right-corner",includeAccordion:!1,includeBottomBorder:!0,isOpen:r,onCancel:()=>{m(!1)},onCreateList:()=>{m(!1)}}):null:t.type===h.Cz.CRYPTO?(0,Y.tZ)(CryptoCell,{cellData:t,loggingSidebarSection:"lists",view:"price"}):t.type===h.Cz.INSTRUMENT?(0,Y.tZ)(InstrumentCell,{cellData:t,isPreMarketSession:i,loggingSidebarSection:"lists",skipSubscription:_,view:"price"}):null}));var gt=n(79161),mt=n(82382),yt=n(55045),ft=n(79208),vt=n(24874),ht=n(49867);const _t={container:(0,o.css)({borderBottomColor:w.ZV.neutral.bg2,borderBottomStyle:"solid",borderBottomWidth:8,paddingLeft:24,paddingRight:24},""),horizontalDivider:(0,o.css)({backgroundColor:w.ZV.neutral.bg3,border:0,height:1,margin:0},""),indicator:(0,o.css)({name:"1hh20hi",styles:"display:flex;flex-grow:0;flex-shrink:0;justify-content:flex-start;padding-bottom:12px;padding-top:12px"}),indicatorContainers:(0,o.css)({name:"lakytm",styles:"align-items:stretch;display:flex;flex-direction:column;justify-content:stretch"}),indicatorWithDivider:(0,o.css)({borderTopColor:w.ZV.neutral.bg3,borderTopStyle:"solid",borderTopWidth:1},""),marketUpdate:(0,o.css)({name:"id5895",styles:"padding-bottom:24px;padding-top:24px"})};function ExploratoryIndicatorsAndMarketUpdateCell(e){let{indicatorsElement:t,marketUpdateElement:n,onResize:r}=e;const i=null==t?void 0:t.contents.filter((e=>e.content_type===ht.z.Indicators)).filter((e=>ft.Qp.includes(e.data.indicator_type))).slice(0,ft.OR),a=null==n?void 0:n.contents.filter((e=>e.content_type===ht.z.MarketUpdates))[0];return i&&0!==i.length||a?(0,Y.tZ)(gt.default,{client:!0,onResize:r},(e=>{let{measureRef:t}=e;return(0,Y.tZ)("div",{ref:t,className:_t.container},(0,Y.tZ)("div",{className:_t.indicatorContainers},i&&i.map(((e,t)=>{let n=null;return"bonfire_market_index"===e.data.indicator_type&&(n=(0,Y.tZ)(yt.X,{key:e.data.indicator_key,indicatorKey:e.data.indicator_key,title:e.data.label,variant:"row"})),"currency_pair"===e.data.indicator_type&&(n=(0,Y.tZ)(mt.c,{key:e.data.indicator_key,indicatorKey:e.data.indicator_key,title:e.data.label,variant:"row"})),(0,Y.tZ)("div",{key:e.id,className:(0,o.cx)(_t.indicator,t>0&&_t.indicatorWithDivider)},n)}))),i&&a&&(0,Y.tZ)("hr",{className:_t.horizontalDivider}),a&&(0,Y.tZ)("article",{className:_t.marketUpdate},(0,Y.tZ)(vt.j,{marketUpdate:a.data,variant:"sidebar"})))})):null}var bt,Ct,Ot=n(27261),St=n(11898),Et=n(15710),Pt=n(6825),Zt=n(27352),Dt=n(47486),Tt=n(30999);const wt={article:(0,o.css)({borderBottom:"1px solid ".concat(w.ZV.neutral.bg3),display:"flex",flexDirection:"column",gap:8,height:"100%",padding:"16px 24px"},""),articleContentWithImage:(0,o.css)({name:"1m2spar",styles:"align-items:flex-start;display:flex;flex-direction:row;gap:8px;justify-content:space-between"}),articleFooter:(0,o.css)({name:"hkh81z",styles:"margin-top:8px"}),articleHover:(0,o.css)({"&:hover":{backgroundColor:w.ZV.neutral.bg2}},""),articleImage:(0,o.css)({"@media (max-width: 1439px)":{display:"none"},borderRadius:w.ZV.size.borderRadius,flexBasis:80,flexGrow:0,flexShrink:0,height:80,objectFit:"cover",objectPosition:"center",width:80},""),divider:(0,o.css)({backgroundColor:w.ZV.neutral.bg2,height:8,width:"100%"},""),footer:(0,o.css)({"&:hover":{backgroundColor:w.ZV.neutral.bg2},alignItems:"center",display:"flex",justifyContent:"center",padding:"16px 0",width:"100%"},""),header:(0,o.css)({name:"wmu45h",styles:"height:52px;width:100%"}),headerName:(0,o.css)({name:"q82x4k",styles:"align-items:center;display:flex;flex-direction:row"})};function NewsListArticle(e){var t,n;let{element:r,onResize:i}=e;const a=(0,x.Q$)(),s=l.useCallback((()=>{(0,x.BF)(r.id,a.current.screen,a.current.identifier)}),[r.id,a]),c=(0,Zt.y)(r.contents);if(!c)return null;const{data:u}=c,d=(null===(t=u.preview_media)||void 0===t?void 0:t.url)||(null===(n=u.media)||void 0===n?void 0:n.url),p=(0,Y.tZ)("div",null,(0,Y.tZ)(W.Dy.Text,{element:"div",size:"S"},u.title),(0,Y.tZ)(W.Dy.Text,{color:w.Wt.Fg2,element:"div",overrideRootStyles:{marginTop:8},size:"S"},u.source," ",(0,Y.tZ)(F.nX,{adjustFutureTimeToNow:!0,format:"short",thresholdMsForRelative:1/0,value:u.published_at}))),g=(0,Y.tZ)(l.Fragment,null,d?(0,Y.tZ)("div",{className:wt.articleContentWithImage},p,(0,Y.tZ)(St.E,{className:wt.articleImage,src:d})):p);return(0,Y.tZ)(gt.default,{client:!0,onResize:i},(e=>{let{measureRef:t}=e;return u.url?(0,Y.tZ)("article",{ref:t},(0,Y.tZ)(Ot.O,{className:(0,o.cx)(wt.article,wt.articleHover),href:u.url,onClick:s},g)):(0,Y.tZ)("article",{ref:t,className:wt.article},g)}))}function NewsListHeaderCell(e){let{isExpanded:t,toggleIsExpanded:n}=e;const r=(0,ve.og)(),o=!!(0,d.n)(u.V.liveIndices),i=!!(0,Tt.Hb)((0,d.B)(u.V.infoProductsMarketUpdates.name)),a=(0,Tt.jj)(o,i),[s,c]=l.useState(!1),p=l.useCallback((()=>{c(!0)}),[]),g=l.useCallback((()=>{c(!1)}),[]),m=l.useRef(null),y=(0,x.Q$)(),f=l.useCallback((()=>{n(),(0,x.N4)(!t,"news",y.current.screen,y.current.identifier)}),[t,y,n]),v=(0,l.useMemo)((()=>({component_hierarchy:{parent_0:{component_type:nt.t.event_logging.Component.ComponentType.SIDEBAR}},screen:{identifier:y.current.identifier,name:y.current.screen}})),[y,y.current.screen,y.current.identifier]);return(0,Y.tZ)(l.Fragment,null,(0,Y.tZ)("div",{ref:m,className:wt.header},(0,Y.tZ)(ExpandableSectionCellWrapper,{isExpanded:t,toggleIsExpanded:f},(0,Y.tZ)("div",{className:wt.headerName},bt||(bt=(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},(0,Y.tZ)(ve.DH,{defaultMessage:"News",id:"News.Lists.Header",status:"legacy"}))),(0,Y.tZ)(Dt.q,{handleToggleOpenNewsfeedDisclosureLabel:p})))),s&&(0,Y.tZ)(Pt.m,{contentfulId:a,onClose:g}),(0,Y.tZ)(Et.m,{description:r.formatMessage({defaultMessage:"We’ve made more space for your portfolio details below. You’ll see the latest news in the sidebar.",id:"PortfolioTableSection.Popover.body",status:"legacy"}),extraLoggingInfo:v,featureName:"portfolio-table",placement:"left-start",skidding:0,targetRef:m,title:r.formatMessage({defaultMessage:"New: Portfolio Table",id:"PortfolioTableSection.Popover.heading",status:"legacy"})}))}function NewsListFooter(){const e=(0,x.Q$)(),t=l.useCallback((()=>{(0,x.C6)(e.current.screen,e.current.identifier)}),[e]);return(0,Y.tZ)("div",null,(0,Y.tZ)(Ot.O,{className:wt.footer,href:"/news",onClick:t},(0,Y.tZ)(W.Dy.Text,{color:w.E1.Primary,isBold:!0,size:"S"},Ct||(Ct=(0,Y.tZ)(ve.DH,{defaultMessage:"Show all news",id:"News.List.Footer",status:"legacy"})))),(0,Y.tZ)("div",{className:wt.divider}))}var It;const kt=l.memo((function NewsRowImpl(e){let{cell:t,expandedStates:n,measure:r,updateExpandedStates:o}=e;return t.type===h.Cz.NEWS_HEADER?(0,Y.tZ)(NewsListHeaderCell,{isExpanded:!!n.get(t.expandedKey),toggleIsExpanded:()=>{o(t.expandedKey)}}):t.type===h.Cz.NEWS_FOOTER?It||(It=(0,Y.tZ)(NewsListFooter,null)):t.type===h.Cz.NEWS_ITEM?(0,Y.tZ)(NewsListArticle,{element:t.element,onResize:r}):t.type===h.Cz.INDICATORS_AND_MARKET_UPDATE?(0,Y.tZ)(ExploratoryIndicatorsAndMarketUpdateCell,{indicatorsElement:t.indicators,marketUpdateElement:t.marketUpdate,onResize:r}):null}));var xt,Rt=n(39400),Mt=n(45538);function CellValue(e){let{optionAggregatePosition:t,optionAggregateQuote:n,optionChain:r,view:o}=e;const i=t.direction===Ge.J7.Credit,{todaysReturn:a,todaysReturnPercent:s}=t.getTodaysReturn({optionAggregateQuote:n,optionChain:r}),{totalReturn:l,totalReturnPercent:c}=t.getTotalReturn({optionAggregateQuote:n,optionChain:r});switch(o){case"price":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.lm,{currentPrice:n.adjusted_mark_price,display:"percent",percent:n.todaysPriceDeltaFraction,price:n.todaysPriceDelta}),delta:n.todaysPriceDelta,isInvertedColor:i,price:(0,Y.tZ)(F.tA,{value:n.coreValueIncludingExtendedHoursIfPossible})});case"equity":return(0,Y.tZ)(F.XG,{value:t.getEquity({optionAggregateQuote:n,optionChain:r})});case"todaysReturn":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:s}),delta:n.todaysPriceDeltaFraction||"0",isInvertedColor:i,price:(0,F.yr)(n.todaysPriceDeltaFraction||"0",(0,Y.tZ)(F.lm,{display:"price",price:a}),i)});case"totalReturn":return(0,Y.tZ)(PriceChangeValue,{change:(0,Y.tZ)(F.YS,{display:"percent",percent:c}),delta:null!=l?l:"0",isInvertedColor:i,price:(0,F.yr)(null!=l?l:"0",(0,Y.tZ)(F.lm,{display:"price",price:l}),i)});default:return xt||(xt=(0,Y.tZ)(F.tA,{value:null}))}}function LegacyCell(e){let{isLastItem:t,onClick:n,optionAggregatePosition:r,optionAggregateQuote:o,optionChain:i,view:a}=e;return(0,Y.tZ)(X,{caption:(0,Y.tZ)(Rt.Y,{position:r}),isLastItem:t,label:(0,Y.tZ)(Mt.t,{position:r}),loggingInfo:{button_description:r.id,button_group_title:"home_holdings",button_title:"view_odp"},onClick:n,to:"/options/".concat(r.id),value:o&&(0,Y.tZ)(CellValue,{optionAggregatePosition:r,optionAggregateQuote:o,optionChain:i,view:a})})}var Lt=n(70788);function OptionAggregateCell(e){let{cellData:t,view:n}=e;const{instrumentIds:r,isLastItem:o,optionAggregatePositionId:i,optionChainId:a}=t,s=(0,x.Q$)(),c=l.useCallback((()=>{(0,x.AD)("option",i,s.current.screen,s.current.identifier)}),[i,s]),u=(0,y.eG)({model:m.JY,params:{id:i}}),d=(0,y.eG)({disabled:!a,model:m.UY,params:{id:a}}),p=(0,y.tT)({many:!0,model:m.e1,params:{ids:r.join()}});if(!u.result||!d.result||p.loading)return(0,Y.tZ)(LoadingCell,{isLastItem:o});const g=(0,Lt.Z)(u.result,p.result);return(0,Y.tZ)(LegacyCell,{isLastItem:o,onClick:c,optionAggregatePosition:u.result,optionAggregateQuote:g,optionChain:d.result,view:n})}function Cell(e){let{isLastItem:t,onClick:n,optionAggregatePosition:r,optionAggregateQuote:o,optionChain:i,optionPositionRow:a,view:s}=e;return(0,Y.tZ)(X,{caption:(0,Y.tZ)(l.Fragment,null,a.subtitle),isLastItem:t,label:(0,Y.tZ)(l.Fragment,null,a.title),loggingInfo:{button_description:r.id,button_group_title:"home_holdings",button_title:"view_odp"},onClick:n,to:"/options/".concat(r.id),value:o&&(0,Y.tZ)(CellValue,{optionAggregatePosition:r,optionAggregateQuote:o,optionChain:i,view:s})})}function OptionPositionCell(e){let{cellData:t,view:n}=e;const{isLastItem:r,optionPositionRow:o}=t,i=(0,x.Q$)(),a=l.useCallback((()=>{(0,x.AD)("option",o.id,i.current.screen,i.current.identifier)}),[o.id,i]),s=o.legs.reduce(((e,t)=>{var n;return e.concat(null!==(n=(0,y.Hz)(t.option))&&void 0!==n?n:"")}),""),c=(0,y.tT)({model:m.JY,params:{id:o.id}}),u=(0,y.tT)({disabled:!(0,y.Hz)(o.chain),model:m.UY,params:{id:(0,y.Hz)(o.chain)}}),d=(0,y.tT)({model:m.KP,params:{legs:o.getStrategyLegs()}});return(0,y.tT)({many:!0,model:m.e1,params:{ids:s}}),c.result&&u.result?(0,Y.tZ)(Cell,{isLastItem:r,onClick:a,optionAggregatePosition:c.result,optionAggregateQuote:d.result,optionChain:u.result,optionPositionRow:o,view:n}):(0,Y.tZ)(LoadingCell,{isLastItem:r})}var At=n(97895);function PendingOptionOrderBonfireCell(e){let{cellData:{isLastItem:t,pendingOptionOrderBonfire:n}}=e;const[,r]=(0,At.m)(),o=(0,x.Q$)(),i=l.useCallback((()=>{r({optionOrderDetailModalId:n.id}),(0,x.NJ)(n.id,o.current.screen,o.current.identifier)}),[r,n.id,o]);return(0,y.tT)({model:m.VZ,params:{id:n.id}}).result?(0,Y.tZ)(l.Fragment,null,(0,Y.tZ)(X,{caption:n.subtitle,isLastItem:t,label:n.title,loggingInfo:{button_description:n.id,button_group_title:"home_orders",button_title:"view_option_order_detail"},onClick:i,value:void 0})):(0,Y.tZ)(LoadingCell,{isLastItem:t})}var Ft=n(65232),Nt=n(61260);function OptionOrderTitle(e){let{order:t}=e;const n=(0,ve.og)();return(0,Y.tZ)(l.Fragment,null,t.getTitle(n))}var Bt={name:"1ll9bqd",styles:"cursor:default"};function PendingOptionOrderCell(e){var t,n;let{cellData:{isLastItem:r,pendingOptionOrder:o}}=e;const[,i]=(0,At.m)(),a=(0,x.Q$)(),s=(0,ve.og)(),c=l.useCallback((()=>{i({optionOrderDetailModalId:o.id}),(0,x.NJ)(o.id,a.current.screen,a.current.identifier)}),[i,o.id,a]),u=(0,Ft.b)(o.id);return(0,Y.tZ)(X,{caption:(0,Y.tZ)(Nt.M,{order:o}),isLastItem:r,label:(0,Y.tZ)(OptionOrderTitle,{order:o}),loggingInfo:{button_description:o.id,button_group_title:"home_orders",button_title:"view_option_order_detail"},onClick:c,value:u&&(0,Y.tZ)(lt.a,{content:s.formatMessage({defaultMessage:"Bid {bidPrice} — Ask {askPrice}",id:"PendingOptionOrderCell.LimitPrice.BidAsk",redOakId:"2418226",status:"approved"},{askPrice:(0,Y.tZ)(F.tA,{value:null===(t=u.displayBidAsk)||void 0===t?void 0:t.ask}),bidPrice:(0,Y.tZ)(F.tA,{value:null===(n=u.displayBidAsk)||void 0===n?void 0:n.bid})}),hasArrow:!0,renderTrigger:e=>{var t;let{closeTooltip:n,openTooltip:r}=e;return(0,Y.tZ)("span",{css:Bt,onBlur:n,onFocus:r,onMouseEnter:r,onMouseLeave:n},(0,Y.tZ)(W.Dy.Text,{overrideRootStyles:{borderBottom:"1px dotted ".concat(w.ZV.neutral.fg2)},size:"S"},(0,Y.tZ)(ve.DH,{defaultMessage:"{limitPrice} Limit",id:"PendingOptionOrderCell.LimitPrice",redOakId:"2418226",status:"approved",values:{limitPrice:(0,Y.tZ)(F.tA,{value:null===(t=u.optionOrder)||void 0===t?void 0:t.price})}})))}})})}function SubHeaderCell(e){let{cellData:{label:t}}=e;return(0,Y.tZ)("header",{css:[{alignItems:"center",backgroundColor:w.ZV.neutral.bg1,borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:w.ZV.neutral.bg3,display:"flex",height:46,justifyContent:"space-between",paddingBottom:q.q3,paddingLeft:2*q.q3,paddingTop:q.q3},""]},(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"S"},t))}const jt=l.memo((function OptionRowImpl(e){let{cell:t,isParentCollapsed:n,updateCollapsedSections:r,updateViewStates:o,viewStates:i}=e;if(t.type===h.Cz.HEADER){const e=t.viewKey&&i.get(t.viewKey);return(0,Y.tZ)(HeaderCell,{isExpanded:!n(t.id),label:t.label,loggingSidebarSection:"options",toggleExpanded:()=>r(t.id),viewHandler:e?{onViewChange:e=>{t.viewKey&&o(t.viewKey,e)},view:e}:void 0})}return t.type===h.Cz.SUB_HEADER?(0,Y.tZ)(SubHeaderCell,{cellData:t}):t.type===h.Cz.OPTION_LEGACY?(0,Y.tZ)(OptionAggregateCell,{cellData:t,view:t.viewKey&&i.get(t.viewKey)||"price"}):t.type===h.Cz.OPTION?(0,Y.tZ)(OptionPositionCell,{cellData:t,view:t.viewKey&&i.get(t.viewKey)||"price"}):t.type===h.Cz.PENDING_OPTION_ORDER?(0,Y.tZ)(PendingOptionOrderCell,{cellData:t}):t.type===h.Cz.PENDING_OPTION_ORDER_BONFIRE?(0,Y.tZ)(PendingOptionOrderBonfireCell,{cellData:t}):null}));var Ht=n(30454),Ut=n.n(Ht),zt=n(31965),Wt=n(12397),qt=n(90355),Yt=n(80871),Vt=n(61987),Gt=n(94941),Kt=n(91828),Qt=n(58798);const PortfolioRow_noop=()=>{},Xt=l.memo((function _PortfolioRow(){var e,t,n,r;const o=null===(e=(0,Wt.C)().result)||void 0===e?void 0:e.account_number,i=(0,y.tT)({disabled:!o,model:Gt.W,params:{accountNumber:o,chart_style:Kt.SY.PERFORMANCE,chart_type:Kt.L0.HISTORICAL_PORTFOLIO,display_span:zt.DisplaySpan.Day}}),a=function useModifiedChartData(e){return(0,l.useMemo)((()=>{if(!e)return;const t=new Gt.W(Ut()(e));return t.lines.forEach((e=>{e.segments.forEach((t=>{(0,Qt.RU)(t.styles).forEach((n=>{const r=t.styles[n];var o,i,a;if(r)if(r.line_type.stroke_width=1,r.line_type.type===Vt.TD.DOTTED&&(r.line_type.dash_gap=.07),"baseline"===e.identifier)r.color.dark=(null===(o=t.styles.inactive)||void 0===o?void 0:o.color.dark)||t.styles.default.color.dark,r.color.light=(null===(i=t.styles.inactive)||void 0===i?void 0:i.color.light)||t.styles.default.color.light,r.opacity=(null===(a=t.styles.inactive)||void 0===a?void 0:a.opacity)||t.styles.default.opacity;else if("returns"===e.identifier){var s,l,c;r.color.dark=(null===(s=t.styles.active)||void 0===s?void 0:s.color.dark)||t.styles.default.color.dark,r.color.light=(null===(l=t.styles.active)||void 0===l?void 0:l.color.light)||t.styles.default.color.light,r.opacity=(null===(c=t.styles.active)||void 0===c?void 0:c.opacity)||t.styles.default.opacity}}))}))})),t}),[e])}(i.result),s=(0,x.Q$)(),c=l.useCallback((()=>{(0,x.AV)(s.current.screen,s.current.identifier)}),[s]);return(0,Y.tZ)(X,{isLastItem:!0,label:(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},(0,Y.tZ)(ve.DH,{defaultMessage:"Portfolio",id:"VirtualizedPreviewList.PortfolioRow.label",owners:(0,ve.IP)("eric.lovett@robinhood.com"),redOakId:"2679802",shipDate:(0,ve.tC)("2023-01-31"),status:"pending"})),onClick:c,to:"/",value:(0,Y.tZ)(F.XG,{money:null===(t=i.result)||void 0===t||null===(n=t.default_display)||void 0===n||null===(r=n.price_chart_data)||void 0===r?void 0:r.dollar_value})},(0,Y.tZ)(qt.k,{chartData:a,chartPage:Yt.D.SidebarPortfolioCell,height:16,isLoading:(0,be.a7)(i),onCursorMove:PortfolioRow_noop,small:!0,span:I.DISPLAY_SPAN.DAY,width:60}))}));var Jt,$t=n(8815),en=n(87550),tn=n(15620),nn=n(76312);const rn={border:(0,o.css)({borderBottomColor:w.ZV.neutral.bg3,borderBottomStyle:"solid",borderBottomWidth:"1px"},""),recurringItem:(0,o.css)({":hover":{background:w.ZV.neutral.bg2},alignItems:"center",display:"grid",gridTemplateColumns:"1fr auto",height:"inherit",overflow:"hidden",padding:"0 24px"},""),recurringTitles:(0,o.css)({name:"19g2ckz",styles:"display:flex;flex-direction:column;height:inherit;justify-content:center"})};function RecurringListHeaderCell(e){let{isExpanded:t,toggleExpanded:n}=e;const r=(0,x.Q$)(),o=l.useCallback((()=>{n(),(0,x.N4)(!t,"recurring",r.current.screen,r.current.identifier)}),[t,r,n]);return(0,Y.tZ)(ExpandableSectionCellWrapper,{isExpanded:t,toggleIsExpanded:o},Jt||(Jt=(0,Y.tZ)(W.Dy.Text,{isBold:!0,size:"M"},(0,Y.tZ)(ve.DH,{defaultMessage:"Recurring Investments",id:"portfolio.recurring.title",status:"legacy"}))))}const on=(0,nn.I)((function _RecurringListCell(e){let{isLastItem:t,schedule:n}=e;const{asset:r,assetBuyingPower:i}=(0,en.ck)(n),a=(0,x.Q$)(),s=l.useCallback((()=>{(0,x.Rq)(n.id,a.current.screen,a.current.identifier)}),[n.id,a]);return(0,Y.tZ)(j.n,{className:(0,o.cx)(rn.recurringItem,t&&rn.border),loggingInfo:{button_group_title:"home_lists",button_title:"recurring_lists_schedule_item"},onClick:s,to:"/account/recurring?investmentSchedule=".concat(n.id)},(0,Y.tZ)("div",{className:rn.recurringTitles},(0,Y.tZ)(tn.I,{isBold:!0,size:"S"},(0,Y.tZ)($t.Hr,{asset:r,shouldShowSymbol:!0})),(0,Y.tZ)($t.Xp,{schedule:n})),(0,Y.tZ)($t.ol,{assetBuyingPower:i,dollarAmount:n.dollarAmount,schedule:n,size:"S"}))}),(function _RecurringListCellSuspenseFallback(e){let{isLastItem:t}=e;return(0,Y.tZ)(LoadingCell,{isLastItem:t})})),an=l.memo((function RecurringRowImpl(e){let{cell:t,isParentCollapsed:n,updateCollapsedSections:r}=e;return t.type===h.Cz.RECURRING_HEADER?(0,Y.tZ)(RecurringListHeaderCell,{isExpanded:!n(t.id),toggleExpanded:()=>{r(t.id)}}):t.type===h.Cz.RECURRING?(0,Y.tZ)(on,{isLastItem:t.isLastItem,schedule:t.schedule}):null}));var sn=n(10959),ln=n(21676),cn=n(74043),un=n(22903),dn=n(23371);async function invalidatePSPEligibleProgramsRecord(e,t){await e.invalidate({many:!0,model:Oe.pO,params:t?{account_numbers:t}:void 0})}function PSPEligibleProgramCell(e){let{cellData:t}=e;const{isLastItem:n,pspEligibleProgram:r}=t,o=(0,ve.og)(),i=(0,sn.k6)(),a=(0,Wt.C)().result,[s,c]=(0,y.Db)(invalidatePSPEligibleProgramsRecord);l.useEffect((()=>{un.c.logAppearEvent(U.YB,{component:{component_type:nt.t.event_logging.Component.ComponentType.ROW,identifier:r.logging_identifier}})}),[r.logging_identifier]);if((0,dn.LW)(new Date(r.expiration_time))<0){c(null==a?void 0:a.account_number)}const u=new Date<=new Date(r.expiration_time)?o.formatMessage({defaultMessage:"{hoursRemaining} left to claim",id:"PSPEligibleProgramCell.hoursRemaining",status:"legacy"},{hoursRemaining:(0,dn.jQ)(o,new Date(r.expiration_time))}):o.formatMessage({defaultMessage:"Expired",id:"PSPEligibleProgramCell.expired",status:"legacy"});return(0,Y.tZ)("div",{css:[{":hover":{backgroundColor:w.ZV.neutral.bg2},alignItems:"center",cursor:"pointer",display:"flex",height:"100%",justifyContent:"space-between",padding:"0px 24px"},n&&{borderBottomColor:w.ZV.neutral.bg3,borderBottomStyle:"solid",borderBottomWidth:1},""],onClick:()=>{un.c.logTapEvent(U.YB,{component:{component_type:nt.t.event_logging.Component.ComponentType.ROW,identifier:r.logging_identifier}}),i.push((0,cn.yJ)("robinhood://psp?id=".concat(r.program_id)))}},(0,Y.tZ)(G,{caption:u,label:r.title,value:(0,Y.tZ)(ln.z,{color:w.Wt.Fg1,label:r.cta_text,onClick:()=>{},overrideRootStyles:{"> button":{height:28,minWidth:"initial",width:56}},size:"compact",type:"button"})}))}const pn=l.memo((function StockRowImpl(e){let{cell:t,isParentCollapsed:n,isPreMarketSession:r,isScrolling:o,isVisible:i,updateCollapsedSections:a,updateViewStates:s,viewStates:l}=e;const c=o||!i;if(t.type===h.Cz.HEADER){const e=t.viewKey&&l.get(t.viewKey);return(0,Y.tZ)(HeaderCell,{isExpanded:!n(t.id),label:t.label,loggingSidebarSection:"stocks",toggleExpanded:()=>a(t.id),viewHandler:e?{onViewChange:e=>{t.viewKey&&s(t.viewKey,e)},view:e}:void 0})}return t.type===h.Cz.SUB_HEADER?(0,Y.tZ)(SubHeaderCell,{cellData:t}):t.type===h.Cz.INSTRUMENT?(0,Y.tZ)(InstrumentCell,{cellData:t,isPreMarketSession:r,loggingSidebarSection:"stocks",skipSubscription:c,view:t.viewKey&&l.get(t.viewKey)||"price"}):t.type===h.Cz.PSP_ELIGIBLE_PROGRAM?(0,Y.tZ)(PSPEligibleProgramCell,{cellData:t}):null})),gn=["index","key","parent","style"];function VirtualizedList_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VirtualizedList_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VirtualizedList_ownKeys(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VirtualizedList_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const mn=new C.t1({defaultHeight:60,fixedWidth:!0}),overscanIndicesGetter=e=>{let{cellCount:t,overscanCellsCount:n,startIndex:r,stopIndex:o}=e;return{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(t-1,o+n)}};var yn={name:"y0dhib",styles:"&::-webkit-scrollbar{display:none;}scrollbar-width:none"};function VirtualizedList(e){let{cells:t,screen:n}=e;const o=l.useRef(null),a=(0,d.n)(u.V.webFutureMultitaskingQuickNav),s=t.filter((e=>e.type===h.Cz.HEADER&&e.viewKey)).map((e=>e.type===h.Cz.HEADER&&e.viewKey)),[c,p]=l.useState((0,i.Map)()),[g,m]=(0,S.V)("view_states",{}),updateViewStates=(e,t)=>{m(VirtualizedList_objectSpread(VirtualizedList_objectSpread({},g),{},{[e]:t})),p(c.set(e,t))},y=t.filter((e=>e.type===h.Cz.LIST)).map((e=>e.expandedKey)),[f,v]=l.useState((()=>(0,i.Map)({news:!0}))),[b,Z]=(0,S.V)("expanded_states",{}),[D,T]=(0,S.V)("collapsed_sections",[]),[w,I]=l.useState(new Set(D)),[k,x]=l.useState(!1);l.useEffect((()=>{a||(T([]),I(new Set))}),[a,I,T]),l.useEffect((()=>{p((e=>{let t=e;return s.forEach((n=>{n&&(e.has(n)||(t=g[n]?t.set(n,g[n]):t.set(n,"price")))})),t}))}),[s.join()]),l.useEffect((()=>{v((e=>{let t=e;return y.forEach((e=>{e&&(f.has(e)||(t=e in b?t.set(e,b[e]):t.set(e,!0)))})),t}))}),[y.join()]),l.useEffect((()=>{o&&o.current&&o.current.recomputeRowHeights(0)}),[t]);const R=l.useCallback((e=>!!e&&w.has(e)),[w]),M=l.useCallback(((e,t)=>!t||R(null==t?void 0:t.parent)?0:Object.values(h.M6).includes(t.type)?t.type===h.Cz.SUB_HEADER?46:52:t.type===h.Cz.INSTRUMENT||t.type===h.Cz.CRYPTO||t.type===h.Cz.OPTIONS_STRATEGY?t.expandedKey&&!f.get(t.expandedKey)?0:60:t.type===h.Cz.NEW_LIST?k?100:0:t.type===h.Cz.RECURRING?68:t.type===h.Cz.NEWS_HEADER?52:t.type===h.Cz.NEWS_FOOTER?f.get("news")?60:0:t.type===h.Cz.NEWS_ITEM||t.type===h.Cz.INDICATORS_AND_MARKET_UPDATE?f.get("news")?mn.rowHeight({index:e}):0:60),[k,f.join(),w,R]),rowHeight=e=>{let{index:n}=e;const r=t.get(n);return M(n,r)},L=l.useCallback((e=>{var t;(Z(VirtualizedList_objectSpread(VirtualizedList_objectSpread({},b),{},{[e]:!f.get(e)})),v(f.set(e,!f.get(e))),o.current)&&(null===(t=o.current)||void 0===t||t.recomputeRowHeights(0))}),[v,Z,f,b,o]),A=(0,E.Sj)(),F=l.useCallback((e=>{var t;(x(e),o.current)&&(null===(t=o.current)||void 0===t||t.recomputeRowHeights(0))}),[x,o]),N=l.useCallback((e=>{if(!e)return;const t=new Set(w);t.has(e)?t.delete(e):t.add(e),I(new Set(t)),T(Array.from(t)),o.current&&o.current.recomputeRowHeights(0)}),[w,I,T,o]),rowRenderer=e=>{let{index:i,key:a,parent:s,style:l}=e,u=(0,r.Z)(e,gn);const d=t.get(i),p=M(i,d);if(!d||0===p)return null;let g=null;const m=VirtualizedList_objectSpread({cell:d,expandedStates:f,index:i,isCreatingList:k,isParentCollapsed:R,isPreMarketSession:A,key:a,listRef:o,parent:s,screen:n,style:l,updateCollapsedSections:N,updateExpandedStates:L,updateIsCreatingList:F,updateViewStates,viewStates:c},u);return(0,Y.tZ)(C.Z8,{key:a,cache:mn,columnIndex:0,parent:s,rowIndex:i},(e=>{let{measure:t,registerChild:n}=e;return"portfolio"===d.section?g=(0,Y.tZ)(Xt,m):"stocks"===d.section?g=(0,Y.tZ)(pn,m):"crypto"===d.section?g=R(d.parent)?null:(0,Y.tZ)(pe,m):"options"===d.section?g=R(d.parent)?null:(0,Y.tZ)(jt,m):"lists"===d.section?g=(0,Y.tZ)(pt,m):"recurring"===d.section?g=R(d.parent)?null:(0,Y.tZ)(an,m):"news"===d.section&&(g=(0,Y.tZ)(kt,(0,_.Z)({},m,{measure:t}))),(0,Y.tZ)("div",{key:a,ref:n,"data-testid":d.dataTestId||"",style:l},g)}))};return(0,Y.tZ)(C.qj,null,(e=>{let{height:n,width:r}=e;return(0,Y.tZ)("div",{"data-testid":P.c.VirtualizedSidebar.Sidebar},(0,Y.tZ)(O.yN,{info:{name:"sidebar_section"}},(0,Y.tZ)(C.aV,{ref:o,css:yn,deferredMeasurementCache:mn,height:n,overscanIndicesGetter,overscanRowCount:5,rowCount:t.count(),rowHeight,rowRenderer,width:r})))}))}const fn=["containerRef","cryptoCells","listCells","optionCells","portfolioCell","recurringCells","screen","stockCells"],vn=["containerRef","cryptoCells","listCells","optionCells","portfolioCell","recurringCells","screen","stockCells"],hn=["containerRef","screen","visualContainerType"];const _n={listContainer:(0,o.css)({name:"1lhjse0",styles:"&::-webkit-scrollbar{display:none;}height:100%;overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain;scrollbar-width:none"})},bn=l.memo(VirtualizedPreviewListImpl,((e,t)=>{const{containerRef:n,cryptoCells:o,listCells:i,optionCells:a,portfolioCell:l,recurringCells:c,screen:u,stockCells:d}=e,p=(0,r.Z)(e,fn),{containerRef:g,cryptoCells:m,listCells:y,optionCells:f,portfolioCell:v,recurringCells:h,screen:_,stockCells:b}=t,C=(0,r.Z)(t,vn);return!!s()(l,v)&&(!!s()(d,b)&&(!!s()(o,m)&&(!!s()(a,f)&&(!!s()(i,y)&&(!!s()(c,h)&&(!!s()(u,_)&&(!!s()(e.newsCells,t.newsCells)&&(n===g&&s()(p,C)))))))))})),Cn=l.memo((e=>(0,Y.tZ)(f.ly,null,(0,Y.tZ)(VirtualizedPreviewListComponent,e))));function VirtualizedPreviewListComponent(e){let{containerRef:t,inPortfolioTableExperiment:n=!1,screen:r,showOnlyLists:o=!1,visualContainerType:i="legacy"}=e;const a=(0,d.n)(u.V.webFutureMultitaskingQuickNav),s=l.useMemo((()=>a?[{section:"portfolio",type:h.Cz.PORTFOLIO}]:[]),[a]),{data:c,state:p}=(0,v.sH)(o,n),{data:g,state:m}=(0,v.Bq)(o,n),{data:y,state:f}=(0,v.g3)(o,n),{data:_,state:b}=(0,v.vc)(o,n),{data:C,state:O}=(0,v.UL)(o),S=(0,v.bn)(n);return"loading"===p||"loading"===m||"loading"===f||"loading"===b||"loading"===O?null:(0,Y.tZ)(bn,{containerRef:t,cryptoCells:Array.isArray(g)?g:[],listCells:Array.isArray(_)?_:[],newsCells:S,optionCells:Array.isArray(y)?y:[],portfolioCell:s,recurringCells:Array.isArray(C)?C:[],screen:r,showOnlyLists:o,stockCells:Array.isArray(c)?c:[],visualContainerType:i})}function VirtualizedPreviewListImpl(e){let{containerRef:t,screen:n,visualContainerType:o}=e;const a=function transformCellData(e){let{cryptoCells:t,listCells:n,newsCells:r,optionCells:o,portfolioCell:a,recurringCells:s,showOnlyLists:l,stockCells:c}=e;const u=Array();l||(u.push(...a),u.push(...r),u.push(...o),u.push(...t),u.push(...c),u.push(...s));return u.push(...n),(0,i.List)(u)}((0,r.Z)(e,hn)),[{optionOrderDetailModalId:s},c]=(0,v.mY)(),f=(0,y.tT)({disabled:!s,model:m.VZ,params:{id:s}}).result,h=(0,d.n)(u.V.optionsCancelReplaceV2);return(0,Y.tZ)(l.Fragment,null,(0,Y.tZ)(ListContainer,{containerRef:t,visualContainerType:o},(0,Y.tZ)(VirtualizedList,{cells:a,screen:n})),f&&(h?(0,Y.tZ)(g.b,{onClose:()=>{c({optionOrderDetailModalId:void 0})},optionOrder:f}):(0,Y.tZ)(p.X,{onClose:()=>{c({optionOrderDetailModalId:void 0})},optionOrder:f})))}function ListContainer(e){let{children:t,containerRef:n,visualContainerType:r}=e;return"legacy"===r?(0,Y.tZ)(c.Z,{ref:n,className:_n.listContainer,type:"primary"},t):"modern"===r?(0,Y.tZ)(c.Z,{ref:n,className:_n.listContainer,type:"secondary"},t):(0,Y.tZ)("div",{ref:n,className:_n.listContainer},t)}},59091:(e,t,n)=>{"use strict";n.d(t,{C0:()=>s,Cz:()=>a,M6:()=>i});var r,o=n(64649);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let i;!function(e){e.PORTFOLIO="portfolio",e.CASH_BALANCE="cash_balance",e.NEW_LIST="new_list",e.OPTION="option",e.OPTION_LEGACY="option_legacy",e.PENDING_OPTION_ORDER="pending_option_order",e.PENDING_OPTION_ORDER_BONFIRE="pending_option_order_bonfire",e.INSTRUMENT="instrument",e.RECURRING="recurring",e.CRYPTO="crypto",e.LIST="list",e.OPTIONS_STRATEGY="options_strategy",e.PSP_ELIGIBLE_PROGRAM="psp_eligible_program",e.NEWS_ITEM="news_item",e.NEWS_FOOTER="news_footer",e.INDICATORS_AND_MARKET_UPDATE="indicators_and_market_update",e.SCREENER="screener"}(r||(r={})),function(e){e.HEADER="header",e.SUB_HEADER="sub_header",e.DEPRECATED_LISTS_HEADER="deprecated_lists_header",e.RECURRING_HEADER="recurring_header",e.LISTS_HEADER="lists_header",e.NEWS_HEADER="news_header"}(i||(i={}));const a=_objectSpread(_objectSpread({},i),r),s={equity:"your_equity",price:"last_price",todaysReturn:"todays_return",totalReturn:"total_return"}},74483:(e,t,n)=>{"use strict";n.d(t,{A4:()=>d,AD:()=>logSidebarAssetRowNavigate,AV:()=>logSidebarPortfolioRowNavigate,BF:()=>logSidebarNewsArticleNavigate,Bz:()=>logSidebarCreateNewList,C6:()=>logSidebarNewsFeedPageNavigate,Ct:()=>logSidebarAssetDisplayValueDialogSettingsOpen,FH:()=>LoggingScreenProvider,GP:()=>logSidebarListSubsectionExpansionToggle,Gr:()=>logPortfolioTableColumnSort,Hi:()=>useSetLoggingScreen,N4:()=>logSidebarSectionExpansionToggle,NJ:()=>logSidebarPendingOptionOrderRowViewOrder,Q$:()=>useLoggingScreenRef,QO:()=>logSidebarOptionsWatchListNavigate,Rq:()=>logSidebarRecurringOrderRowNavigate,Zm:()=>logSidebarAssetDisplayValueSettingsChanged,_j:()=>logPortfolioTableAssetRowNavigate,f8:()=>logPortfolioTablePendingOptionOrderRowViewOrder,lM:()=>logSidebarFollowingListNavigate,mN:()=>logSidebarListAssetRowNavigate,oA:()=>logSidebarListNavigate,r_:()=>logPortfolioTableTabSelected,zs:()=>logSidebarOptionsWatchListRowNavigate});var r=n(50344),o=n.n(r),i=n(27378),a=n(84974),s=n(22903),l=n(49569),c=n(10043);const u={crypto:l.t.event_logging.UserInteractionEventData.Action.VIEW_CRYPTO_DETAIL_PAGE,option:l.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_AGGREGATE_DETAIL_PAGE,stock:l.t.event_logging.UserInteractionEventData.Action.VIEW_STOCK_DETAIL_PAGE};function logSidebarAssetRowNavigate(e,t,n,r){return s.c.logUserInteractionEvent(a.YB,{action:u[e],component:{component_type:l.t.event_logging.Component.ComponentType.ASSET_ROW,identifier:t},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:r,name:n}})}function logSidebarPendingOptionOrderRowViewOrder(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_ORDER,component:{component_type:l.t.event_logging.Component.ComponentType.OPTION_PENDING_ORDER_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}function logSidebarRecurringOrderRowNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_RECURRING_DETAILS,component:{component_type:l.t.event_logging.Component.ComponentType.RECURRING_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}function logSidebarListNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_USER_LIST_DETAIL_PAGE,component:{component_type:l.t.event_logging.Component.ComponentType.LIST_HEADER,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}const d="options-watch-list";function logSidebarOptionsWatchListNavigate(e,t){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_WATCHLIST_HUB,component:{component_type:l.t.event_logging.Component.ComponentType.LIST_HEADER,identifier:d},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:t,name:e}})}function logSidebarOptionsWatchListRowNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_STRATEGY_DETAIL,component:{component_type:l.t.event_logging.Component.ComponentType.OPTION_WATCHLIST_ITEM_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}const p={crypto:l.t.event_logging.UserInteractionEventData.Action.VIEW_CRYPTO_DETAIL_PAGE,stock:l.t.event_logging.UserInteractionEventData.Action.VIEW_STOCK_DETAIL_PAGE};function logSidebarListAssetRowNavigate(e,t,n,r){return s.c.logUserInteractionEvent(a.YB,{action:p[e],component:{component_type:l.t.event_logging.Component.ComponentType.LIST_ASSET_ROW,identifier:t},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:r,name:n}})}function logSidebarFollowingListNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_ROBINHOOD_LIST_DETAIL_PAGE,component:{component_type:l.t.event_logging.Component.ComponentType.LIST_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}function logSidebarPortfolioRowNavigate(e,t){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_HOME,component:{component_type:l.t.event_logging.Component.ComponentType.ROW,identifier:"portfolio"},component_hierarchy:e!==l.t.event_logging.Screen.Name.HOME_PORTFOLIO_TABLE?{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}}:null,event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:t,name:e}})}function logSidebarNewsArticleNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_NEWS_ARTICLE,component:{component_type:l.t.event_logging.Component.ComponentType.NEWS_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:n,name:t}})}function logSidebarNewsFeedPageNavigate(e,t){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_NEWSFEED_PAGE,component:{component_type:l.t.event_logging.Component.ComponentType.BUTTON,identifier:"show-all-news"},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:t,name:e}})}function logSidebarAssetDisplayValueDialogSettingsOpen(e,t,n){return s.c.logUserInteractionEvent(a.YB,{component:{component_type:l.t.event_logging.Component.ComponentType.ASSET_DISPLAY_VALUE_DIALOG},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SECTION_HEADER,identifier:e},parent_1:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{identifier:n,name:t}})}const g={equity:l.t.event_logging.UserInteractionEventData.Action.ASSET_ROW_DISPLAY_VALUE_CHANGED_EQUITY,price:l.t.event_logging.UserInteractionEventData.Action.ASSET_ROW_DISPLAY_VALUE_CHANGED_LAST_PRICE,todaysReturn:l.t.event_logging.UserInteractionEventData.Action.ASSET_ROW_DISPLAY_VALUE_CHANGED_RETURNS_TODAY,totalReturn:l.t.event_logging.UserInteractionEventData.Action.ASSET_ROW_DISPLAY_VALUE_CHANGED_RETURNS_TOTAL};function logSidebarAssetDisplayValueSettingsChanged(e,t,n,r){return s.c.logUserInteractionEvent(a.YB,{action:g[e],component:{component_type:l.t.event_logging.Component.ComponentType.ASSET_DISPLAY_VALUE_DIALOG},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SECTION_HEADER,identifier:t},parent_1:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:r,name:n}})}function logSidebarSectionExpansionToggle(e,t,n,r){return s.c.logUserInteractionEvent(a.YB,{action:e?l.t.event_logging.UserInteractionEventData.Action.EXPAND:l.t.event_logging.UserInteractionEventData.Action.COLLAPSE,component:{component_type:l.t.event_logging.Component.ComponentType.SECTION_HEADER,identifier:t},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:e?l.t.event_logging.UserInteractionEventData.EventType.APPEAR:l.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{identifier:r,name:n}})}function logSidebarListSubsectionExpansionToggle(e,t,n,r){return s.c.logUserInteractionEvent(a.YB,{action:e?l.t.event_logging.UserInteractionEventData.Action.EXPAND:l.t.event_logging.UserInteractionEventData.Action.COLLAPSE,component:{component_type:l.t.event_logging.Component.ComponentType.LIST_HEADER,identifier:t},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:e?l.t.event_logging.UserInteractionEventData.EventType.APPEAR:l.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{identifier:r,name:n}})}function logSidebarCreateNewList(e,t){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.CREATE_NEW_LIST,component:{component_type:l.t.event_logging.Component.ComponentType.SECTION_HEADER,identifier:"lists"},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.SIDEBAR}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{identifier:t,name:e}})}function logPortfolioTableAssetRowNavigate(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:u[e],component:{component_type:l.t.event_logging.Component.ComponentType.ASSET_ROW,identifier:t},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.TAB,identifier:n}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:l.t.event_logging.Screen.Name.HOME_PORTFOLIO_TABLE}})}function logPortfolioTablePendingOptionOrderRowViewOrder(e){return s.c.logUserInteractionEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_ORDER,component:{component_type:l.t.event_logging.Component.ComponentType.OPTION_PENDING_ORDER_ROW,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.TAB,identifier:"pendingOrders"}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:l.t.event_logging.Screen.Name.HOME_PORTFOLIO_TABLE}})}function logPortfolioTableTabSelected(e){return s.c.logUserInteractionEvent(a.YB,{component:{component_type:l.t.event_logging.Component.ComponentType.TAB,identifier:e},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:l.t.event_logging.Screen.Name.HOME_PORTFOLIO_TABLE}})}const m={ascending:l.t.event_logging.UserInteractionEventData.Action.SORT_ASCENDING,descending:l.t.event_logging.UserInteractionEventData.Action.SORT_DESCENDING};function logPortfolioTableColumnSort(e,t,n){return s.c.logUserInteractionEvent(a.YB,{action:t?m[t]:l.t.event_logging.UserInteractionEventData.Action.SORT_RESET,component:{component_type:l.t.event_logging.Component.ComponentType.PORTFOLIO_TABLE_COLUMN_HEADING,identifier:e},component_hierarchy:{parent_0:{component_type:l.t.event_logging.Component.ComponentType.TAB,identifier:n}},event_type:l.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:l.t.event_logging.Screen.Name.HOME_PORTFOLIO_TABLE}})}const y=i.createContext({screen:l.t.event_logging.Screen.Name.HOME,setScreen:o()});function LoggingScreenProvider(e){let{children:t}=e;const[n,r]=i.useState(l.t.event_logging.Screen.Name.HOME),[o,a]=i.useState(),s=i.useCallback(((e,t)=>{r(e),a(t)}),[]),u=i.useMemo((()=>({identifier:o,screen:n,setScreen:s})),[n,o,s]);return(0,c.tZ)(y.Provider,{value:u},t)}function useSetLoggingScreen(e,t,n){const r=i.useContext(y).setScreen;i.useEffect((()=>{e&&r(t,n)}),[n,e,r,t])}function useLoggingScreenRef(){const{identifier:e,screen:t}=i.useContext(y),n=i.useRef({identifier:e,screen:t});return i.useEffect((()=>{n.current.identifier=e,n.current.screen=t}),[e,t]),n}},3786:(e,t,n)=>{"use strict";n.d(t,{V4:()=>useWaitForInvestmentSchedulesWithPagination,cS:()=>useWaitForInvestmentSchedules,hQ:()=>filterDeletedSchedulesAndSortByDate});var r=n(64649),o=n(67527),i=n(89263),a=n(12633);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useWaitForInvestmentSchedules(e){let{asset:t,assetTypes:n,pageSize:r,sortByDate:s}=e;const l=(0,o.X_)((0,a.tT)({many:!0,model:i.g8,params:_objectSpread({asset_types:n},t&&{instrument_id:t.id})}));return s?filterDeletedSchedulesAndSortByDate(l,r):function filterDeletedSchedules(e){return e.filter((e=>e.state!==i.TE.STATE_DELETED))}(l)}function useWaitForInvestmentSchedulesWithPagination(e){let{accountNumber:t,asset:n,assetTypes:r,securityType:o}=e;const s="etf"===o?"etp":o;return(0,a.o1)({model:i.g8,params:_objectSpread(_objectSpread(_objectSpread({},t&&{account_number:t}),o&&{security_type:s}),{},{asset_types:r},n&&{instrument_id:n.id})})}function filterDeletedSchedulesAndSortByDate(e,t){const n=e.filter((e=>e.state!==i.TE.STATE_DELETED)),sortByDate=(e,t)=>e.nextInvestmentDate.getTime()-t.nextInvestmentDate.getTime()||e.investment_asset.asset_symbol.localeCompare(t.investment_asset.asset_symbol);return n.filter((e=>!e.isPaused)).sort(sortByDate).concat(n.filter((e=>e.isPaused)).sort(sortByDate)).slice(0,t)}},36549:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});var r,o,i=n(64649),a=n(28048),s=n(12633),l=n(51314);const c={country:"",line1:"",line2:"",locality:"",postal_code:"",region:"",subject:""};let u=(0,s.OF)((o=class IdentiAddressResidentialRecord extends((0,l.c)(c,"IdentiAddressResidentialRecord")){static url(){return this.urlRoot}get url(){return IdentiAddressResidentialRecord.urlRoot}get formatted_postal_code(){return this.country===a.dY.GB?this.postal_code?this.postal_code.replace(" "," "):null:this.postal_code}static idField(){return"/user_info/address/residential/id"}},(0,i.Z)(o,"urlPath","/user_info/address/residential/"),r=o))||r},18934:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r,o,i=n(64649),a=n(12633),s=n(91906),l=n(60723);let c=(0,a.OF)((o=class InstrumentBuyingPowerRecord extends((0,s.A)({account_number:"",buying_power:{amount:"",currency_code:l._V.USD},instrument_id:""},"InstrumentBuyingPowerRecord")){static url(e){let{accountNumber:t,instrumentId:n}=e;return this.baseUrl+this.urlPath.replace("{account_number}",t).replace("{instrument_id}",n)}},(0,i.Z)(o,"urlPath","/accounts/{account_number}/instrument_buying_power/{instrument_id}/"),(0,i.Z)(o,"idField",(e=>"".concat(e.instrument_id).concat(e.account_number))),(0,i.Z)(o,"refresh",5e3),r=o))||r},16684:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r,o,i=n(64649),a=n(5606),s=n(12633),l=n(91906);let c=(0,s.OF)((o=class PositionListRecordV2 extends((0,l.A)({account_number:"",footer:void 0,header:void 0,instrument_type:a.b.equity,positions_location:a.S.unknown,results:[]},"PositionListRecordV2")){static url(e){const{accountNumber:t,instrument_type:n,positions_location:r=a.S.unknown}=e,o=this.baseUrl+this.urlPath.replace("{account_number}",t);return"".concat(o,"?instrument_type=").concat(n,"&positions_location=").concat(r)}},(0,i.Z)(o,"urlPath","/portfolio/{account_number}/positions_v2"),(0,i.Z)(o,"idField",(e=>"".concat(e.account_number,"_").concat(e.instrument_type))),(0,i.Z)(o,"refresh",3e4),(0,i.Z)(o,"backgroundRefresh",3e4),r=o))||r},21274:(e,t,n)=>{"use strict";n.d(t,{p:()=>d});var r,o,i=n(64649),a=n(21881),s=n(70720),l=n(12633),c=n(85123);const u={banner:null,banner_positions:null,channel_status:"waiting",channel_type:"",created_during_ooh:!1,display_description:{attributes:[],text:""},display_title:"",id:"",inquiry_id:"",is_cancellable:!0,position_in_line:null,redirect_url:null,toast:{display_description:{attributes:[],text:""}}};let d=(0,l.OF)((o=class SupportIssueDetailRecord extends((0,l.sr)(u,"SupportIssueDetailRecord")){static async cancelIssueRequest(e,t){await a.WV.post("/issues/clients/v2/".concat(t,"/cancel/")).retry(2),await e.invalidate({model:SupportIssueDetailRecord,params:{id:t}}),await e.invalidate({many:!0,model:c.k,params:{active_only:"True"}})}static async requeueIssue(e,t){const n=await a.WV.post("/issues/clients/v2/".concat(t,"/requeue/"));return await e.invalidate({model:SupportIssueDetailRecord,params:{id:t}}),await e.invalidate({many:!0,model:c.k,params:{active_only:"True"}}),n}static _onResponseHeader(e){const t=parseInt(e["x-poll-interval"],10);t>0&&t!==this.refresh&&(this.refresh=1e3*t)}},(0,i.Z)(o,"baseUrl",s.mX),(0,i.Z)(o,"urlPath","/issues/clients/v2/"),(0,i.Z)(o,"idField","id"),(0,i.Z)(o,"agent",a.WV),(0,i.Z)(o,"refresh",45e3),r=o))||r},85123:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r,o,i=n(64649),a=n(21881),s=n(70720),l=n(12633);let c=(0,l.OF)((o=class SupportIssuesRecord extends((0,l.sr)({created_at:"",id:"",updated_at:""},"SupportIssuesRecord")){static queryUrl(e){const t="?active_only=".concat(e.active_only);return"".concat(SupportIssuesRecord.urlRoot).concat(t)}static _onResponseHeader(e){const t=parseInt(e["x-poll-interval"],10);t>0&&t!==this.refresh&&(this.refresh=1e3*t)}},(0,i.Z)(o,"baseUrl",s.mX),(0,i.Z)(o,"urlPath","/issues/"),(0,i.Z)(o,"idField","id"),(0,i.Z)(o,"agent",a.WV),(0,i.Z)(o,"refresh",45e3),r=o))||r},48861:(e,t,n)=>{"use strict";function getMultiAccountOrderCheckCopy(e){let{account:t,capitalize:n=!1,usePreposition:r=!1}=e;return"".concat(r?" in ":"").concat(n?"Your":"your"," ").concat(t.label.defaultMessage," account")}n.d(t,{K:()=>getMultiAccountOrderCheckCopy})},87851:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r,o,i=n(64649),a=n(12633),s=n(73634);let l=(0,a.OF)((o=class CashCardInventoryRecord extends((0,s.c)({color:"green_v2",estimated_shipping_time:"",is_backordered:!1,ordinal:0},"CashCardInventoryRecord")){},(0,i.Z)(o,"idField",(e=>e.ordinal.toString())),(0,i.Z)(o,"urlPath","/cards/colors/"),r=o))||r},87631:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,i:()=>u});var r,o,i=n(64649),a=n(12633),s=n(91906);let l;!function(e){e.Active="active",e.Inactive="inactive"}(l||(l={}));const c={account_id:"",entity_type:"",id:"",last_paycheck_amount:void 0,latest_dd_date:void 0,originator_name:"",paycheck_investment_amount_type:"",paycheck_investment_available_percentage:void 0,state:l.Inactive};let u=(0,a.OF)((o=class DirectDepositRelationshipRecord extends((0,s.A)(c,"DirectDepositRelationshipRecord")){},(0,i.Z)(o,"urlPath","/transfer/direct_deposit/relationships/"),r=o))||r},85770:(e,t,n)=>{"use strict";n.d(t,{AW:()=>S,EA:()=>m,G4:()=>_,Ib:()=>l,KN:()=>y,M1:()=>p,Ox:()=>O,PK:()=>g,U2:()=>C,UG:()=>u,VQ:()=>v,_5:()=>d,af:()=>f,al:()=>P,ex:()=>c,jc:()=>Z,k$:()=>b,mu:()=>s,u9:()=>E,zi:()=>h});var r=n(64649),o=(n(27378),n(73367)),i=n(93284),a=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s=(0,i.B2)({[o.ScheduleFrequency.PAYCHECK]:{defaultMessage:"Every paycheck",id:"EquityFrequency.Label.ScheduleFrequency.Paycheck",status:"legacy"},[o.ScheduleFrequency.DAILY]:{defaultMessage:"Every market day",id:"EquityFrequency.Label.ScheduleFrequency.Daily",status:"legacy"},[o.ScheduleFrequency.WEEKLY]:{defaultMessage:"Every week",id:"EquityFrequency.Label.ScheduleFrequency.Weekly",status:"legacy"},[o.ScheduleFrequency.BIWEEKLY]:{defaultMessage:"Every two weeks",id:"EquityFrequency.Label.ScheduleFrequency.Biweekly",status:"legacy"},[o.ScheduleFrequency.MONTHLY]:{defaultMessage:"Every month",id:"EquityFrequency.Label.ScheduleFrequency.Monthly",status:"legacy"}}),l=(0,i.B2)({[o.ScheduleFrequency.PAYCHECK]:{defaultMessage:"Every paycheck direct deposit",id:"EquityFrequency.Caption.ScheduleFrequency.Paycheck",status:"legacy"},[o.ScheduleFrequency.DAILY]:{defaultMessage:"Monday-Friday",id:"EquityFrequency.Caption.ScheduleFrequency.Daily",status:"legacy"},[o.ScheduleFrequency.WEEKLY]:{defaultMessage:"On {dayOfWeek}",id:"EquityFrequency.Caption.ScheduleFrequency.Weekly",status:"legacy"},[o.ScheduleFrequency.BIWEEKLY]:{defaultMessage:"On {dayOfWeek}",id:"EquityFrequency.Caption.ScheduleFrequency.Biweekly",status:"legacy"},[o.ScheduleFrequency.MONTHLY]:{defaultMessage:"On the {dayOfMonth}",id:"EquityFrequency.Caption.ScheduleFrequency.Monthly",status:"legacy"}}),c=(0,i.B2)({[o.ScheduleFrequency.PAYCHECK]:{defaultMessage:"every paycheck direct deposit",id:"EquityFrequency.Reviewing.paycheck",status:"legacy"},[o.ScheduleFrequency.DAILY]:{defaultMessage:"every market day",id:"EquityFrequency.Reviewing.daily",status:"legacy"},[o.ScheduleFrequency.WEEKLY]:{defaultMessage:"every week on {weekday}",id:"EquityFrequency.Reviewing.weekly",status:"legacy"},[o.ScheduleFrequency.BIWEEKLY]:{defaultMessage:"every two weeks on {weekday}",id:"EquityFrequency.Reviewing.biweekly",status:"legacy"},[o.ScheduleFrequency.MONTHLY]:{defaultMessage:"every month on the {dayOfMonth}",id:"EquityFrequency.Reviewing.monthly",status:"legacy"}}),u=(0,i.B2)({[o.ScheduleFrequency.PAYCHECK]:{defaultMessage:"every paycheck deposited",id:"EquityFrequency.Receipt.paycheck",status:"legacy"},[o.ScheduleFrequency.DAILY]:{defaultMessage:"every market day",id:"EquityFrequency.Receipt.daily",status:"legacy"},[o.ScheduleFrequency.WEEKLY]:{defaultMessage:"every week on {weekday}",id:"EquityFrequency.Receipt.weekly",status:"legacy"},[o.ScheduleFrequency.BIWEEKLY]:{defaultMessage:"every two weeks on {weekday}",id:"EquityFrequency.Receipt.biweekly",status:"legacy"},[o.ScheduleFrequency.MONTHLY]:{defaultMessage:"every month on the {dayOfMonth}",id:"EquityFrequency.Receipt.monthly",status:"legacy"}}),d=_objectSpread(_objectSpread({},s),{},{[o.ScheduleFrequency.DAILY]:(0,i.b2)({defaultMessage:"Every day",id:"CryptoFrequency.Label.ScheduleFrequency.Daily",status:"legacy"})}),p=_objectSpread(_objectSpread({},l),{},{[o.ScheduleFrequency.DAILY]:(0,i.b2)({defaultMessage:"Seven days a week",id:"CryptoFrequency.Caption.ScheduleFrequency.Daily",status:"legacy"})}),g=_objectSpread(_objectSpread({},c),{},{[o.ScheduleFrequency.DAILY]:(0,i.b2)({defaultMessage:"every day",id:"CryptoFrequency.Reviewing.recurring.daily",status:"legacy"})}),m=_objectSpread(_objectSpread({},u),{},{[o.ScheduleFrequency.DAILY]:(0,i.b2)({defaultMessage:"every day",id:"CryptoFrequency.Receipt.recurring.daily",status:"legacy"})}),y=(0,i.b2)({defaultMessage:"If you don’t have enough buying power, we’ll automatically skip your recurring order. You can also add a backup payment method below.",id:"equityOrderForm.payment.buyingpower.tooltip.description",status:"legacy"}),f=(0,i.b2)({defaultMessage:"If you don’t have enough crypto buying power, we’ll automatically skip your recurring order. Note that funds from the sale of equities (stocks, ETFs, options) become available for crypto buying power within 3 business days.{br}{br}You can also add a backup payment method below.",id:"cryptoOrderForm.payment.buyingpower.tooltip.description",status:"legacy",values:{br:(0,a.tZ)("br",null)}}),v=(0,i.b2)({defaultMessage:"If the transfer reverses or the selected bank account is unlinked, we’ll pause your recurring investments.",id:"equityOrderForm.payment.ach.tooltip.description",status:"legacy"}),h=(0,i.b2)({defaultMessage:"You’re authorizing Robinhood Financial, LLC to transfer funds from this bank account to your buying power. Robinhood Crypto will apply the funds from this deposit to your recurring order. If a transfer reverses or this account is unlinked, we’ll pause this investment.",id:"cryptoOrderForm.payment.ach.tooltip.description",status:"legacy"}),_=(0,i.b2)({defaultMessage:"A backup payment method will cover your order if you don’t have enough buying power. This is optional. {br}{br}If you add a backup payment, you can disable it at any time on the recurring order detail page. If your backup payment fails, we’ll automatically skip the order.",id:"orderForm.backuppayment.tooltip.description",status:"legacy",values:{br:(0,a.tZ)("br",null)}}),b=(0,i.b2)({defaultMessage:"You’re authorizing Robinhood Financial, LLC to transfer funds from this bank account to your buying power. Robinhood Crypto will apply the funds from this deposit to your recurring order. If your backup payment method fails, we’ll automatically skip the order.",id:"orderForm.backuppayment.onselect.tooltip.description",status:"legacy"}),C=(0,i.b2)({defaultMessage:"Recurring crypto orders are placed with a collar. If prices are volatile when your order is placed, your order may not fill or may fill for less than your chosen amount. Robinhood Crypto will let you know when this happens and you’ll never be charged more than your chosen amount.",id:"cryptoOrderForm.amount.tooltip.description",status:"legacy"}),O=(0,i.b2)({defaultMessage:"All paycheck recurring investments must be the same amount type per paycheck. You won’t be able to change this after you create your first paycheck recurring investment.",id:"orderForm.amountType.tooltip.description",status:"legacy"}),S=(0,i.b2)({defaultMessage:"All paycheck recurring investments must be the same amount type per paycheck. You already have a paycheck recurring investment set up from this paycheck using a dollar amount, so any additional paycheck recurring investment from this paycheck will also use a dollar amount.",id:"orderForm.amountType.dollar.tooltip.description",status:"legacy"}),E=(0,i.b2)({defaultMessage:"All paycheck recurring investments must be the same amount type per paycheck. You already have a paycheck recurring investment set up from this paycheck using percent, so any additional paycheck recurring investment from this paycheck will also use a percent.",id:"orderForm.amountType.percentage.tooltip.description",status:"legacy"}),P=(0,i.b2)({defaultMessage:"Orders are placed at 11:00 AM ET on the scheduled date. If your investment falls on a day the market is closed, it will be placed on the next trading day.",id:"orderForm.frequency.tooltip.description",status:"legacy"}),Z=(0,i.b2)({defaultMessage:"Active on first direct deposit",id:"orderForm.frequency.directdeposit.message",status:"legacy"})},90051:(e,t,n)=>{"use strict";n.d(t,{v:()=>Ticker});var r=n(27378),o=n(79161),i=n(99443),a=n(10043),s=n(97224),l=n(38978),c=n(21241);const u={container:(0,a.iv)({height:"100%",left:0,position:"relative",top:0,transitionTimingFunction:c.C},""),nextValueContainer:(0,a.iv)({transitionTimingFunction:c.C},"")};function AnimatedPortion(e){var t;let{delay:n,nextHeight:o,nextValue:c,value:d}=e;const[p,g]=(0,r.useState)(o);(0,r.useEffect)((()=>{void 0===p&&g(o)}),[p,o]);const m=(0,s.eR)(l.E1.Positive),y=(0,s.VD)(l.Wt.Fg1);return void 0===o?null:(0,a.tZ)(i.default,{in:d.key!==(null==c?void 0:c.key),onExit:()=>g(o),timeout:{enter:n,exit:0}},(e=>{let r;r=0===p&&0!==o?"0":0!==o||0!==p&&void 0!==p?"entering"===e?"-200%":"-100%":"100%";const i={overflow:"entering"===e?"visible":"hidden",transform:"translate(0,".concat(r,")"),transition:"entering"===e?"transform ".concat(n,"ms"):"",width:"entering"===e?"auto":"0px"},s={color:"entering"===e?y:m,transition:"entering"===e?"color ".concat(n,"ms"):""};return(0,a.tZ)("div",{css:u.container,style:i},t||(t=(0,a.tZ)("div",null,d)),(0,a.tZ)("div",{style:s},c))}))}const d={container:{name:"1plbqhe",styles:"overflow:hidden;white-space:pre"},expectedBounds:{name:"6recou",styles:"position:absolute;visibility:hidden;whitespace:pre"}};function Ticker(e){let{children:t,delay:n,onTransitionComplete:s}=e;const[l,c]=(0,r.useState)(t),[u,p]=(0,r.useState)(t),[g,m]=(0,r.useState)(!1),[y,f]=(0,r.useState)(void 0),[v,h]=(0,r.useState)(void 0),[_,b]=(0,r.useState)(void 0);let C;return(0,r.useEffect)((()=>{l.key===t.key||g||(p(t),m(!0))}),[l,g,t]),C=void 0===y&&void 0===v?"100%":"".concat(Math.max(null!=y?y:0,null!=v?v:0),"px"),(0,a.tZ)("div",{css:d.container,style:{height:C,transition:"width ".concat(n,"ms"),width:void 0===_?"auto":"".concat(_,"px")}},(0,a.tZ)(i.default,{in:l.key===u.key,onEnter:function onStaticEntered(){g&&(m(!1),f(v),s&&s())},onExited:()=>c(u),timeout:{enter:0,exit:n}},(e=>{const t={opacity:"entered"===e||"entering"===e?1:0};return(0,a.tZ)("div",{"data-testid":"ticker-static-display",style:t},l)})),(0,a.tZ)(AnimatedPortion,{delay:n,nextHeight:v,nextValue:u,value:l}),(0,a.tZ)(o.default,{bounds:!0,onResize:function handleResize(e){if(e.bounds){b(e.bounds.width);const t=e.bounds.height;g||f(t),h(t)}}},(e=>{let{measureRef:t}=e;return(0,a.tZ)("div",{ref:t,css:d.expectedBounds},u)})))}},40135:(e,t,n)=>{"use strict";n.d(t,{C:()=>useTickerLine});var r=n(64649),o=n(22826),i=n(27378),a=n(11719);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useTickerLine(e,t,n){const[r,s]=(0,i.useState)({}),[l,c]=(0,i.useState)(e.split(" ").map((e=>({added:!1,id:(0,a.v4)(),key:0,label:e})))),[u,d]=(0,i.useState)(l),p=(0,i.useCallback)((e=>{s((t=>{const n=_objectSpread({},t);return n[e]=!1,n}))}),[]);function replaceWord(e,t,n){setTimeout((()=>{c((n=>{const r=[...n],o=r.findIndex((e=>e.id===t));return r[o]={added:!1,id:t,key:0,label:e},r}))}),n)}function updateWordKey(e,t){setTimeout((()=>{c((t=>{const n=[...t],r=n.findIndex((t=>t.id===e)),o=n[r];return n[r]=_objectSpread(_objectSpread({},o),{},{key:o.key+1}),n}))}),t)}const g=(0,i.useCallback)((e=>{let{addedWords:n,expectedWords:r,startDelay:o,startIndex:i,transitions:s}=e,l=i,u=o;return n.forEach((e=>{const n=function addWord(e,t,n){const r=(0,a.v4)();return setTimeout((()=>{c((n=>{const o=[...n];return o.splice(t,0,{added:!0,id:r,key:0,label:e}),o}))}),n),r}(e,l,u);r.push({added:!1,id:n,key:0,label:e}),s[n]=!0,l+=1,u+=t})),{index:l,transitionDelay:u}}),[t]),m=(0,i.useCallback)((e=>{let{removedWords:n,startDelay:r,startWordIndex:o,transitions:i}=e,a=o,s=r;return n.forEach((()=>{const e=l[a].id;!function removeWord(e,t){setTimeout((()=>{c((t=>{const n=[...t];return n.splice(n.findIndex((t=>t.id===e)),1),n}))}),t)}(e,s),i[e]=!0,a+=1,s+=t})),{transitionDelay:s,wordIndex:a}}),[l,t]),y=(0,i.useCallback)((e=>{let{addedWords:n,expectedWords:r,removedWords:o,startDelay:i,startIndex:a,startWordIndex:s,transitions:c}=e,u=s,d=a,p=i,y=0;for(;y<o.length&&y<n.length;y+=1){const e=l[u].id;r.push({added:!1,id:e,key:0,label:n[y]}),n[y]!==o[y]&&(replaceWord(n[y],e,p),c[e]=!0,p+=t),u+=1,d+=1}if(y<o.length){const{transitionDelay:e,wordIndex:t}=m({removedWords:o.slice(y),startDelay:p,startWordIndex:d,transitions:c});u=t,p=e}else if(y<n.length){const{index:e,transitionDelay:t}=g({addedWords:n.slice(y),expectedWords:r,startDelay:p,startIndex:d,transitions:c});d=e,p=t}return{index:d,transitionDelay:p,wordIndex:u}}),[l,m,g,t]);return(0,i.useEffect)((()=>{const i=function joinDisplayWords(e){let t="";return e.forEach((e=>{t="".concat(t," ").concat(e.label)})),t.trim()}(l);if(function transitionsComplete(e){return!Object.keys(e).find((t=>e[t]))}(r)&&i!==e){const r=new o.diff_match_patch,{chars1:a,chars2:c,lineArray:u}=r.diff_linesToChars_(i.split(" ").join("\n"),e.split(" ").join("\n")),p=r.diff_main(a,c,!1);r.diff_charsToLines_(p,u);const f={},v=[];let h=0,_=0,b=0;for(let e=0;e<p.length;e+=1){const[r,o]=p[e],i=o.trim().split("\n");if(0===r)for(let e=0;e<i.length;e+=1){const e=_objectSpread({},l[h]);n&&(e.key+=1,updateWordKey(e.id,b),f[e.id]=!0,b+=t),v.push(e),h+=1,_+=1}else{const[t,n]=p[e!==p.length-1?e+1:0],o=n.trim().split("\n");if(e!==p.length-1&&0!==t){e+=1;const n=1===t?i:o,a=1===r?i:o,{index:s,transitionDelay:l,wordIndex:c}=y({addedWords:a,expectedWords:v,removedWords:n,startDelay:b,startIndex:_,startWordIndex:h,transitions:f});h=c,_=s,b=l}else if(1===r){const{index:e,transitionDelay:t}=g({addedWords:i,expectedWords:v,startDelay:b,startIndex:_,transitions:f});_=e,b=t}else{const{transitionDelay:e,wordIndex:t}=m({removedWords:i,startDelay:b,startWordIndex:h,transitions:f});h=t,b=e}}}d(v),s(f)}}),[e,t,l,r,n,g,y,m]),{nextWords:u,updateTransition:p,words:l}}},21241:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r="cubic-bezier(0.33,0.0,0.0,1.0)"},83055:(e,t,n)=>{"use strict";n.d(t,{q:()=>Status});n(27378);var r,o=n(93284),i=n(10043);function Status(){return r||(r=(0,i.tZ)(o.DH,{defaultMessage:"Margin Minimum",id:"Min2kMarginLeveredError.quote.decouple.message",status:"legacy"}))}},78361:(e,t,n)=>{"use strict";n.d(t,{S:()=>u});var r,o,i=n(64649),a=n(21881),s=n(70720),l=n(12633);const c={account_number:"",buying_power:{amount:"0",currency_code:"BTC"}};let u=(0,l.OF)((o=class CurrencyBuyingPowerRecord extends((0,l.sr)(c,"CurrencyBuyingPowerRecord")){static url(e){return this.baseUrl+this.urlPath.replace(":accountNumber",e.accountNumber).replace(":currencyCode",e.currencyCode)}},(0,i.Z)(o,"baseUrl",s.jT),(0,i.Z)(o,"urlPath","/accounts/:accountNumber/currency_buying_power/:currencyCode"),(0,i.Z)(o,"idField",(e=>"".concat(e.accountNumber,".").concat(e.currencyCode))),(0,i.Z)(o,"refresh",1e4),(0,i.Z)(o,"agent",a.s0),r=o))||r},16238:(e,t,n)=>{"use strict";n.d(t,{Y:()=>_});var r,o,i=n(64649),a=n(15373),s=n.n(a),l=n(34051),c=n(73367),u=n(63620),d=n(51694),p=n(93284),g=n(12633),m=n(53906);const y={state:{[d.rf.New]:(0,p.b2)({defaultMessage:"New",id:"CurrencyOrderRecord.State.New",status:"legacy"}),[d.rf.Queued]:(0,p.b2)({defaultMessage:"Queued",id:"CurrencyOrderRecord.State.Queued",status:"legacy"}),[d.rf.Unconfirmed]:(0,p.b2)({defaultMessage:"Unconfirmed",id:"CurrencyOrderRecord.State.Unconfirmed",status:"legacy"}),[d.rf.Confirmed]:(0,p.b2)({defaultMessage:"Placed",id:"CurrencyOrderRecord.State.Confirmed",status:"legacy"}),[d.rf.PartiallyFilled]:(0,p.b2)({defaultMessage:"Partially Filled",id:"CurrencyOrderRecord.State.PartiallyFilled",status:"legacy"}),[d.rf.Filled]:(0,p.b2)({defaultMessage:"Filled",id:"CurrencyOrderRecord.State.Filled",status:"legacy"}),[d.rf.Rejected]:(0,p.b2)({defaultMessage:"Rejected",id:"CurrencyOrderRecord.State.Rejected",status:"legacy"}),[d.rf.Canceled]:(0,p.b2)({defaultMessage:"Canceled",id:"CurrencyOrderRecord.State.Canceled",status:"legacy"}),[d.rf.Failed]:(0,p.b2)({defaultMessage:"Failed",id:"CurrencyOrderRecord.State.Failed",status:"legacy"}),[d.rf.Voided]:(0,p.b2)({defaultMessage:"Voided",id:"CurrencyOrderRecord.State.Voided",status:"legacy"})}},f={limitBuy:(0,p.b2)({defaultMessage:"Limit Buy",id:"CurrencyOrder.OrderType.limitBuy",status:"legacy"}),limitSell:(0,p.b2)({defaultMessage:"Limit Sell",id:"CurrencyOrder.OrderType.limitSell",status:"legacy"}),marketBuy:(0,p.b2)({defaultMessage:"Market Buy",id:"CurrencyOrder.OrderType.marketBuy",status:"legacy"}),marketSell:(0,p.b2)({defaultMessage:"Market Sell",id:"CurrencyOrder.OrderType.marketSell",status:"legacy"}),stopBuy:(0,p.b2)({defaultMessage:"Stop Buy",id:"CurrencyOrder.OrderType.stopBuy",status:"legacy"}),stopLimitBuy:(0,p.b2)({defaultMessage:"Stop Limit Buy",id:"CurrencyOrder.OrderType.stopLimitBuy",status:"legacy"}),stopLimitSell:(0,p.b2)({defaultMessage:"Stop Limit Sell",id:"CurrencyOrder.OrderType.stopLimitSell",status:"legacy"}),stopSell:(0,p.b2)({defaultMessage:"Stop Sell",id:"CurrencyOrder.OrderType.stopSell",status:"legacy"})};const v=(0,l.Record)(function getDefaultCurrencyOrderExecutionRecordValues(){return{effective_price:"0.00000000",id:"",quantity:"0.00000",settlement_date:u.UNDEFINED_DATE_STRING,timestamp:u.UNDEFINED_DATETIME_STRING}}(),"CurrencyOrderExecutionRecord");let h;!function(e){e.RECURRING="recurring",e.PLUTO="pluto",e.CHECKOUT_FLOW="checkout_flow"}(h||(h={}));let _=(0,g.OF)((o=class CurrencyOrderRecord extends((0,m.u)(function getDefaultCurrencyOrderRecordValues(){return{account_id:"",average_price:"0.0000000",cancel_url:null,created_at:u.UNDEFINED_DATETIME_STRING,cumulative_quantity:"0.00000",currency_pair_id:"",entered_price:"0.0000000",executions:(0,l.List)(),id:"",initiator_id:"",initiator_type:h.CHECKOUT_FLOW,last_transaction_at:u.UNDEFINED_DATETIME_STRING,price:"0.0000000",quantity:"0.00000",ref_id:"",rounded_executed_notional:"0.00",side:c.Side.Buy,state:d.rf.Unconfirmed,time_in_force:c.TimeInForce.GTC,type:c.OrderType.Limit,updated_at:u.UNDEFINED_DATETIME_STRING}}(),"CurrencyOrderRecord")){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.executions&&(e.executions=(0,l.List)(e.executions.map((e=>v(e))))),super(e)}get isPending(){return[d.rf.Queued,d.rf.New,d.rf.Confirmed,d.rf.Unconfirmed,d.rf.PartiallyFilled].includes(this.state)}get isUnsuccessful(){return[d.rf.Canceled,d.rf.Rejected,d.rf.Failed].includes(this.state)}get isFilled(){return this.state===d.rf.Filled}get isCancelable(){return null!==this.cancel_url&&this.isPending}get hasExecutions(){return!this.executions.isEmpty()}get lastFilledDate(){var e,t;return null!==(e=null===(t=this.executions.last(void 0))||void 0===t?void 0:t.timestamp)&&void 0!==e?e:""}get hasFailed(){return this.state===d.rf.Failed}get stateMessage(){return y.state[this.state]}get pendingQuantity(){return String(s()(this.quantity).minus(this.cumulative_quantity))}get enteredAmount(){return this.entered_price}get totalNotional(){return this.rounded_executed_notional}get recurringOrderAmount(){return this.isFilled?this.totalNotional:this.enteredAmount}get isRecurringOrder(){return this.initiator_type===h.RECURRING}get accountHistoryDate(){return new Date(this.updated_at)}get triggerTypeSideMessage(){if("buy"===this.side)switch(this.type){case"market":return f.marketBuy;case"limit":return f.limitBuy;case"stop_limit":return f.stopLimitBuy;case"stop_loss":return f.stopBuy}else if("sell"===this.side)switch(this.type){case"market":return f.marketSell;case"limit":return f.limitSell;case"stop_limit":return f.stopLimitSell;case"stop_loss":return f.stopSell}throw new Error('Message for type "'.concat(this.type,'", side "').concat(this.side,'" not found'))}refetch(e){let{dispatch:t}=e;const n={id:this.id};return t(this.constructor.issueFind({urlParams:n},{fetchLimit:0,noSubscribe:!0}))}},(0,i.Z)(o,"urlPath","/orders/"),(0,i.Z)(o,"refresh",15e3),r=o))||r},3218:(e,t,n)=>{"use strict";n.d(t,{Y:()=>v});var r=n(53782),o=n(64649),i=n(34051),a=n(68891),s=n(55155),l=n(63620),c=n(823),u=n(70720),d=n(12633);const p=["id","symbol"];var g,m,y;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let f=(0,d.gC)(g=class HistoricalCurrencyPairQuotePointRecord extends((0,c.C)({begins_at:l.UNDEFINED_DATETIME_STRING,close_price:"0.0000",high_price:"0.0000",interpolated:!1,low_price:"0.0000",open_price:"0.0000",session:s.SESSION.REGULAR,volume:0},"HistoricalCurrencyPairQuotePointRecord")){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(_objectSpread({close_price:e.closeValue,open_price:e.openValue},e))}get openValue(){return this.open_price}get closeValue(){return this.close_price}})||g,v=(0,d.OF)((y=class HistoricalCurrencyPairQuoteRecord extends((0,c.y)({bounds:s.BOUNDS.TWENTY_FOUR_SEVEN,data_points:null,id:null,interval:s.INTERVAL.FIVE_MINUTE,open_price:null,open_time:null,previous_close_price:null,previous_close_time:null,span:s.DISPLAY_SPAN.DAY,symbol:"BTCUSD"},"HistoricalCurrencyPairQuoteRecord")){static url(e){let{id:t,symbol:n}=e,o=(0,r.Z)(e,p);const i=(0,a.stringify)(o);return"".concat(this.urlRoot).concat(t||n,"/?").concat(i)}get url(){return this.constructor.url(this)}get openValue(){return this.open_price}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(_objectSpread(_objectSpread({},e),{},{data_points:e.data_points?(0,i.List)(e.data_points.map((e=>new f(e)))):void 0}))}get data(){return this.data_points||null}},(0,o.Z)(y,"data",void 0),(0,o.Z)(y,"DataPoint",f),(0,o.Z)(y,"baseUrl",u.ZQ),(0,o.Z)(y,"urlPath","/forex/historicals/"),(0,o.Z)(y,"idField",(e=>[e.id,e.interval,e.span].join())),(0,o.Z)(y,"refresh",15e3),m=y))||m},21113:(e,t,n)=>{"use strict";n.d(t,{Q:()=>EducationCarouselContentItem});var r,o,i=n(64649),a=n(10043),s=n(27378),l=n(35002),c=n(47789),u=n(14772),d=n(20233),p=n(12633),g=n(91906);const m={user_progress:[{content_type:1,percent_complete:0,status_type:1,tracking_id:"",updated_at:""}]};let y=(0,p.OF)((o=class LessonUserProgressRecord extends((0,g.A)(m,"LessonUserProgressRecord")){static url(e){let{trackingId:t}=e;return this.baseUrl+this.urlPath.replace("{trackingId}",t)}},(0,i.Z)(o,"urlPath","/education/user_progress?tracking_id={trackingId}"),(0,i.Z)(o,"idField",(e=>e.user_progress&&e.user_progress.length>0?e.user_progress[0].tracking_id:"unknown lesson")),r=o))||r;var f=n(20670);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"1ud0ut6",styles:"opacity:0.8"};function EducationCarouselContentItemCheckmark(e){let{isCompleted:t,textColor:n}=e;return t?(0,a.tZ)("div",{css:v},(0,a.tZ)(l.sg,{color:"#000000"===n?c.h2.Jet:c.h2.Nova,type:"Checkmark16"})):(0,a.tZ)(s.Fragment,null)}var h={name:"1dow1np",styles:"display:flex;flex-direction:column-reverse;padding-bottom:16px;padding-left:13px;transition:padding 500ms"},_={name:"ehy1wk",styles:"font-size:13px;font-weight:400;margin-top:4px"};function EducationCarouselContentItemLeft(e){let{isCompleted:t,textColor:n,title:r}=e;return(0,a.tZ)("div",{css:h},(0,a.tZ)("h3",{css:_},r),(0,a.tZ)(EducationCarouselContentItemCheckmark,{isCompleted:!!t,textColor:n}))}function EducationCarouselContentItemInner(e){let{backgroundColor:t,deeplink:n,index:r,isCompleted:o,isLastLesson:i,isOnHome:l=!1,lessonId:c,lessonTitle:p,peekedImageUrl:g,textColor:m,title:y}=e;const[f,v]=(0,s.useState)(!1),h=(0,u.s)();return(0,a.tZ)("div",{css:(0,a.iv)({alignItems:"stretch",backgroundColor:t,borderRadius:4,color:m,cursor:"pointer",display:"flex",flexGrow:0,flexShrink:0,height:157,justifyContent:"space-between",marginRight:i?0:9,opacity:f?.97:1,transition:"all 100ms ease-in-out",width:207},""),onClick:()=>{(0,d.U6)({isCompleted:!!o,isOnEduHome:l,itemPosition:r,lessonId:c,lessonTitle:p}),h(n)},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},(0,a.tZ)(EducationCarouselContentItemLeft,{isCompleted:!!o,isHovering:f,textColor:m,title:y}),(0,a.tZ)("img",{src:g}))}function EducationCarouselContentItem(e){var t,n;let{backgroundColor:r,completed:o,deeplink:i,index:l,isLastLesson:c,isOnHome:u=!1,lessonId:g,lessonTitle:m,peekedImageUrl:v,setShouldShowNewLessonsBadge:h,textColor:_,title:b,trackingId:C}=e;const[O,S]=(0,f.V)("edu-home:lessons:dates_first_seen",{}),E=(0,p.tT)({model:y,params:{trackingId:C}}),P=o||E.result&&E.result.user_progress&&E.result.user_progress.length>0&&100===(null===(t=E.result)||void 0===t?void 0:t.user_progress[0].percent_complete),Z=E.result&&E.result.user_progress&&E.result.user_progress.length>0&&(null===(n=E.result)||void 0===n?void 0:n.user_progress[0].percent_complete)>0;return(0,s.useEffect)((()=>{O[C]||S(_objectSpread(_objectSpread({},O),{},{[C]:Date.now()}))}),[O,S,C]),(0,s.useEffect)((()=>{if(h){const e=new Date;e.setDate(e.getDate()-14);const t=new Date(O[C]);(!(C in O)||t>e)&&Z&&h(!0)}}),[O,Z,h,C]),(0,s.useEffect)((()=>{(0,d.K1)({isCompleted:!!P,isOnEduHome:u,itemPosition:l,lessonId:g,lessonTitle:m})}),[l,P,u,g,m]),(0,a.tZ)("div",{css:(0,a.iv)({backgroundColor:_,borderRadius:4,flexGrow:0,flexShrink:0,height:157,marginRight:c?0:9,width:207},"")},(0,a.tZ)(EducationCarouselContentItemInner,{backgroundColor:r,deeplink:i,index:l,isCompleted:!!P,isOnHome:u,lessonId:g,lessonTitle:m,peekedImageUrl:v,textColor:_,title:b}))}},20233:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>logClickLessonsPrimaryCTAButton,Br:()=>logClickLessonsSecondaryCTAButton,Gg:()=>logViewLessonsContent,K1:()=>logAppearLessonSelectorRow,L3:()=>logAppearBrowseEntrypoint,U6:()=>logClickLessonSelectorRow,Xe:()=>logClickShowMoreBrowseEntrypoint,ik:()=>logClickLessonsBackButton,ks:()=>logClickLessonsAdvanceButton,uB:()=>logAppearEducationHomeCarouselSections,yN:()=>getLessonScreenAppearEventData});var r=n(84974),o=n(22903),i=n(49569);function logClickShowMoreBrowseEntrypoint(e){let{carouselItemCount:t,itemPosition:n}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.VIEW_EDUCATION_HOME,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{item_position:n+1,news_feed_item:{carousel_item_count:t,content_type:i.t.event_logging.NewsFeedItem.ContentType.LEARNING_ENTRY_POINT}},screen:{name:i.t.event_logging.Screen.Name.HOME}})}function logAppearBrowseEntrypoint(e){let{identifier:t,numLessons:n}=e;o.c.logAppearEvent(r.YB,{component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_ENTRY_POINT,identifier:t},context:{news_feed_item:{carousel_item_count:n,content_type:i.t.event_logging.NewsFeedItem.ContentType.LEARNING_ENTRY_POINT}},screen:{name:i.t.event_logging.Screen.Name.HOME}})}function logAppearEducationHomeCarouselSections(e){let{eduHomeIdentifier:t,eduHomeTitle:n,eduSeriesIdentifier:a,eduSeriesTitle:s,entryPoint:l,itemCount:c,itemPosition:u}=e;o.c.logAppearEvent(r.YB,{component:{component_type:i.t.event_logging.Component.ComponentType.CAROUSEL},context:{education_home:{entry_point:l,identifier:t,title:n},education_series:{identifier:a,title:s},item_count:c,item_position:u},screen:{name:i.t.event_logging.Screen.Name.EDUCATION_HOME}})}function logAppearLessonSelectorRow(e){let{isCompleted:t,isOnEduHome:n=!1,itemPosition:a,lessonId:s,lessonTitle:l}=e;o.c.logAppearEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.VIEW_LEARNING_LESSON,component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_LESSON_CARD},context:{item_position:a+1,learning_lesson:{identifier:s,is_completed:t,title:l}},screen:{name:n?i.t.event_logging.Screen.Name.EDUCATION_HOME:i.t.event_logging.Screen.Name.HOME}})}function logClickLessonSelectorRow(e){let{isCompleted:t,isOnEduHome:n=!1,itemPosition:a,lessonId:s,lessonTitle:l}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.VIEW_LEARNING_LESSON,component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_LESSON_CARD},context:{item_position:a+1,learning_lesson:{identifier:s,is_completed:t,title:l}},screen:{name:n?i.t.event_logging.Screen.Name.EDUCATION_HOME:i.t.event_logging.Screen.Name.HOME}})}function logClickLessonsBackButton(e){let{isCompleted:t,itemCount:n,itemPosition:a,lessonId:s,lessonProgress:l,lessonTitle:c,sectionId:u,sectionTitle:d,source:p}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.DISMISS,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{item_count:n+1,item_position:a,learning_lesson:{identifier:s,is_completed:t,title:c},learning_section:{identifier:u,percent_complete:l,title:d}},screen:{description:p,name:i.t.event_logging.Screen.Name.LEARNING_LESSON_V3}})}function logClickLessonsAdvanceButton(e){let{isCompleted:t,itemCount:n,itemPosition:a,lessonId:s,lessonProgress:l,lessonTitle:c,sectionId:u,sectionTitle:d,source:p}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.CONTINUE,component:{component_type:i.t.event_logging.Component.ComponentType.CONTINUE_BUTTON},context:{item_count:n+1,item_position:a,learning_lesson:{identifier:s,is_completed:t,title:c},learning_section:{identifier:u,percent_complete:l,title:d}},screen:{description:p,name:i.t.event_logging.Screen.Name.LEARNING_LESSON_V3}})}function logClickLessonsPrimaryCTAButton(e){let{buttonText:t,deeplinkUrl:n,isCompleted:a,isDeeplink:s,lessonId:l,lessonTitle:c,pageNumber:u,source:d,totalPages:p}=e;o.c.logClickEvent(r.YB,{action:s?i.t.event_logging.UserInteractionEventData.Action.OPEN_URL:i.t.event_logging.UserInteractionEventData.Action.DISMISS,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{button_text:t,item_count:p+1,item_position:u,learning_lesson:{identifier:l,is_completed:a,title:c},url:n},screen:{description:d,name:i.t.event_logging.Screen.Name.LEARNING_LESSON_V3}})}function logClickLessonsSecondaryCTAButton(e){let{deeplinkUrl:t,isCompleted:n,isDeeplink:a,lessonId:s,lessonTitle:l,pageNumber:c,source:u,totalPages:d}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.DISMISS,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{item_count:d+1,item_position:c,learning_lesson:{identifier:s,is_completed:n,title:l},url:t},screen:{description:u,name:i.t.event_logging.Screen.Name.LEARNING_LESSON_V3}})}function logViewLessonsContent(e){let{isCompleted:t,itemCount:n,itemPosition:a,lessonId:s,lessonProgress:l,lessonTitle:c,sectionId:u,sectionTitle:d,source:p}=e;o.c.logAppearEvent(r.YB,{component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_SECTION},context:{item_count:n+1,item_position:a+1,learning_lesson:{identifier:s,is_completed:t,title:c},learning_section:{identifier:u,percent_complete:l,title:d}},screen:{description:p,name:i.t.event_logging.Screen.Name.LEARNING_LESSON_V3}})}function getLessonScreenAppearEventData(e,t){return{message_uuid:e,screen_description:t,screen_name:"LEARNING_LESSON_V3"}}},39984:(e,t,n)=>{"use strict";n.d(t,{D:()=>DepositFundsButton});var r=n(64649),o=n(27378),i=n(2968),a=n(60328),s=n(83515),l=n(22170),c=n(93284),u=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DepositFundsButton(e){let{cancelReviewing:t,customDepositFundsButtonLabel:n,depositAmount:d,description:p,loggingInfo:g,secondary:m=!1,submitLabel:y,toAccount:f=s.hc.Brokerage}=e;const v=(0,c.og)(),[h,_]=o.useState(!1),b=null!=n?n:v.formatMessage(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i.s.depositFunds));return(0,u.tZ)(o.Fragment,null,(0,u.tZ)(l.z,{label:b,loggingInfo:g,onClick:e=>{e.preventDefault(),_(!0)},type:"button",variant:m?"secondary":"primary",width:"full"}),h&&(0,u.tZ)(a.W,{depositAmount:d,description:p,onComplete:()=>{_(!1),t()},submitLabel:y&&v.formatMessage(y),toAccountType:f}))}},76643:(e,t,n)=>{"use strict";n.d(t,{F:()=>D});var r=n(27378),o=n(10959),i=n(74043),a=n(24498),s=n(42925),l=n(53782),c=n(64649),u=n(68891),d=n(21881),p=n(70720),g=n(12633);const m=["account_number"];var y,f;const v={account_number:"",alert:null};let h=(0,g.OF)((f=class DayTradeWarningRecord extends((0,g.sr)(v,"DayTradeWarningRecord")){static url(e){let{account_number:t}=e,n=(0,l.Z)(e,m);const r=this.baseUrl+this.urlPath.replace("{account_number}",t);return"".concat(r,"/?").concat((0,u.stringify)(n))}static _transformNetworkResponse(e,t){let{urlParams:n}=t;return e.account_number=n.account_number,e}},(0,c.Z)(f,"baseUrl",p.jT),(0,c.Z)(f,"urlPath","/accounts/{account_number}/day_trade_warning"),(0,c.Z)(f,"idField","account_number"),(0,c.Z)(f,"refresh",1e4),(0,c.Z)(f,"agent",d.s0),y=f))||y;var _=n(67527),b=n(15379),C=n(71881),O=n(82665),S=n(76312),E=n(22347),P=n.n(E),Z=n(10043);const D=(0,S.I)((function _OrderPDTAlert(e){let{equityOrderId:t,optionOrderId:n,orderState:l}=e;const{activeAccount:c}=(0,_.X_)((0,a.DV)()),u=null==c?void 0:c.account_number,p=(0,g.C$)(),m=(0,o.k6)(),[y,f]=(0,r.useState)();if((0,r.useEffect)((()=>{!async function fetchDayTradeRecord(){if(!Boolean(t||n)||![b.Kq.Filled,b.Kq.PartiallyFilled].includes(l))return;p.invalidate({model:s.DayTradesRecord,params:{accountNumber:u}});const{body:e}=await d.s0.get(h.url({account_number:u,equity_order_id:t,option_order_id:n}));f(e)}()}),[u,t,n,l,p]),null==y||!y.alert)return null;const{alert:v}=y,[S]=v.action_buttons;return(0,Z.tZ)("div",{className:P().orderPdtAlert},(0,Z.tZ)(C.Y,null,v.title),(0,Z.tZ)("p",{className:P().message},v.subtitle),(0,Z.tZ)(O.I,{loggingContext:{button_group_title:"orderform",button_title:S.logging_identifier},onClick:()=>m.push((0,i.yJ)(S.action))},S.title))}))},55727:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r=(0,n(93284).B2)({account:{defaultMessage:"Account",id:"AccountNav.AccountPopover.accountLinkLabel",status:"legacy"},applicationStatus:{defaultMessage:"Application Status",id:"AccountNav.AccountPopover.applicationStatusLinkLabel",status:"legacy"},banking:{defaultMessage:"Banking",id:"AccountNav.AccountPopover.bankingLinkLabel",status:"legacy"},crypto:{defaultMessage:"Crypto",id:"AccountNav.AccountPopover.cryptoLinkLabel",status:"legacy"},documents:{defaultMessage:"Documents",id:"AccountNav.AccountPopover.documentsLinkLabel",status:"legacy"},freeStocks:{defaultMessage:"Rewards",id:"AccountNav.AccountPopover.referralLinkLabel",status:"legacy"},gold:{defaultMessage:"Robinhood Gold",id:"AccountNav.AccountPopover.goldLinkLabel",status:"legacy"},help:{defaultMessage:"Help",id:"AccountNav.AccountPopover.helpLinkLabel",status:"legacy"},history:{defaultMessage:"History",id:"AccountNav.AccountPopover.historyLinkLabel",status:"legacy"},investing:{defaultMessage:"Investing",id:"AccountNav.AccountPopover.investingLinkLabel",status:"legacy"},logout:{defaultMessage:"Log Out",id:"AccountNav.AccountPopover.logOutLinkLabel",status:"legacy"},margin:{defaultMessage:"Margin Investing",id:"AccountNav.AccountPopover.marginLinkLabel",status:"legacy"},profile:{defaultMessage:"Profile",id:"AccountNav.AccountPopover.profileLinkLabel",status:"legacy"},recurring:{defaultMessage:"Recurring",id:"AccountNav.AccountPopover.recurringLinkLabel",status:"legacy"},reportsAndStatements:{defaultMessage:"Reports and statements",id:"AccountNav.AccountPopover.documentsLinkLabel",status:"legacy"},security:{defaultMessage:"Security and Privacy",id:"AccountNav.AccountPopover.securityPrivacyLinkLabel",status:"legacy"},settings:{defaultMessage:"Settings",id:"AccountNav.AccountPopover.settingsLinkLabel",status:"legacy"},shortcuts:{defaultMessage:"Keyboard Shortcuts",id:"AccountNav.AccountPopover.shortcutsModalLabel",status:"legacy"},slip:{defaultMessage:"Stock Lending",id:"AccountNav.AccountPopover.slipLabel",status:"legacy"},spending:{defaultMessage:"Spending",id:"AccountNav.AccountPopover.spendingLinkLabel",status:"legacy"},taxCenter:{defaultMessage:"Tax center",id:"AccountNav.AccountPopover.taxCenterLinkLabel",redOakId:"2698658",status:"approved"},transfers:{defaultMessage:"Transfers",id:"AccountNav.AccountPopover.transferLinkLabel",status:"legacy"}})},46188:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r,o=n(61647),i=n(21881);let a=(0,n(12633).OF)(r=class ACHTransferV1LegacyRecord extends((0,o.fu)({},"ACHTransferV1LegacyRecord")){static async abort(e){let{isPendingConfirmation:t,transferId:n}=e;if(!t)return;const r="".concat(this.urlPath).concat(n,"/abort/");return await i.hs.post(r).send()}})||r},53613:(e,t,n)=>{"use strict";n.d(t,{O:()=>AppDirectionPreferenceWrapper});var r=n(56141),o=n.n(r),i=n(27378),a=n(23104),s=n(51603),l=n(98270),c=n(10043);function AppDirectionPreferenceWrapper(e){let{children:t,direction:n,id:r,priority:u=1}=e;const d=(0,i.useRef)(null),p=(0,a.useDispatch)(),g=(0,i.useCallback)((e=>{d.current&&o()(d.current,e)||(p((0,l.nh)(e)),d.current&&d.current.id!==e.id&&p((0,l.f7)({id:d.current.id})),d.current=e)}),[p]);return(0,s.yF)()&&g({direction:n,id:r,priority:u}),(0,i.useEffect)((()=>(g({direction:n,id:r,priority:u}),()=>{p((0,l.f7)({id:r}))})),[n,p,r,u,g]),(0,c.tZ)(i.Fragment,null,t)}},50352:(e,t,n)=>{"use strict";n.d(t,{G:()=>AvailableWidthMeasurer});var r=n(19783),o=n.n(r),i=n(27378),a=n(79161),s=n(10043);function AvailableWidthMeasurer(e){let{children:t,className:n}=e;const[r,l]=function useAvailableWidth(){const[e,t]=(0,i.useState)(0),n=(0,i.useRef)(0),r=(0,i.useMemo)((()=>o()(t,200,{leading:!0})),[]),a=(0,i.useCallback)((e=>{var t;const o=null==e||null===(t=e.client)||void 0===t?void 0:t.width;o&&o!==n.current&&(n.current=o,r(o))}),[r]);return[e,a]}();return(0,s.tZ)(a.default,{client:!0,onResize:l},(e=>{let{measureRef:o}=e;return(0,s.tZ)("div",{ref:o,className:n},t(r))}))}},64626:(e,t,n)=>{"use strict";n.d(t,{M:()=>ButtonHook});var r=n(64900),o=n(39e3),i=n.n(o),a=(n(27378),n(54930)),s=n.n(a),l=n(10043);function ButtonHook(e){let{"aria-selected":t,children:n,className:o,"data-testid":a,isDisabled:c=!1,onClick:u,onMouseEnter:d,onMouseLeave:p,role:g="button"}=e;const m=(0,r.cx)(s().root,o,{[s().isDisabled]:c});return(0,l.tZ)("div",{"aria-disabled":c?"true":"false","aria-selected":t,className:m,"data-testid":a,onClick:c?void 0:()=>{u()},onKeyDown:c?void 0:e=>{const t=i()(e.keyCode);"space"!==t&&"enter"!==t||(e.preventDefault(),u())},onMouseEnter:c?void 0:d,onMouseLeave:c?void 0:p,role:g,tabIndex:c?void 0:0},n)}},66386:(e,t,n)=>{"use strict";n.d(t,{OS:()=>m,oT:()=>CardFormLayout});var r=n(64900),o=n(27378),i=n(38978),a=n(7447),s=n(71881),l=n(21693),c=n(47468),u=n(22391),d=n(50169),p=n(10043);Symbol("order form popover slot");const g="\n clamp(\n   ".concat(i.ZV.size.gutterWidth,",\n   calc(3 * 100vw / 98 - 984px / 49),\n   calc(2 * ").concat(i.ZV.size.gutterWidth,")\n )"),m=(0,r.css)({[a.L9]:{paddingLeft:g,paddingRight:g},paddingLeft:i.ZV.size.gutterWidth,paddingRight:i.ZV.size.gutterWidth},""),y={accountSelector:(0,r.css)({marginLeft:"-".concat(d.bT,"px"),marginRight:"-".concat(d.bT,"px"),width:"calc(100% + ".concat(2*d.bT,"})")},""),actionsSection:(0,r.css)({backgroundColor:i.ZV.neutral.bg1,borderColor:i.ZV.neutral.bg3,paddingBottom:d.bT},""),actionsSectionExtraPaddingTop:(0,r.css)({paddingTop:d.bT},""),actionsSectionHorizontalPadding:(0,r.css)({paddingLeft:d.bT,paddingRight:d.bT},""),bodyPadding:(0,r.css)({paddingLeft:d.bT,paddingRight:d.bT,paddingTop:d.q3},""),button:(0,r.css)({name:"1wts3mx",styles:"&:empty{display:none;}"}),buttonMargin:(0,r.css)({marginTop:d.q3},""),copy:(0,r.css)({name:"1wts3mx",styles:"&:empty{display:none;}"}),form:(0,r.css)({name:"1aubja5",styles:"overflow:hidden;width:100%"}),statusAndCopySection:(0,r.css)({marginBottom:d.q3,paddingBottom:"16px",paddingTop:"16px"},""),yieldRow:(0,r.css)({borderColor:i.ZV.neutral.bg3,borderTopStyle:"solid",borderTopWidth:1,fontWeight:500,marginTop:d.q3,paddingRight:d.q3},"")},f={accountSelector:(0,r.css)({marginLeft:"calc(-1 * ".concat(g,")"),marginRight:"calc(-1 * ".concat(g,")"),width:"calc(100% + ".concat(g," + ").concat(g,")")},""),actionsSectionHorizontalPadding:m,bodyPadding:(0,r.cx)((0,r.css)({paddingTop:i.ZV.size.gutterWidth},""),m),cardLayout:(0,r.css)({"& > .card-heading":m,"& > footer":m},"")};function CardFormLayout(e){let{accountSelector:t,additionalFields:n,additionalFooter:i,copy:a,"data-testid":d,footer:g,formFields:m,hasFlexiblePadding:v,heading:h,hideStatusIcon:_,onSubmit:b,primaryButton:C,scary:O,secondaryButton:S,status:E,yieldRow:P}=e;return(0,p.tZ)("form",{className:y.form,"data-testid":d,onSubmit:b},(0,p.tZ)(c.J,{additionalFooter:i,body:(0,p.tZ)(o.Fragment,null,(0,p.tZ)("div",{className:v?f.bodyPadding:y.bodyPadding},m,P&&(0,p.tZ)("div",{className:y.yieldRow},P),n),(0,p.tZ)(u.K,{isScaryTheme:O},(0,p.tZ)("div",{className:(0,r.cx)(y.actionsSection,v?f.actionsSectionHorizontalPadding:y.actionsSectionHorizontalPadding,(E||a)&&!O||t?void 0:y.actionsSectionExtraPaddingTop)},(0,p.tZ)(l.g,null,(0,p.tZ)("div",{className:E||a?y.statusAndCopySection:void 0},E&&(0,p.tZ)(s.Y,{hideIcon:_,scary:O},E),a&&(0,p.tZ)("section",{className:y.copy},a))),(0,p.tZ)("div",{className:v?f.accountSelector:y.accountSelector},t),C&&(0,p.tZ)("div",{className:y.button},C),S&&(0,p.tZ)("div",{className:(0,r.cx)(y.button,!C&&t?void 0:y.buttonMargin)},S)))),className:v&&f.cardLayout||void 0,footer:g,heading:h}))}},58894:(e,t,n)=>{"use strict";n.d(t,{L:()=>CellLabel});n(27378);var r=n(21675),o=n(10043);var i={name:"cjhhha",styles:"margin-bottom:0;margin-top:0"},a={name:"ey5f1f",styles:"height:2px"},s={name:"cjhhha",styles:"margin-bottom:0;margin-top:0"};function CellLabel(e){let{className:t,cssId:n,subtitle:l,subtitleColor:c,title:u}=e;return(0,o.tZ)("div",{className:t,id:n},u&&(0,o.tZ)(r.Dy.Text,{isBold:!0,size:"S"},(0,o.tZ)("div",{css:i},u)),u&&l&&(0,o.tZ)("div",{css:a}),l&&(0,o.tZ)(r.Dy.Text,{color:c,size:"S"},(0,o.tZ)("div",{css:s},l)))}},90241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ContentCarousel});var r=n(64900),o=n(10043),i=n(27378),a=n(79161),s=n(38978),l=n(36998),c=n(50352);const u={name:"1i3hara",styles:"display:flex;flex-direction:column;height:100%;justify-content:center;position:absolute;top:0"},d={arrowButtonContainerLeft:[u,{left:-20}],arrowButtonContainerRight:[u,{right:-20}],carousel:{name:"pw7jst",styles:"position:relative;width:100%"},carouselContentContainer:{name:"1j26myd",styles:"::-webkit-scrollbar{display:none;}display:flex;flex-wrap:nowrap;-ms-overflow-style:none;overflow-x:scroll;scrollbar-width:none"},navButtonContainer:(0,o.iv)({backgroundColor:s.ZV.neutral.bg3,borderRadius:4,padding:1},"")};function ContentCarousel(e){let{children:t,scrollStepSizeOnNav:n=500,overrideRootStyles:s={},overrideContentContainerStyles:l={},overrideArrowButtonContainerStyles:u={}}=e;const p=(0,i.useRef)(null),[g,m]=(0,i.useState)(0),[y,f]=(0,i.useState)(1),v=(0,i.useCallback)((e=>{var t,n;e.scroll&&e.client&&f((null===(t=e.scroll)||void 0===t?void 0:t.width)-(null===(n=e.client)||void 0===n?void 0:n.width))}),[]),h=(0,i.useCallback)((()=>{p.current&&m(p.current.scrollLeft)}),[]);return(0,o.tZ)(c.G,{css:[d.carousel,s,""]},(e=>(0,o.tZ)("div",{className:(0,r.css)({width:e},"")},(0,o.tZ)(a.default,{client:!0,innerRef:p,onResize:v,scroll:!0},(e=>{let{measureRef:n}=e;return(0,o.tZ)("div",{ref:n,css:[d.carouselContentContainer,l,""],onScroll:h},t)})),g<y&&(0,o.tZ)(ScrollButton,{ariaLabel:"Rotate carousel right",className:(0,r.css)(d.arrowButtonContainerRight,u,""),containerRef:p,icon:"CaretRight16",scrollStep:n}),g>0&&(0,o.tZ)(ScrollButton,{ariaLabel:"Rotate carousel left",className:(0,r.css)(d.arrowButtonContainerLeft,u,""),containerRef:p,icon:"CaretLeft16",scrollStep:-1*n}))))}function ScrollButton(e){let{ariaLabel:t,className:n,containerRef:r,icon:a,scrollStep:s}=e;const c=(0,i.useCallback)((()=>{if(r.current){const e=r.current.scrollLeft+s;r.current.scroll({behavior:"smooth",left:e})}}),[r,s]);return(0,o.tZ)("div",{className:n},(0,o.tZ)("div",{css:d.navButtonContainer},(0,o.tZ)(l.h,{"aria-label":t,icon:a,onClick:c,overrideRootStyles:{height:39,width:39},type:"button"})))}},8582:(e,t,n)=>{"use strict";n.d(t,{M:()=>DatePicker});var r,o,i=n(64900),a=n(50657),s=n(27378),l=n(22648),c=n.n(l),u=n(1460),d=n(35002),p=n(38978),g=n(7450),m=n(23371),y=n(10043);const f="react-datepicker__input-link";var v={name:"88ig83",styles:"display:flex;padding-right:4px"};const h=(0,s.forwardRef)(((e,t)=>{let{date:n,isCalendarOpen:r,isDisabled:o,onClick:a,overrideIcon:s,setIsCalendarOpen:l}=e;return(0,y.tZ)("div",{className:(0,i.cx)("react-datepicker__input-custom",{"react-datepicker__input-custom-disabled":o,"react-datepicker__input-custom-focused":r})},(0,y.tZ)(u.FormattedDate,{day:"numeric",month:"short",value:n,year:"numeric"}),(0,y.tZ)("div",{css:v},(0,y.tZ)(d.sg,{color:o?p.Wt.Fg3:p.Wt.Fg1,type:null!=s?s:"Dropdown16"})),(0,y.tZ)("button",{ref:t,className:(0,i.cx)(f,{"react-datepicker__input-link-disabled":o}),onClick:()=>{r||a(),l(!r)},type:"button"}))}));function withinMinMaxDates(e){let{date:t,maxStartDate:n,minStartDate:r}=e;return!(r&&t<r||n&&t>n)}function DatePicker(e){let{date:t,disableESTWeekends:n,isDisabled:i,isNewLayout:l,maxStartDate:p,minStartDate:v,overrideIcon:_,setDate:b}=e;const[C,O]=s.useState(t.getMonth()),[S,E]=s.useState(t.getFullYear()),[P,Z]=s.useState(!1);return(0,y.tZ)(c(),{className:"field-calendar",customInput:(0,y.tZ)(h,{date:t,isCalendarOpen:P,isDisabled:i,overrideIcon:_,setIsCalendarOpen:Z}),dateFormat:"yyyy-MM-dd",dayClassName:e=>withinMinMaxDates({date:e,maxStartDate:p,minStartDate:v})?n&&!(0,m.wc)((0,a.utcToZonedTime)(e,m.iz))?"react-datepicker__day--fade":e.getMonth()!==C?"react-datepicker__day--hide":"":"react-datepicker__day--fade",disabled:i,onCalendarClose:()=>{O(t.getMonth()),E(t.getFullYear())},onChange:e=>{withinMinMaxDates({date:e,maxStartDate:p,minStartDate:v})&&b(e)},onClickOutside:e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.className)!==f&&Z(!1)},onMonthChange:e=>{O(e.getMonth()),E(e.getFullYear())},onSelect:()=>Z(!1),popperContainer:l?g.mh:void 0,popperPlacement:"bottom-end",renderCustomHeader:e=>{let{decreaseMonth:t,increaseMonth:n}=e;return(0,y.tZ)("div",{className:"react-datepicker__month-header-custom"},(0,y.tZ)("div",{className:"react-datepicker__month-title-custom"},(0,y.tZ)(u.FormattedDate,{month:"long",value:new Date(S,C),year:"numeric"})),(0,y.tZ)("div",{style:{flex:1}}),(0,y.tZ)("div",{className:"react-datepicker__month-nav-custom"},(0,y.tZ)("a",{onClick:t},r||(r=(0,y.tZ)(d.sg,{type:"CaretLeft16"}))),(0,y.tZ)("a",{onClick:n},o||(o=(0,y.tZ)(d.sg,{type:"CaretRight16"})))))},selected:t,showPopperArrow:!1,withPortal:!l&&void 0})}},59158:(e,t,n)=>{"use strict";n.d(t,{A:()=>DetailedInstrumentCard});n(27378);var r=n(94264),o=n(10043);function DetailedInstrumentCard(e){let{className:t,instrument:n,loggingContext:i,onInstrumentCardClick:a}=e;return(0,o.tZ)(r.u,{className:t,instrument:n,loggingContext:i,onClick:a})}},61308:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(73846);const o=(0,r.ZP)({resolved:{},chunkName:()=>"EmojiProvider-EmojiLazy",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,3865)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 3865}},{resolveComponent:e=>e.Emoji})},55706:(e,t,n)=>{"use strict";n.d(t,{x:()=>BackButton});n(27378);var r=n(22170),o=n(93284),i=n(10043);function BackButton(e){let{cancelReviewing:t,variant:n}=e;const a=(0,o.og)();return(0,i.tZ)(r.z,{label:a.formatMessage({defaultMessage:"Back",id:"FormControls.BackButton.backLabel",status:"legacy"}),onClick:t,type:"button",variant:n,width:"full"})}},15962:(e,t,n)=>{"use strict";n.d(t,{d:()=>IntegerInput});var r=n(25773),o=n(53782),i=(n(27378),n(22e3)),a=n(10043);const s=["format","isFocused","max","min","onChange","value"];function IntegerInput(e){let{format:t,isFocused:n,max:l,min:c,onChange:u,value:d}=e,p=(0,o.Z)(e,s);return(0,a.tZ)(i.o,(0,r.Z)({max:l,min:c},p,{format:t?e=>t(convertDecimal(e)):convertDecimal,isFocused:n,normalize:convertDecimal,onChange:e=>{u(null===e?null:convertDecimal(e))},value:null===d?d:d.toString()}))}function convertDecimal(e){return e.split(".")[0]}},25142:(e,t,n)=>{"use strict";n.d(t,{B:()=>LabeledField});var r=n(10043),o=(n(27378),n(50169)),i=n(58894);function LabeledField(e){let{className:t,cssId:n,label:a,value:s,valueColor:l}=e;return(0,r.tZ)(i.L,{className:t,css:(0,r.iv)({marginBottom:o.q3},""),cssId:n,subtitle:s,subtitleColor:l,title:a})}},93358:(e,t,n)=>{"use strict";n.d(t,{D:()=>MenuContent});var r=n(64900),o=n(27378),i=n(21675),a=n(51243),s=n(38978),l=n(64626),c=n(53428),u=n.n(c),d=n(10043);var p={name:"ti75j2",styles:"margin:0"};function MenuContent(e){let{onSelect:t,options:n,selectedValue:r,title:o}=e;return(0,d.tZ)("div",{className:u().menuContent},(0,d.tZ)("header",{className:u().menuHeading},(0,d.tZ)("h3",{css:p},(0,d.tZ)(i.Dy.Text,{isBold:!0,size:"M"},o))),(0,d.tZ)("div",{className:u().menuList,role:"listbox"},n.map((e=>(0,d.tZ)(MenuOption,{key:e.value,isActive:r===e.value,onSelect:t,option:e})))))}function MenuOption(e){var t;const{isActive:n,onSelect:c,option:p}=e,{caption:g,label:m,value:y}=p,f=o.useCallback((()=>c(y)),[c,y]),v=(0,r.cx)(u().menuOption,{[u().isActive]:n});return(0,d.tZ)(l.M,{"aria-selected":n?"true":"false",className:v,onClick:f,role:"option"},(0,d.tZ)("div",null,(0,d.tZ)("h4",{className:u().menuOptionHeading},(0,d.tZ)(a.tL,{isActive:n},(e=>{let{hoverableClassName:n}=e;return(0,d.tZ)("span",{className:n},t||(t=(0,d.tZ)(i.Dy.Text,{isBold:!0,size:"S"},m)))}))),(0,d.tZ)(i.Dy.Text,{color:s.Wt.Fg2,size:"S"},g)))}},15710:(e,t,n)=>{"use strict";n.d(t,{m:()=>NewFeatureIntroPopover});var r=n(64649),o=n(64900),i=n(27378),a=n(45817),s=n(44768),l=n(20670),c=n(84974),u=n(22903),d=n(49569),p=n(93284),g=n(50169),m=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y={popoverHeaderWrapper:(0,o.css)({name:"1eoy87d",styles:"display:flex;justify-content:space-between"})};function NewFeatureIntroPopover(e){let{dangerouslyEnforceZIndex:t,description:n,featureName:r,gap:o,placement:c,skidding:u=g.q3,targetRef:d,extraLoggingInfo:f,title:v}=e;const h=(0,p.og)(),[_,b]=(0,l.V)("has-seen-".concat(r,"-intro-popover"),!1),C=function useRerenderWhenTargetAvailable(e){const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{let r;function maybeForceRerender(){t||(e.current?n(!0):r=setTimeout(maybeForceRerender,25))}return maybeForceRerender(),()=>clearTimeout(r)}),[e,t]),!!e.current}(d),O=!_&&C,[S,E]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{O&&!S&&(E(!0),logEvent(!0,r,f))}),[O,r,f,S]),C?(0,m.tZ)(a.J,{dangerouslyEnforceZIndex:t,gap:o,id:"popover-".concat(r,"-intro"),isOpen:O,placement:c,skidding:u,targetEl:d.current},(0,m.tZ)("div",{className:y.popoverHeaderWrapper},(0,m.tZ)(a.J.Header,{title:v}),(0,m.tZ)(s.h,{"aria-label":h.formatMessage({defaultMessage:"Close intro popover",id:"NewFeatureIntroPopover.Close",owners:(0,p.IP)("eric.lovett@robinhood.com"),shipDate:(0,p.tC)("2023-01-31"),status:"pending"}),icon:"Close16",onClick:()=>{b(!0),logEvent(!1,r,f)},overrideRootStyles:{margin:"24px 24px 0 0"},type:"button"})),(0,m.tZ)(a.J.Body,{content:n})):null}function logEvent(e,t,n){u.c.logUserInteractionEvent(c.YB,_objectSpread(_objectSpread({},n),{},{component:_objectSpread(_objectSpread({},null==n?void 0:n.component),{},{component_type:d.t.event_logging.Component.ComponentType.TOOLTIP,identifier:"".concat(t,"-intro-popover")}),event_type:e?d.t.event_logging.UserInteractionEventData.EventType.APPEAR:d.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR}))}},16465:(e,t,n)=>{"use strict";n.d(t,{b:()=>DefaultPageLayout,w:()=>useDefaultPageLayoutHero});var r=n(19783),o=n.n(r),i=n(27378),a=n(51603),s=n(71744),l=n(95012),c=n(50169),u=n(10043);const d=i.createContext({hero:null,setHero:()=>null});function useDefaultPageLayoutHero(){const{hero:e,setHero:t}=(0,i.useContext)(d);return(0,i.useEffect)((()=>()=>{t(null)}),[t]),{hero:e,setHero:t}}var p={name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"};function _DefaultPageLayout(e){var t;let{children:n,includeBottomMargin:r=!0,includeLeftMargin:g=!0,isNewLayout:m=!1}=e;const{hero:y}=(0,i.useContext)(d),f=function useIsHeaderTransparent(e){let{isTransparent:t}=e;const[n,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(t){const e=(0,a.oW)(),t=o()((()=>{r(e.scrollY>0)}),250);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}return()=>{}}),[t]),t&&!n}({isTransparent:null!==(t=null==y?void 0:y.hasTransparentHeader)&&void 0!==t&&t});return(0,u.tZ)(s.WJ,null,(e=>{let{headerHeightClassName:t}=e;return(0,u.tZ)("div",{className:t,css:p},(0,u.tZ)(l.H,{foregroundColor:f&&y?"".concat(y.foregroundColor):void 0,isTransparent:f,logoColorOverride:null==y?void 0:y.logoColorOverride}),y&&y.component,(0,u.tZ)("div",{css:["display:flex;flex-grow:1;",g&&{marginLeft:"calc(100vw - 100%)",marginRight:0}]},(0,u.tZ)("div",{css:["display:flex;flex-direction:column;flex-grow:1;",!m&&{minWidth:c.$_+c.q3},r&&{marginBottom:64}]},n)))}))}function DefaultPageLayout(e){const[t,n]=(0,i.useState)(null),[r,o]=(0,i.useState)(null),a=i.useMemo((()=>({hero:t,logoColorOverride:r,setHero:n,setLogoColorOverride:o})),[t,r]);return(0,u.tZ)(d.Provider,{value:a},(0,u.tZ)(_DefaultPageLayout,e))}},5727:(e,t,n)=>{"use strict";n.d(t,{Q:()=>Z});var r,o,i,a=n(64900),s=n(27378),l=n(10959),c=n(38978),u=n(7447),d=n(74483),p=n(75976),g=n(30156),m=n(33175),y=n(4849),f=n(15710),v=n(16133),h=n(49569),_=n(93284),b=n(71744),C=n(95012),O=n(78501),S=n(16465),E=n(10043);const P={main:(0,a.css)({name:"h044v7",styles:"padding-left:12px"}),sidebar:(0,a.css)({"&::-webkit-scrollbar":{display:"none"},borderColor:c.ZV.neutral.bg3,borderStyle:"solid",borderWidth:"0 1px 0 0",flexGrow:1,height:"calc(100vh - ".concat(b.iO,")"),marginLeft:-12,[u.sd]:{borderLeftWidth:1},msOverflowStyle:"none",overflowY:"auto",padding:0,position:"sticky",scrollbarWidth:"none",top:b.iO},"")},Z=s.memo((function _PersistentSidebarLayout(e){var t,n,a;let{children:c}=e;const f=null===(t=(0,m.E)(g.V.webFutureMultitaskingQuickNav))||void 0===t?void 0:t.isMember(),_=(0,l.TH)(),Z=(0,y.n)(g.V.webFutureLayoutSDP),D="/"===_.pathname||_.pathname.startsWith("/options/")||_.pathname.startsWith("/crypto/")||Z&&_.pathname.startsWith("/stocks/"),T=(0,s.useRef)(null);return f?(0,E.tZ)(b.WJ,null,(e=>{let{headerHeightClassName:t}=e;return(0,E.tZ)("div",{className:t},r||(r=(0,E.tZ)(C.H,{includeSeparator:!0,isMultiTaskingMember:!0})),(0,E.tZ)(O._,{fallback:o||(o=(0,E.tZ)(v.v,null))},(0,E.tZ)(d.FH,null,(0,E.tZ)(u.pO,{maxLayoutSize:"LG",minLayoutSize:"LG"},(0,E.tZ)(u.W2,{className:P.sidebar,spanLG:"quarter"},n||(n=(0,E.tZ)(QuickNavIntroPopover,{targetRef:T})),(0,E.tZ)(p.j,{containerRef:T,screen:h.t.event_logging.Screen.Name.NAME_UNSPECIFIED,visualContainerType:"none"})),(0,E.tZ)(u.W2,{className:P.main,hasNestedContainers:!0,spanLG:"threeQuarter"},a||(a=(0,E.tZ)(O._,{fallback:i||(i=(0,E.tZ)(v.v,null))},c)))))))})):(0,E.tZ)(S.b,{includeBottomMargin:!D,isNewLayout:D},(0,E.tZ)(d.FH,null,c))}));function QuickNavIntroPopover(e){let{targetRef:t}=e;const n=(0,_.og)(),r=(0,d.Q$)(),o=(0,s.useMemo)((()=>({component_hierarchy:{parent_0:{component_type:h.t.event_logging.Component.ComponentType.SIDEBAR}},screen:{identifier:r.current.identifier,name:r.current.screen}})),[r,r.current.screen,r.current.identifier]);return(0,E.tZ)(f.m,{description:n.formatMessage({defaultMessage:"The sidebar is now available in more places, so you can quickly jump between your positions, lists, and recurring investments. Click the section headers to expand or collapse them.",id:"PersistentSidebarLayout.IntroPopover.Description",owners:(0,_.IP)("eric.lovett@robinhood.com"),shipDate:(0,_.tC)("2023-01-31"),status:"pending"}),extraLoggingInfo:o,featureName:"quick-nav",placement:"right-start",targetRef:t,title:n.formatMessage({defaultMessage:"New Feature: Quick Nav",id:"PersistentSidebarLayout.IntroPopover.Title",owners:(0,_.IP)("eric.lovett@robinhood.com"),shipDate:(0,_.tC)("2023-01-31"),status:"pending"})})}},20839:(e,t,n)=>{"use strict";n.d(t,{Q:()=>PercentageIntegerInput,V:()=>handlePercentageInputKeyDown});var r=n(25773),o=n(53782),i=(n(27378),n(15962)),a=n(51603),s=n(10043);const l=["className","disabled","id","isFocused","max","min","onChange","placeholder","textAlign","value"],addPercentage=e=>"".concat(e,"%");function handlePercentageInputKeyDown(e){if(e.target.value&&e.target.selectionEnd===e.target.value.length&&e.target.selectionEnd===e.target.selectionStart&&("Backspace"===e.key||"Delete"===e.key)){const{CustomEvent:t}=(0,a.oW)(),n=e.target,r=n.value,o=addPercentage(e.target.value.substring(0,e.target.value.length-2));n.value=o;const i=new t("input",{bubbles:!0}),s=n._valueTracker;s&&s.setValue(r),n.dispatchEvent(i)}}function PercentageIntegerInput(e){let{className:t,disabled:n,id:a,isFocused:c,max:u,min:d,onChange:p,placeholder:g,textAlign:m,value:y}=e,f=(0,o.Z)(e,l);return(0,s.tZ)(i.d,(0,r.Z)({className:t,"data-lpignore":"true",disabled:n,format:addPercentage,id:a,isFocused:c,max:u,min:d,onChange:p,onKeyDown:handlePercentageInputKeyDown,placeholder:g,textAlign:m,type:"text",value:y},f))}},79946:(e,t,n)=>{"use strict";n.d(t,{D:()=>Pill});var r=n(25773),o=n(53782),i=n(64900),a=n(27378),s=n(21675),l=n(38978),c=n(97224),u=n(51243),d=n(64367),p=n(50169),g=n(10043);const m=["children","className","icon","isActive","isClickable","testId","to"];var y={name:"15hw1j0",styles:"& > *{height:12px;width:12px;}display:flex;margin:0 4px 0 0"};function Pill(e){let{children:t,className:n,icon:f,isActive:v,isClickable:h,testId:_,to:b}=e,C=(0,o.Z)(e,m);const O=null!=h?h:null!=b||null!=C.onClick,S=O&&void 0===v,E=(0,g.tZ)(a.Fragment,null,Boolean(f)&&(0,g.tZ)("div",{css:y},f),(0,g.tZ)(s.Dy.Text,{color:l.bl.Lightest,isBold:!0,size:"S"},t)),P=(0,c.CG)(),Z=(0,c.SO)(),D=[{alignItems:"center",backgroundColor:P.lightest,borderRadius:p.GS,display:"inline-flex",fill:Z,height:p.JZ,overflow:"hidden",padding:"0 12px 1px"},(null!=O?O:null!=b||null!=C.onClick)&&{cursor:"pointer"}];return(0,g.tZ)(u.FC,{isActive:v},(e=>{let{hoverableClassName:t}=e;const o=(0,i.cx)(n,{[t]:!!b||S||v});return b?(0,g.tZ)(d.n,(0,r.Z)({className:o,css:D,"data-testid":_,to:b},C),E):(0,g.tZ)("span",(0,r.Z)({className:o,css:D},C,{"data-testid":_}),E)}))}},41153:(e,t,n)=>{"use strict";n.d(t,{t:()=>DefaultPopover,J:()=>Popover});var r=n(53782),o=n(64900),i=n(27378),a=n(75790),s=n(82327),l=n(10043);function Popover(e){let{children:t,className:n,dangerouslyUseLegacyZIndex:r,gap:o=4,hidesOnScroll:a,onToggle:c,placement:u="bottom-centered",topOffset:d,trigger:p,triggerRef:g,visible:m}=e;const[y,f]=(0,i.useState)(!!m),v=void 0===m?y:m;return(0,l.tZ)(s.E,{dangerouslyEnforceZIndex:r?1e5:void 0,gap:o,hidesOnScroll:a,isVisible:v,onToggle:()=>{c&&c(!v),f((e=>!e))},placement:u,topOffset:d,trigger:p,triggerRef:g},(0,l.tZ)("div",{className:n},t))}var c=n(27259),u=n.n(c);const d=["children"];function DefaultPopover(e){let{children:t}=e,n=(0,r.Z)(e,d);return(0,l.tZ)(Popover,n,(0,l.tZ)(a.Z,{className:(0,o.cx)(u().popover,n.className)},t))}},66808:(e,t,n)=>{"use strict";n.d(t,{w:()=>QuestionMarkTooltip});var r=n(64649),o=(n(27378),n(38978)),i=n(35002),a=n(41153),s=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"zjik7",styles:"display:flex"},c={name:"8eh2pe",styles:"cursor:pointer;display:inline-flex;margin-left:4px"};function QuestionMarkTooltip(e){let{className:t,content:n,iconColorToken:r=o.E1.Primary,marginTop:u,placement:d,popoverOverrideStyles:p,trigger:g,width:m}=e;return(0,s.tZ)("div",{className:t,css:l},(0,s.tZ)("span",{css:c},(0,s.tZ)(i.sg,{color:r,type:"Question16"})),(0,s.tZ)(a.t,{css:[_objectSpread(_objectSpread({},m?{width:m}:{}),u?{marginTop:u}:{}),p,""],dangerouslyUseLegacyZIndex:!0,placement:d,trigger:g},n))}},90731:(e,t,n)=>{"use strict";n.d(t,{b:()=>getRemoteDisclosureApplink});var r=n(8139),o=n.n(r);function getRemoteDisclosureApplink(e,t){const n=o().stringify(t?{id:e,web_component:t}:{id:e}),r=o().stringify({applink:"remote_disclosure?".concat(n)});return"?".concat(r)}},68814:(e,t,n)=>{"use strict";n.d(t,{e:()=>MAXSplitViewLayout});var r=n(10043),o=n(64649),i=n(48984),a=n.n(i),s=n(27378),l=n(38978),c=n(97224),u=n(84136),d=n(90431),p=n(50169);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g={name:"82ozkf",styles:"> *{text-align:center;width:100%;}button{width:100%;}width:100%"},m={footer:e=>(0,r.iv)({background:l.ZV.neutral.bg1,bottom:0,gridColumn:e?"2 / 3":"1 / 3",gridRow:"2 / 3",["@media (max-width: ".concat(p.Gh,"px)")]:{borderTop:"1px solid ".concat(l.ZV.neutral.fg1),gridColumn:"1 / -1",gridRow:"auto",position:"fixed",width:"100%"}},""),footerCTA:(0,r.iv)({display:"flex",flexDirection:"row",gap:12,["@media (max-width: ".concat(p.Gh,"px)")]:{flexDirection:"column",width:"100%"}},""),footerContainer:(0,r.iv)({alignItems:"center",display:"flex",justifyContent:"space-between",padding:"36px 24px",["@media (max-width: ".concat(p.Gh,"px)")]:{flexDirection:"column",gap:16,justifyContent:"flex-start",padding:24}},""),logo:(0,r.iv)({marginBottom:80,marginTop:40,opacity:.6,["@media (max-width: ".concat(p.Gh,"px)")]:{display:"none"}},""),main:(e,t,n)=>(0,r.iv)({background:e,gridColumn:t?"2 / 3":"1 / 3",gridRow:"1 / 2",["@media (max-width: ".concat(p.Gh,"px)")]:{gridColumn:"1 / -1",gridRow:"auto",padding:"24px 24px ".concat(n?192:128,"px 24px")},["@media (min-width: ".concat(p.Gh,"px)")]:{"@media (max-height: 700px)":{paddingTop:64},overflowY:"auto"},padding:"".concat(t?"160px":"0"," 64px 48px 64px")},""),page:(0,r.iv)({display:"grid",gridTemplateColumns:"repeat(2, 50%)",gridTemplateRows:"1fr max-content",height:"100vh",left:0,position:"absolute",width:"100%",["@media (max-width: ".concat(p.Gh,"px)")]:{gridTemplateColumns:"100%",gridTemplateRows:"max-content"}},""),primaryCTA:(0,r.iv)(_objectSpread(_objectSpread({},g),{},{["@media (max-width: ".concat(p.Gh,"px)")]:{order:0}}),""),secondaryCTA:(0,r.iv)(_objectSpread(_objectSpread({},g),{},{["@media (max-width: ".concat(p.Gh,"px)")]:{order:1}}),""),sidebar:e=>(0,r.iv)({background:e,display:"flex",flexDirection:"column",gridColumn:"1 / 2",gridRow:"1 / 3",overflow:"hidden",padding:"0 64px 36px",["@media (min-width: ".concat(p.Gh,"px)")]:{borderRight:"1px solid ".concat(l.ZV.neutral.fg1)},["@media (max-width: ".concat(p.Gh,"px)")]:{borderBottom:"1px solid ".concat(l.ZV.neutral.fg1),gridColumn:"1 / -1",gridRow:"auto",padding:"40px 24px"},position:"relative"},"")};function SplitViewProgress(e){const{fg1:t}=(0,c.uI)(),n=a()(e.progress,0,100);return(0,s.useEffect)((()=>{n!==e.progress&&(0,d.e)(new Error("[MAXSplitView] Invalid progress value '".concat(e.progress,"', expected a value from 0-100 (inclusive)")))}),[n,e.progress]),(0,r.tZ)(s.Fragment,null,(0,r.tZ)("div",{css:(0,r.iv)({backgroundColor:t,height:4,width:"".concat(n,"%")},"")}),(0,r.tZ)("div",{css:(0,r.iv)({backgroundColor:t,height:1,width:"100%"},"")}))}function MAXSplitViewLayout(e){let{footerContainerCSS:t,hideNavigation:n,logo:o,logoCSS:i,main:a,mainCSS:s,navigation:l,pageCSS:d,sidebar:p,sidebarCSS:g}=e;const{bg1:y}=(0,c.uI)(),f=Boolean(p),v=Boolean(null==l?void 0:l.secondaryCTA);return(0,r.tZ)(u.P,null,(e=>{var c,u;let{rootClassName:h}=e;return(0,r.tZ)("div",{className:h,css:[m.page,d,""]},p&&(0,r.tZ)("header",{css:[m.sidebar(null!==(c=p.background)&&void 0!==c?c:y),g,""]},o&&(0,r.tZ)("div",{css:[m.logo,i,""]},o),p.content),a&&(0,r.tZ)("main",{css:[m.main(null!==(u=a.background)&&void 0!==u?u:y,f,v),s,""]},!p&&o&&(0,r.tZ)("div",{css:[m.logo,i,""]},o),a.content),!n&&l&&(0,r.tZ)("footer",{css:m.footer(f)},null!=(null==l?void 0:l.progress)?(0,r.tZ)(SplitViewProgress,{progress:l.progress}):null,(0,r.tZ)("div",{css:[m.footerContainer,t,""]},(0,r.tZ)("div",null,null==l?void 0:l.backButton),(0,r.tZ)("div",{css:m.footerCTA},l.secondaryCTA&&(0,r.tZ)("div",{css:m.secondaryCTA},l.secondaryCTA),(0,r.tZ)("div",{css:m.primaryCTA},l.primaryCTA)))))}))}var y={name:"arjouw",styles:"flex-grow:10"};MAXSplitViewLayout.Section=function Section(e){let{children:t,footer:n,header:o,hideGap:i,inlineCTA:a}=e;return(0,r.tZ)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",gap:i?0:48,height:"100%"},"")},o&&(0,r.tZ)("div",null,o),(t||n)&&(0,r.tZ)("div",{css:y},t),n&&(0,r.tZ)("div",null,n),a&&(0,r.tZ)("div",null,a))}},5506:(e,t,n)=>{"use strict";n.d(t,{gm:()=>D,Fh:()=>SupportIssuesProvider});var r=n(27378),o=n(10959),i=n(20549),a=n(21274),s=n(85123),l=n(85945),c=n(52481),u=n(10974),d=n(90431),p=n(62865),g=n(6336),m=n(84974),y=n(22903),f=n(42592),v=n(49569),h=n(93284),_=n(12633),b=n(21581),C=n(99443),O=n(90051),S=n(40135),E=n(10043);const P={wordContainer:{name:"1r5gb7q",styles:"display:inline-block"}};function TickerLine(e){let{delay:t,label:n,lineTransitionDelay:r=100,replaceAllWords:o=!1}=e;const{updateTransition:i,words:a}=(0,S.C)(n,r,o);return(0,E.tZ)("div",null,(0,E.tZ)(b.Z,null,a.map(((e,n)=>(0,E.tZ)(C.default,{key:e.id,onExited:()=>i(e.id),timeout:{enter:0,exit:t}},(r=>{const o=0===n?e.label:" ".concat(e.label),a="entered"===r?o:"",s="".concat(a.trim(),"-").concat(e.key);return(0,E.tZ)("div",{css:P.wordContainer},(0,E.tZ)(O.v,{delay:t,onTransitionComplete:()=>i(e.id)},(0,E.tZ)("div",{key:s},a)))}))))))}const Z={container:{name:"1h3p6ip",styles:"padding-bottom:8px;padding-top:8px"}};function SupportIssuesBannerContent(e){let{replaceAllWords:t,value:n}=e;return n?null===n.attributes||0===n.attributes.length?(0,E.tZ)("div",{css:Z.container},(0,E.tZ)(TickerLine,{delay:500,label:n.text,lineTransitionDelay:150,replaceAllWords:t})):(0,E.tZ)(l.H,{value:n}):null}const D=(0,r.createContext)({pauseUpdates:()=>{},resumeUpdates:()=>{}});function SupportIssuesProvider(e){var t,n;let{children:b,isLoggedIn:C}=e;const O=C&&!(0,g.IL)(),[S,P]=(0,r.useState)(null!=O&&O),{hideBanner:Z,isBannerShowing:T,showBanner:w}=(0,c.c5)(),{addToast:I}=(0,i.pm)(),k=(0,h.og)(),x=(0,o.k6)(),[,R]=(0,_.Db)(a.p.cancelIssueRequest),M=null===(t=(0,_.tT)({disabled:!S,many:!0,model:s.k,params:{active_only:"True"}}).result)||void 0===t||null===(n=t.get(0))||void 0===n?void 0:n.id,L=(0,_.tT)({disabled:!M,model:a.p,params:{id:M}}),A=(0,u.D)(L),F={label:k.formatMessage({defaultMessage:"View Call Status",id:"supportIssues.persistentBanner.viewCallStatus",status:"legacy"}),onClick:()=>{var e;!function logViewStatusClick(e){y.c.logTapEvent(m.YB,{action:v.t.event_logging.UserInteractionEventData.Action.VIEW_CX_CALL_STATUS,component:{component_type:v.t.event_logging.Component.ComponentType.CX_CALL_STATUS_BANNER},context:{cx_issue:{cx_call_status:null!=e&&e.channel_status?(0,f.iW)(e.channel_status):v.t.event_logging.CXIssue.CallStatus.CALL_STATUS_UNSPECIFIED,inquiry_id:null==e?void 0:e.inquiry_id}}})}(L.result),x.push("/contact/voice/status?issue_id=".concat(null===(e=L.result)||void 0===e?void 0:e.id))},type:"button"};return(0,r.useEffect)((()=>{var e,t;L.result&&(function shouldShowBanner(e){let{currentIssue:t,isBannerShowing:n,previousIssue:r,shouldUpdateStatus:o}=e;if(!t||!t.banner||!o)return!1;const i=!r||r.channel_status!==t.channel_status;let a=!1;if(null!=r&&r.position_in_line&&null!=t&&t.banner_positions&&null!=t&&t.position_in_line){const e=r.position_in_line,n=t.position_in_line;a=t.banner_positions.some((t=>t<e&&t>=n))}if(i||a)return!0;return n&&"waiting"===t.channel_status&&(null==r?void 0:r.position_in_line)!==(null==t?void 0:t.position_in_line)}({currentIssue:null==L?void 0:L.result,isBannerShowing:T,previousIssue:null==A?void 0:A.result,shouldUpdateStatus:S})&&w((0,E.tZ)(SupportIssuesBannerContent,{replaceAllWords:"waiting"!==(null===(e=L.result)||void 0===e?void 0:e.channel_status),value:null===(t=L.result.banner)||void 0===t?void 0:t.title}),{action:F,onDismiss:()=>{var e;"missed"===(null===(e=L.result)||void 0===e?void 0:e.channel_status)&&R(L.result.id).then((()=>(0,p.HU)("track","cx-missed-call-requeue-dismiss"))).catch(d.e),function logDismissClick(e){y.c.logTapEvent(m.YB,{action:v.t.event_logging.UserInteractionEventData.Action.DISMISS,component:{component_type:v.t.event_logging.Component.ComponentType.CX_CALL_STATUS_BANNER},context:{cx_issue:{cx_call_status:null!=e&&e.channel_status?(0,f.iW)(e.channel_status):v.t.event_logging.CXIssue.CallStatus.CALL_STATUS_UNSPECIFIED,inquiry_id:null==e?void 0:e.inquiry_id}}})}(L.result)}}))}),[R,L,T,A,S,w,F]),(0,r.useEffect)((()=>{(function shouldHideBanner(e,t){return!e||!e.banner||"cancelled"===e.channel_status||"completed"===e.channel_status||!t})(null==L?void 0:L.result,S)&&Z()}),[L,Z,S]),(0,r.useEffect)((()=>{var e,t;L.result&&(function shouldShowToast(e){let{currentIssue:t,previousIssue:n,shouldUpdateStatus:r}=e;if(!t||!n)return!1;return"assigned"===t.channel_status&&(!n||"waiting"===n.channel_status)&&t.toast&&r}({currentIssue:L.result,previousIssue:null==A?void 0:A.result,shouldUpdateStatus:S})&&(I((0,E.tZ)("span",{role:"alert"},(null===(e=L.result.toast)||void 0===e?void 0:e.display_description)&&(0,E.tZ)(l.H,{value:null===(t=L.result.toast)||void 0===t?void 0:t.display_description})),{action:F,variant:"success"}),function logToastAppear(e){y.c.logAppearEvent(m.YB,{component:{component_type:v.t.event_logging.Component.ComponentType.CX_CALL_ASSIGNED_TOAST},context:{cx_issue:{inquiry_id:e.inquiry_id}}})}(L.result)))}),[I,L,A,S,F]),(0,E.tZ)(D.Provider,{value:{pauseUpdates:()=>P(!1),resumeUpdates:()=>P(!0)}},b)}},11397:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(25773),o=n(53782),i=n(27378),a=n(55649),s=n(50029),l=n(10043);const c=["loggingInfo","overrideRootStyles","protoLoggingInfo"],u=(0,i.forwardRef)(((e,t)=>{let{loggingInfo:n,overrideRootStyles:u,protoLoggingInfo:d}=e,p=(0,o.Z)(e,c);const g=(0,l.tZ)("button",(0,r.Z)({ref:t,css:[{WebkitAppearance:"none",background:"none",border:"0",color:"unset",cursor:p.disabled?"not-allowed":"pointer",font:"inherit",padding:"0"},u,""],type:"button"},p));return n?(0,l.tZ)(a._,{info:n,render:e=>{let{onClick:t}=e;return i.cloneElement(g,{onClick:e=>{p.onClick&&p.onClick(e),t()}})}}):d?(0,l.tZ)(s.m,{info:d,render:e=>{let{onClick:t}=e;return i.cloneElement(g,{onClick:e=>{p.onClick&&p.onClick(e),t()}})}}):g}))},8340:(e,t,n)=>{"use strict";n.d(t,{D:()=>useFocusStyle});var r=n(39e3),o=n.n(r),i=n(27378),a=n(51603);function useFocusStyle(){(0,i.useEffect)((()=>{const e=(0,a.oW)().document.body;function mousedownListener(){e.classList.add("no-focus-outline")}function keydownListener(t){"tab"===o()(t.keyCode)&&e.classList.remove("no-focus-outline"),setTimeout((()=>{document.activeElement!==e&&e.classList.remove("no-focus-outline")}))}return null==e||e.addEventListener("mousedown",mousedownListener),null==e||e.addEventListener("keydown",keydownListener),()=>{null==e||e.removeEventListener("mousedown",mousedownListener),null==e||e.removeEventListener("keydown",keydownListener)}}),[])}},51922:(e,t,n)=>{"use strict";n.d(t,{E:()=>useRegion});var r=n(27378),o=n(28048);function useRegion(){const[e,t]=r.useState(void 0),[n,i]=r.useState(void 0);return r.useEffect((()=>{const e=o.yp.getRegion();void 0===e?o.wf.once("initialized",(()=>{t(o.yp.getRegion())})):t(e)}),[]),r.useEffect((()=>{const e=o.yp.getGeoIPRegion();void 0===e?o.wf.once("initialized",(()=>{i(o.yp.getGeoIPRegion())})):i(e)}),[]),{geoIPRegion:n,region:e}}},99788:(e,t,n)=>{"use strict";n.d(t,{z:()=>useRouterState});var r=n(64649),o=n(53782),i=n(27378),a=n(10959);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function useRouterState(e,t){const n=(0,a.k6)(),{pathname:r,search:s,state:l}=(0,a.TH)(),c=(0,i.useCallback)((t=>{const i=l||{},{[e]:a}=i,c=_objectSpread(_objectSpread({},(0,o.Z)(i,[e].map(_toPropertyKey))),{},{[e]:_objectSpread(_objectSpread({},a||{}),t)});n.replace(r+s,c)}),[n,e,r,s,l]),u=l?l[e]:{};return[_objectSpread(_objectSpread({},t),u),c]}},48406:(e,t,n)=>{"use strict";let r;n.d(t,{w:()=>r}),function(e){e.NavigatedToOptionChainDetail="NavigatedToOptionChainDetail",e.AllVisibleOptionInstrumentCellsWithQuotesRendered="AllVisibleOptionInstrumentCellsWithQuotesRendered",e.OptionChainContractTypeChanged="OptionChainContractTypeChanged",e.OptionChainOrderSideChanged="OptionChainOrderSideChanged",e.OptionChainExpDateChanged="OptionChainExpDateChanged",e.OptionChainSelectedContract="OptionChainSelectedContract",e.OptionChainContractAppearsInOrderForm="OptionChainContractAppearsInOrderForm",e.OptionOrderFormReviewingStarted="OptionOrderFormReviewingStarted",e.OptionOrderFormReviewingEnded="OptionOrderFormReviewingEnded",e.OptionOrderFormSubmittingStarted="OptionOrderFormSubmittingStarted",e.OptionOrderFormSubmittingEnded="OptionOrderFormSubmittingEnded",e.OptionPLChartRenderingStart="OptionPLChartRenderingStart",e.OptionPLChartRenderingEnded="OptionPLChartRenderingEnded",e.OptionWatchlistHubTableRenderingStart="OptionWatchlistHubTableRenderingStart",e.OptionWatchlistHubTableRenderingEnd="OptionWatchlistHubTableRenderingEnd",e.OptionWatchlistHubTableSortingStart="OptionWatchlistHubTableSortingStart",e.OptionWatchlistHubTableSortingEnd="OptionWatchlistHubTableSortingEnd",e.NavigatedToOptionStrategyChainDetail="NavigatedToOptionStrategyChainDetail",e.OptionsStrategiesTableLoaded="OptionsStrategiesTableLoaded",e.OptionsStrategiesChainNearFilterClicked="OptionsStrategiesChainNearFilterClicked",e.OptionsStrategiesChainFarFilterClicked="OptionsStrategiesChainFarFilterClicked",e.OptionsStrategiesChainSpreadWidthFilterClicked="OptionsStrategiesChainSpreadWidthFilterClicked",e.OptionsStrategiesChainStrikeFilterClicked="OptionsStrategiesChainStrikeFilterClicked"}(r||(r={}))},24471:(e,t,n)=>{"use strict";n.d(t,{r:()=>GoldTextButton});var r=n(25773),o=(n(27378),n(47789)),i=n(61096),a=n(6018),s=n(10043);function GoldTextButton(e){const t=(0,a.V)();return(0,s.tZ)(i.A,(0,r.Z)({},e,{color:t?o.h2.Jet:o.h2.SolLight}))}},45726:(e,t,n)=>{"use strict";n.d(t,{F:()=>useCanUpgradeToGold});var r=n(24498),o=n(67527);function useCanUpgradeToGold(){const e=(0,r.DV)();if(e.loading)return e;if(e.error||!e.result)return(0,o.gM)(!1);const t=e.result.activeAccount;return t?(0,o.gM)(!t.isRestrictedFromUpgradingToGold&&!t.isGold):(0,o.gM)(!1)}},13807:(e,t,n)=>{"use strict";n.d(t,{E:()=>InboxAvatar_InboxAvatar});var r=n(64900),o=(n(27378),n(97224)),i=n(21675),a=n(47789),s=n(10556),l=n(10043);const c=(()=>{const e=n(27378),t=e.lazy((()=>n.e(22205).then(n.t.bind(n,21977,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),styles_icon=(e,t)=>(0,l.iv)({circle:{fill:t,stroke:e},strokeWidth:2,text:{fill:e,strokeWidth:2,userSelect:"none"}},"");function InboxAlertIcon(e){let{className:t}=e;const{bg1:n}=(0,o.uI)(),{error:r}=(0,o.fc)();return(0,l.tZ)(c,{className:t,css:styles_icon(n,r.base),"data-testid":"alert-icon"})}var u=n(519),d=n.n(u);function InboxAvatar_InboxAvatar(e){let{color:t,fallbackText:n,shouldShowAlert:c,size:u,url:p}=e;const g=!!p,m=(0,r.cx)(d().inboxAvatar,d()[u],{[d().hasImage]:g}),y=(0,o.VD)((0,s.WE)().stockUpColor),f="#21ce99"===(null==t?void 0:t.toLowerCase())?y:t;return(0,l.tZ)("div",{className:m},!!t&&(0,l.tZ)("div",{className:d().colorCircle,style:{backgroundColor:f}}),(0,l.tZ)("div",{className:d().content,style:p?{backgroundImage:"url(".concat(p,")")}:void 0},!p&&(0,l.tZ)(i.Dy.Text,{color:a.h2.Nova,isBold:!0,size:"S"},n)),c&&(0,l.tZ)(InboxAlertIcon,{className:(0,r.cx)(d().alertIcon,d().alertIconBounceIn)}))}Object.freeze({md:48,sm:32})},88883:(e,t,n)=>{"use strict";n.d(t,{V:()=>InboxThread_InboxThread});n(27378);var r=n(21675),o=n(25718),i=n(13807),a=n(10043);function InboxThreadAvatar(e){let{thread:t}=e;return(0,a.tZ)(i.E,{color:t.avatarColor,fallbackText:t.shortDisplayName,shouldShowAlert:t.isCritical,size:"md",url:t.avatarUrl})}var s=n(16480),l=n.n(s);function InboxThread_InboxThread(e){let{thread:t}=e;const n=t.messages,i=t.isRead,s=n.get(0),c=s&&(0,a.tZ)(o.nX,{format:"short",value:s.createdAt}),u=s&&(0,a.tZ)("div",{className:l().overflowTextWrapper},s.richText.text);return(0,a.tZ)("div",{className:l().inboxThread},(0,a.tZ)("div",{className:l().avatarWrapper},(0,a.tZ)(InboxThreadAvatar,{thread:t})),(0,a.tZ)("div",{className:l().body},(0,a.tZ)("header",{className:l().bodyHeader},(0,a.tZ)("h4",{className:l().title},(0,a.tZ)(r.Dy.Text,{isBold:!0,size:"S"},(0,a.tZ)("span",{className:l().overflowTextWrapper},t.displayName))),c&&(0,a.tZ)("div",{className:l().timeAgo},i?(0,a.tZ)(r.Dy.Text,{size:"S"},c):(0,a.tZ)(r.Dy.Text,{isBold:!0,size:"S"},c))),u&&(0,a.tZ)("div",{className:l().preview},i?(0,a.tZ)(r.Dy.Text,{size:"S"},u):(0,a.tZ)(r.Dy.Text,{isBold:!0,size:"S"},u))))}},14381:(e,t,n)=>{"use strict";n.d(t,{S:()=>CreateListCell});var r=n(10043),o=n(64900),i=n(27378),a=n(38978),s=n(61782),l=n(22170),c=n(51603),u=n(17289),d=n(15956),p=n(93284),g=n(15238),m=n(50169),y=n(2256),f=n(6500);const v="rh-emoji-popover-element-class",h={contentFormBorder:(0,o.css)({borderBottomColor:a.ZV.neutral.bg3,borderBottomStyle:"solid",borderBottomWidth:1},""),contentFormSizeMd:(0,o.css)({padding:"".concat(m.hc,"px ").concat(m.bT,"px ").concat(m.hc,"px ").concat(m.bT-6,"px")},"")};var _={name:"skgbeu",styles:"display:flex;justify-content:flex-end"};function CreateListCell(e){let{createButtonEl:t,emojiPopoverPlacement:n,includeAccordion:a=!0,includeBottomBorder:b,isOpen:C,onCancel:O,onCreateList:S,size:E="md",useStylesForModal:P}=e;const Z=(0,p.og)(),D=(0,i.useRef)(null),T=(0,i.useRef)(null),[w,I]=(0,i.useState)(""),[k,x]=(0,i.useState)((()=>getInitialEmoji())),[R,M]=(0,i.useState)(null),[L,A]=(0,i.useState)(!1),F=(0,u.Q2)();!function useCancelListenerEffect(e){let{createButtonEl:t,isOpen:n,onCancel:r,rootEl:o}=e;(0,i.useEffect)((()=>{if(!n)return()=>{};const e=(0,c.oW)(),handleEscKeydown=e=>{"Escape"!==e.key&&"Esc"!==e.key||r()},handleWindowClick=e=>{!o||!t||o.contains(e.target)||t.contains(e.target)||e.target.closest(".".concat(v))||r()};return e.addEventListener("keydown",handleEscKeydown),e.addEventListener("click",handleWindowClick),()=>{e.removeEventListener("keydown",handleEscKeydown),e.removeEventListener("click",handleWindowClick)}}),[t,r,o,n])}({createButtonEl:t,isOpen:C,onCancel:O,rootEl:D.current}),function useFormResetEffect(e){let{includeAccordion:t,inputEl:n,isOpen:r,setEmoji:o,setError:a,setName:s}=e;(0,i.useEffect)((()=>{if(!r)return void a(null);s(""),o(getInitialEmoji()),a(null);n&&setTimeout((()=>{n.focus()}),t?400:100)}),[r])}({includeAccordion:a,inputEl:T.current,isOpen:C,setEmoji:x,setError:M,setName:I});const N=(0,r.tZ)("form",{ref:D,className:(0,o.cx)(b&&h.contentFormBorder,"md"===E&&h.contentFormSizeMd,P&&(0,o.css)({name:"1e1ncky",styles:"border:none"})),onSubmit:async e=>{let t;e.preventDefault(),M(null),A(!0);try{(0,d.r)(w),t=await F.createList({displayName:w,iconEmoji:k})}catch(e){return M(e),void A(!1)}A(!1),S(t)}},(0,r.tZ)("div",{css:(0,r.iv)({alignItems:"center",display:"flex",marginBottom:"".concat(m.hc,"px")},"")},(0,r.tZ)(y.U,{emoji:k,emojiPopoverClassName:v,onSelect:e=>{x(e)},popoverPlacement:n,size:E}),(0,r.tZ)("div",{css:(0,r.iv)({flexGrow:1,marginLeft:"".concat(m.hc,"px")},"")},(0,r.tZ)(f.w,{ref:T,error:R,isSubmitting:L,onChange:e=>{M(null),I(e)},size:"md"===E?"default":"large",value:w}))),(0,r.tZ)("footer",{css:_},(0,r.tZ)("div",{css:(0,r.iv)({marginRight:"".concat(m.hc,"px")},"")},(0,r.tZ)(l.z,{"data-testid":g.c.ListCreateListCancelButton,label:Z.formatMessage({defaultMessage:"Cancel",id:"Lists.CreateListCell.CreateButton.label",status:"legacy"}),loggingInfo:{button_group_title:"new_list",button_title:"cancel"},onClick:()=>O(),size:"compact",state:L&&"loading",type:"button",variant:"secondary"})),(0,r.tZ)(l.z,{"data-testid":g.c.ListCreateListSubmitButton,label:Z.formatMessage({defaultMessage:"Create List",id:"Lists.CreateListCell.CreateButton.label",status:"legacy"}),loggingInfo:{button_group_title:"new_list",button_title:"create"},size:"compact",state:L&&"loading",type:"submit"})));return a?(0,r.tZ)(s.UQ,{duration:300,isOpen:C},N):N}function getInitialEmoji(){return"💡"}},14368:(e,t,n)=>{"use strict";n.d(t,{D:()=>DeleteListModal});var r=n(10043),o=n(27378),i=n(10959),a=n(20549),s=n(5310),l=n(38978),c=n(7467),u=n(21675),d=n(90956),p=n(22170),g=n(91349),m=n(17289),y=n(93284),f=n(15238),v=n(50169);function DeleteListModal(e){var t,n;let{list:h,onClose:_}=e;const b=(0,y.og)(),C=(0,i.k6)(),{addToast:O}=(0,a.pm)(),[S,E]=(0,o.useState)(!1),[P,Z]=(0,o.useState)(null),D=(0,m.Q2)(),T=null!==(t=(0,g.vB)().sections)&&void 0!==t&&t.some((e=>"lists_sidebar_section"===e.name||"sidebar_section"===e.name))?"sidebar_list":"list_detail";return(0,r.tZ)(s.p,{color:l.E1.Scary},(e=>{let{rootClassName:t}=e;return(0,r.tZ)("div",{className:t},(0,r.tZ)(c.u.LegacyAdapter,{onClose:_,title:b.formatMessage({defaultMessage:"Are you sure you want to delete “{name}”?",id:"Lists.ListPageHeader.DeleteListModal.title",status:"legacy"},{name:h.display_name}),variant:"medium"},(0,r.tZ)("div",{css:(0,r.iv)({marginBottom:"".concat(2*v.q3,"px")},"")},(0,r.tZ)(u.Dy.Text,{size:"S"},(0,r.tZ)(y.DH,{defaultMessage:"If you delete this list and its {numItems, number} {numItems, plural,\n                one {item}\n                other {items}\n              }, it’ll be gone forever!",id:"Lists.ListPageHeader.DeleteListModal.warning",status:"legacy",values:{numItems:h.item_count}}))),P&&(0,r.tZ)("div",{className:"error",css:(0,r.iv)({marginBottom:"".concat(v.q3,"px")},"")},(0,d.oN)(P)),(0,r.tZ)(p.z,{"data-testid":f.c.ListsDeleteListModalConfirmButton,label:b.formatMessage({defaultMessage:"Delete {name}",id:"Lists.ListPageHeader.DeleteListModal.deleteButtonLabel",status:"legacy"},{name:h.display_name}),loggingInfo:{button_group_title:T,button_title:"list_delete_confirm",entity_id:h.id,entity_type:h.display_name},onClick:async()=>{Z(null),E(!0);try{if(!h.id)return;await D.deleteList({id:h.id});C.location.pathname.includes(h.id)&&C.replace("/"),O(n||(n=(0,r.tZ)(ToastContent,{list:h})),{variant:"success"}),E(!1),_()}catch(e){Z(e),E(!1)}},state:S&&"loading",type:"button",width:"full"})))}))}function ToastContent(e){let{list:t}=e;return(0,r.tZ)("span",{"data-testid":f.c.ListsDeleteListToastCopy},(0,r.tZ)(u.Dy.Text,{size:"S"},(0,r.tZ)(y.DH,{defaultMessage:"Successfully deleted {name}",id:"Lists.ListPageHeader.DeleteListModal.deletedSuccessfully",status:"legacy",values:{name:(0,r.tZ)(u.Dy.Text,{isBold:!0,size:"S"},t.display_name)}})))}},52546:(e,t,n)=>{"use strict";n.d(t,{C:()=>ErrorPopoverContent});var r,o=n(10043),i=(n(27378),n(35002)),a=n(21675),s=n(50169);var l={name:"1xuhi4y",styles:"align-items:center;display:flex;max-width:220px"};function ErrorPopoverContent(e){let{message:t}=e;return(0,o.tZ)("div",{css:l},(0,o.tZ)("div",{css:(0,o.iv)({display:"flex",marginRight:s.q3},"")},r||(r=(0,o.tZ)(i.sg,{type:"Info24"}))),(0,o.tZ)(a.Dy.Text,{size:"S"},t))}},2256:(e,t,n)=>{"use strict";n.d(t,{U:()=>ListCellEmojiButton});var r=n(27378),o=n(41153),i=n(11397),a=n(35018),s=n(56273),l=n(15238),c=n(10043);var u={name:"ozd7xs",styles:"flex-shrink:0"};function ListCellEmojiButton(e){let{emoji:t,emojiPopoverClassName:n,onSelect:d,popoverPlacement:p,size:g}=e;const m=(0,r.useRef)(null),[y,f]=(0,r.useState)(!1);return(0,c.tZ)(i.k,{ref:m,css:u,"data-testid":l.c.ListCellEmojiButton},(0,c.tZ)(s.D,{emoji:t,isActive:y,size:g,variant:"button"}),(0,c.tZ)(o.J,{className:n,dangerouslyUseLegacyZIndex:!0,onToggle:()=>{f((e=>!e))},placement:p,trigger:"click",triggerRef:m,visible:y},(0,c.tZ)(a.zz,{onSelect:e=>{d(e),f(!1)},value:t})))}},6500:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(27378),o=n(78984),i=n(90956),a=n(41153),s=n(93284),l=n(15238),c=n(52546),u=n(10043);const d=(0,r.forwardRef)(((e,t)=>{let{error:n,isSubmitting:d,onChange:p,size:g="default",value:m}=e;const y=(0,s.og)();let f;return f=d?"disabled":n?"error":"default",(0,u.tZ)(r.Fragment,null,(0,u.tZ)(o.t,{ref:t,"data-testid":l.c.ListCellDisplayNameInput,onChange:p,placeholder:y.formatMessage({defaultMessage:"List Name",id:"Lists.ListsSidebarSection.CreateListCell.placeholder",status:"legacy"}),required:!0,size:g,state:f,type:"text",value:m}),(0,u.tZ)(a.t,{dangerouslyUseLegacyZIndex:!0,placement:"bottom-right-corner",visible:!!n},(0,u.tZ)(c.C,{message:n?(0,i.oN)(n):""})))}))},31399:(e,t,n)=>{"use strict";n.d(t,{a:()=>ListChipLinks});var r=n(10043),o=n(27378),i=n(50169),a=n(64649),s=n(64367),l=n(91349),c=n(51603),u=n(17942),d=n(28410);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ListChipLink(e){var t,n,i;let p,{getCustomUrl:g,list:m,onListChipClick:y}=e;const f=(0,l.vB)(),v="list-detail"===(null===(t=f.page)||void 0===t?void 0:t.name)?f.page:null;null!==(n=f.sections)&&void 0!==n&&n.some((e=>"in_this_list"===e.name))?p=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({button_description:m.id,button_group_title:"list_detail",button_title:"view_child"},v&&{entity_id:v.id,entity_type:v.displayName}):null!==(i=f.sections)&&void 0!==i&&i.some((e=>"sdp_collection"===e.name))&&(p={button_group_title:"sdp_collection",button_title:m.display_name,entity_id:m.id});const h=(0,o.useCallback)((()=>{null!=m.id&&m.is_badged&&(0,c.oW)().localStorage.setItem((0,d.p)(m.id),"true"),y&&y(m.id,m.display_name)}),[m.display_name,m.id,m.is_badged,y]),[_,b]=(0,o.useState)(!1);return(0,r.tZ)(s.n,{loggingInfo:p,onClick:h,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),to:g?g(m.id):"/lists/".concat(m.owner_type,"/").concat(m.id)},(0,r.tZ)(u.q,{list:m,state:_?"active":"default"}))}function ListChipLinks(e){let{areChipsCentered:t=!1,getCustomUrl:n,lists:o,maxNumberOfRows:a,onListChipClick:s,showExpandedButtonRef:l}=e;return(0,r.tZ)("div",{ref:e=>{l&&l(e)},css:[{marginBottom:-i.hc},t&&{display:"flex",flexWrap:"wrap",justifyContent:"center"},a&&{maxHeight:a*(i.tG+i.hc),overflow:"hidden"},""]},o.map(((e,t)=>(0,r.tZ)("div",{key:e.id||t,css:(0,r.iv)({display:"inline-block",marginBottom:i.hc,marginRight:i.hc},"")},(0,r.tZ)(ListChipLink,{getCustomUrl:n,list:e,onListChipClick:s})))))}},35018:(e,t,n)=>{"use strict";n.d(t,{zz:()=>ListEmojiPicker});var r=n(10043),o=n(92875),i=n.n(o),a=n(61981),s=n.n(a),l=n(27378),c=n(23104),u=n(97224),d=n(75790),p=n(78984),g=n(58343),m=n(38978),y=n(21675),f=n(74900),v=n(61308);function getTrie(e){const t={children:{},results:[]};return Object.keys(e).forEach((n=>{const r=e[n];!function addEmojiToTrie(e,t){(function addEmojiCharacterToTrie(e,t,n){e.children[t]||(e.children[t]={children:{},results:[]});e.children[t].results.push(n)})(e,t.character,t.id),addWordToTrie(e,removeSpecialCharacters(t.name),t.id),t.tags.forEach((n=>{addWordToTrie(e,removeSpecialCharacters(n),t.id)}))}(t,r)})),t}function removeSpecialCharacters(e){return e.replace(/[^ a-zA-Z0-9]/g,"")}function addWordToTrie(e,t,n){if(!t.length)return;let r=e;for(let e=0;e<t.length;e+=1){const n=t[e];r.children[n]||(r.children[n]={children:{},results:[]}),r=r.children[n]}r.results.push(n),addWordToTrie(e,t.substr(1),n)}function getResultsFromTrie(e,t){if(e.children&&e.children[t]&&!e.children[t].children)return e.children[t].results||[];let n=e;for(let e=0;e<t.length;e+=1){const r=t[e];if(n=n.children&&n.children[r],!n)break}if(n){const e=new Set;return collectResultsFromTrieNode(n,e),Array.from(e)}return[]}function collectResultsFromTrieNode(e,t){if(e.results&&e.results.forEach((e=>{t.has(e)||t.add(e)})),e.children){const n=e.children;Object.keys(n).forEach((e=>{collectResultsFromTrieNode(n[e],t)}))}}const h=(0,l.createContext)(null);function EmojiProvider(e){let{children:t}=e;const[o,i]=(0,l.useState)(null);return(0,l.useEffect)((()=>{Promise.all([n.e(92812).then(n.t.bind(n,92812,19)),n.e(9060).then(n.t.bind(n,9060,19))]).then((e=>{const[t,n]=e;i({categories:t.default,emojis:n.default})}))}),[]),(0,r.tZ)(h.Provider,{value:o},t)}function useEmojis(){const e=(0,l.useContext)(h);return e?e.emojis:null}function useEmojiQuery(e){const t=e.trim().toLowerCase(),n=function useTrie(){const e=useEmojis(),t=(0,l.useRef)();if(!e)return null;t.current||(t.current=getTrie(e));return t.current}();return t.length&&n?getResultsFromTrie(n,t):[]}var _,b,C=n(11397),O=n(93284),S=n(15238),E=n(50169);const P=320;function ListEmojiPickerInternal(e){let{onSelect:t,value:n}=e;const[o,i]=(0,l.useState)(""),a=(0,l.useRef)(null),s=(0,u.uI)(),g=function useEmojiCategories(){const e=(0,l.useContext)(h);return e?e.categories:null}(),m=(0,c.useSelector)(f.n),{emojiIds:y,markEmojiUsed:v}=function useRecentlyUsedEmoji(e){const t="ListEmojiPicker.recentlyUsedEmoji.user-".concat(e),[n,r]=(0,l.useState)((()=>{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}));return{emojiIds:n,markEmojiUsed:e=>{const o=n.indexOf(e.id);-1!==o&&n.splice(o,1);const i=[e.id,...n].slice(0,20);localStorage.setItem(t,JSON.stringify(i)),r(i)}}}((null==m?void 0:m.id)||"unknown"),_=useEmojiQuery(o),b=(0,O.og)();let C;return(0,l.useEffect)((()=>{a.current&&a.current.focus()}),[]),o?C=getEmojiRows(_):(C=[],y.length&&(C.push({label:b.formatMessage({defaultMessage:"Recently Used",id:"Lists.ListEmojiPicker.RecentlyUsed.label",status:"legacy"}),type:"header"}),C.push(...getEmojiRows(y))),g&&g.forEach((e=>{C.push({label:e.name,type:"header"}),C.push(...getEmojiRows(e.emojis))}))),(0,r.tZ)(d.Z,null,(0,r.tZ)("header",{css:(0,r.iv)({borderBottom:"1px solid ".concat(s.bg3),padding:"16px ".concat(2*E.q3,"px")},"")},(0,r.tZ)(p.t,{ref:a,"data-testid":S.c.EmojiPickerSearchInput,onChange:e=>i(e),placeholder:b.formatMessage({defaultMessage:"Search emoji",id:"Lists.ListEmojiPicker.Search.placeholder",status:"legacy"}),type:"search",value:o})),(0,r.tZ)(EmojiPanel,{onSelect:e=>{v(e),t(e.character)},rows:C,value:n}))}function getEmojiRows(e){return i()(e,10).map((e=>({emojis:e,type:"emoji"})))}function EmojiPanel(e){let{onSelect:t,rows:n,value:o}=e;const[i,a]=(0,l.useState)(0);return(0,r.tZ)("div",{css:(0,r.iv)({boxSizing:"border-box",height:P,overflow:"auto",padding:"0 ".concat(2*E.q3,"px"),width:476+2*E.q3*2},""),onScroll:e=>{a(e.target.scrollTop)}},0===n.length?_||(_=(0,r.tZ)(EmojiPanelNoResultsContent,null)):(0,r.tZ)(EmojiPanelRows,{onSelect:t,rows:n,scroll:i,value:o}))}function EmojiPanelRows(e){let{onSelect:t,rows:n,scroll:o,value:i}=e,a=0;const l=[];return n.forEach((e=>{const t=getRowHeight(e);a+=t,l.push(a-t)})),(0,r.tZ)("div",{css:(0,r.iv)({height:s()(n,(e=>getRowHeight(e))),position:"relative"},"")},n.map(((e,n)=>{const a=getRowHeight(e),s=l[n];if("header"===e.type)return(0,r.tZ)("div",{key:n,css:(0,r.iv)({left:0,position:"absolute",top:s,width:"100%"},"")},(0,r.tZ)(HeaderRow,{label:e.label}));return s+a>=o-P&&s<=o+P+P?(0,r.tZ)("div",{key:n,css:(0,r.iv)({left:0,position:"absolute",top:s,width:"100%"},"")},(0,r.tZ)(EmojiRow,{emojiIds:e.emojis,onSelect:t,value:i})):null})))}var Z={name:"2w7aow",styles:"box-sizing:border-box;display:flex;height:100%;justify-content:center;padding-top:100px;width:100%"};function EmojiPanelNoResultsContent(){return(0,r.tZ)(g.J,{color:m.Wt.Fg2},(e=>{let{rootClassName:t}=e;return(0,r.tZ)("div",{className:t,css:Z},b||(b=(0,r.tZ)(y.Dy.Text,{size:"S"},(0,r.tZ)(O.DH,{defaultMessage:"No emojis found",id:"EmojiPanel.NoResults.Content",status:"legacy"}))))}))}function getRowHeight(e){return e.type,48}function HeaderRow(e){let{label:t}=e;const n=(0,u.uI)();return(0,r.tZ)("header",{css:(0,r.iv)({background:n.bg1,boxSizing:"border-box",height:48,paddingTop:18},"")},(0,r.tZ)(y.Dy.Text,{isBold:!0,size:"S"},t))}function EmojiRow(e){let{emojiIds:t,onSelect:n,value:o}=e;const i=useEmojis();return i?(0,r.tZ)("div",{css:(0,r.iv)({alignItems:"center",display:"flex",height:48,overflow:"hidden",width:476},"")},t.map(((e,a)=>{const s=i[e];return s?(0,r.tZ)("div",{key:e,css:[{margin:"0 ".concat(2,"px")},0===a&&{marginLeft:0},a===t.length-1&&{marginRight:0},""]},(0,r.tZ)(EmojiButton,{emoji:s,isSelected:o===s.character,onClick:()=>{n(s)}})):null}))):null}function EmojiButton(e){let{emoji:t,isSelected:n,onClick:o}=e;const i=(0,u.CG)(),a=(0,u.uI)();return(0,r.tZ)(C.k,{key:t.id,css:[{"&:hover":!n&&{backgroundColor:a.bg2},alignItems:"center",borderRadius:E.n_,boxSizing:"border-box",display:"flex",height:44,justifyContent:"center",width:44},n&&{backgroundColor:i.lightest,border:"1px solid ".concat(i.base)},""],"data-testid":S.c.EmojiPickerEmojiButton(t.id),onClick:o,title:t.name},(0,r.tZ)(v.d,{emoji:t.character,preferSpritesheet:!0,size:28}))}function ListEmojiPicker(e){return(0,r.tZ)(EmojiProvider,null,(0,r.tZ)(ListEmojiPickerInternal,e))}},56273:(e,t,n)=>{"use strict";n.d(t,{A:()=>Background,D:()=>ListIcon});n(27378);var r=n(35002),o=n(38978),i=n(97224),a=n(61308),s=n(82581),l=n(11898),c=n(90431),u=n(50169),d=n(78824),p=n(85155),g=n(73533),m=n(10043);function ListIcon(e){let{emoji:t=null,imageUrls:n=null,isActive:i=!1,listId:s,size:l="md",type:c="default",variant:u="default"}=e;return"create"===c?(0,m.tZ)(Background,{imageUrls:null,isActive:i,size:l,type:c,variant:u},(0,m.tZ)(r.sg,{color:o.bl.Lightest,type:"Plus24"})):(0,m.tZ)(Background,{imageUrls:n,isActive:i,listId:s,size:l,type:c,variant:u},t&&!n&&(0,m.tZ)(a.d,{emoji:t,size:"md"===l?18:24}))}var y={name:"vemhfc",styles:"height:100%;left:0;object-fit:cover;position:absolute;top:0;width:100%"},f={name:"vemhfc",styles:"height:100%;left:0;object-fit:cover;position:absolute;top:0;width:100%"},v={name:"1c85bns",styles:"align-items:center;display:flex;justify-content:center;position:relative"};function Background(e){let{children:t,imageUrls:n,isActive:r,listId:o,size:a,type:h,variant:_}=e;const b=(0,i.CG)(),C=(0,i.uI)();let O={};return"create"===h?O={backgroundColor:b.lightest}:"default"===h&&"button"===_?O={backgroundColor:C.bg1,border:"1px solid ".concat(r?b.base:C.bg3)}:"default"===h&&(O={backgroundColor:C.bg2}),(0,m.tZ)("div",{css:[{alignItems:"center",borderRadius:u.n_,boxSizing:"border-box",display:"flex",justifyContent:"center",overflow:"hidden",position:"relative"},O,"md"===a&&{height:"40px",width:"button"===_?"40px":"30px"},"lg"===a&&{height:"button"===_?"48px":"64px",width:"48px"},""]},!t&&"create"!==h&&(0,m.tZ)(s.L,{css:y,fallback:(0,m.tZ)(l.E,{css:f,src:d.Z,src2x:p.Z,src3x:g.Z}),onError:()=>{(0,c.e)(new Error("Failed to load list header_web image"),{listId:o})},src:n?n["portrait_48:1"]:"",src2x:n?n["portrait_48:2"]:"",src3x:n?n["portrait_48:3"]:""}),(0,m.tZ)("div",{css:v},t))}},17289:(e,t,n)=>{"use strict";n.d(t,{de:()=>r.d,Di:()=>useIsOwnList,$r:()=>useListItems,Q2:()=>useListUpdaters,oP:()=>useLoadListItemsData,$q:()=>useScreenerListItems,_4:()=>useUserListItems});var r=n(34359),o=n(23104),i=n(74900),a=n(12633);function useIsOwnList(e){const t=(0,o.useSelector)(i.n),n=(0,a.q_)(t)?t.id:null;return"custom"===e.owner_type&&!!n&&e.owner===n}var s=n(42364),l=n(44574);function useListItems(e){var t,n,r,o,i,c,u,d,p,g;const m=(0,s.mX)();m.setHours(0,0,0,0);const y=m.toISOString();return(0,a.tT)({disabled:null===e,many:!0,model:l.K5,params:{analyst_ratings:null==e||null===(t=e.activeFilters)||void 0===t?void 0:t.analystRatings,id:null==e?void 0:e.id,local_midnight:y,maximum_price:null==e||null===(n=e.activeFilters)||void 0===n?void 0:n.priceMax,minimum_price:null==e||null===(r=e.activeFilters)||void 0===r?void 0:r.priceMin,mktcap_sizes:null==e||null===(o=e.activeFilters)||void 0===o?void 0:o.marketCap,price_change_direction:null==e||null===(i=e.activeFilters)||void 0===i||null===(c=i.periodChangeDirection)||void 0===c?void 0:c.changeDirection,price_change_period:null==e||null===(u=e.activeFilters)||void 0===u||null===(d=u.periodChangeDirection)||void 0===d?void 0:d.period,sort_direction:null==e||null===(p=e.sort)||void 0===p?void 0:p.direction,sort_order:null==e||null===(g=e.sort)||void 0===g?void 0:g.column}})}var c=n(27378),u=n(17962),d=n.n(u),p=n(68485),g=n(70720),m=n(28999);function useUserListItems(){return(0,a.tT)({model:l.ex})}const y="".concat(g.mj,"/lists/");function useListUpdaters(){const e=(0,o.useDispatch)(),t=(0,r.d)().result,n=useUserListItems().result;return(0,c.useMemo)((()=>{async function refreshListItems(t){const n=l.K5.issueQuery({queryParams:{id:t}},{fetchLimit:0});await e(n).meta.promise}async function refreshDefaultLists(){const n=l.wZ.issueFind({id:null==t?void 0:t.id},{fetchLimit:0});await e(n).meta.promise}async function refreshListsContainingObject(t){let{objectId:n,objectType:r}=t;const o=m.W.issueQuery({queryParams:{object_id:n,object_type:r,owner_type:"custom"}},{fetchLimit:0});await e(o).meta.promise}async function updateListFollowedStatus(t){let{list:n,type:r,userId:o}=t;if(!n.id)return;const i="follow"===r;if(n.followed!==i){e(m.W.issueSetLocal(n.set("followed",i),{id:n.id}));try{"follow"===r?await d().post("".concat(y).concat(n.id,"/followers/").concat(o,"/")).use(p.bE):await d().delete("".concat(y).concat(n.id,"/followers/").concat(o,"/")).use(p.bE)}catch(t){throw e(m.W.issueSetLocal(n,{id:n.id})),t}try{await refreshDefaultLists()}catch(e){}}}return{createList:async function createList(e){let{displayName:n,iconEmoji:r}=e;const o=(await d().post("".concat(y)).use(p.bE).send({display_name:n,icon_emoji:r,list_position:0})).body.id;try{null!=t&&t.id&&await postListOperations({[t.id]:[{list_id:o,list_position:0,operation:"modify"}]})}catch(e){}try{await Promise.all([refreshDefaultLists()])}catch(e){}return o},deleteList:async function deleteList(t){let{id:n}=t;const r=new m.W({id:n}),o=m.W.issueDelete(r,{skipPurgeLocal:!0});await e(o).meta.promise;try{await Promise.all([refreshDefaultLists()]),m.W.issuePurgeLocal(r)}catch(e){}},followList:async function followList(e){let{list:t,userId:n}=e;return updateListFollowedStatus({list:t,type:"follow",userId:n})},quickAdd:async function quickAdd(t){let{objectId:r,objectType:o}=t;const i=await d().post("".concat(y,"items/quick_add/")).use(p.bE).send({object_id:r,object_type:o}),a=i.body.id,s=null==n?void 0:n.lists.find((e=>e.id===a));s&&s.items.push({object_id:r,object_type:o}),n&&e(l.ex.issueSetLocal(n));try{await Promise.all([refreshListItems(a),refreshListsContainingObject({objectId:r,objectType:o})])}catch(e){}return{displayName:i.body.display_name,listId:a}},refreshListItems,runDefaultListsOperations:async function runDefaultListsOperations(n){let{operations:r}=n;if(!t||!t.id)return;let o=t.results;r.forEach((e=>{const t=o.findIndex((t=>t.id===e.list_id));if(-1===t)return;const n=o.get(t);n&&(o=o.splice(t,1).insert(e.list_position,n))})),e(l.wZ.issueSetLocal(t.set("results",o),{id:t.id}));try{await postListOperations({[t.id]:r})}catch(e){}},runItemOperationsWithObject:async function runItemOperationsWithObject(t){let{objectId:r,objectType:o,operations:i}=t;const a=[],s={};i.forEach((e=>{"delete"===e.operation&&e.item&&a.push(e.item),s[e.listId]=[{object_id:r,object_type:o,operation:e.operation}];const t=null==n?void 0:n.lists.find((t=>t.id===e.listId));t||null==n||n.lists.push({id:e.listId,items:[{object_id:r,object_type:o}]}),t&&("create"===e.operation?t.items.push({object_id:r,object_type:o}):"delete"===e.operation&&(t.items=t.items.filter((e=>e.object_id!==r||e.object_type!==o))))})),n&&e(l.ex.issueSetLocal(n)),a.forEach((t=>{e(l.K5.issuePurgeLocal(t))})),await d().post("".concat(y,"items/")).use(p.bE).send(s);try{await Promise.all([refreshDefaultLists(),refreshListsContainingObject({objectId:r,objectType:o})])}catch(e){}},unfollowList:async function unfollowList(e){let{list:t,userId:n}=e;return updateListFollowedStatus({list:t,type:"unfollow",userId:n})},updateList:async function updateList(t){let{emoji:n,list:r,name:o}=t;const i=new m.W(r.set("icon_emoji",n||r.icon_emoji).set("display_name",o||r.display_name).toJS());e(m.W.issueSetLocal(i,{id:r.id}));try{await e(m.W.issueUpdate(r,{display_name:o||void 0,icon_emoji:n||void 0},{partial:!0})).meta.promise}catch(t){throw e(m.W.issueSetLocal(r,{id:r.id})),t}}}}),[t,e,n])}async function postListOperations(e){return await d().post("".concat(y,"lists/")).use(p.bE).send(e)}var f=n(64649),v=n(55155),h=n(9545),_=n(47727),b=n(89676),C=n(6377),O=n(3218);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useLoadListItemsData(e){const t=e&&function getItemInstrumentIds(e){return e.filter((e=>"instrument"===e.object_type)).map((e=>e.object_id))}(e.items),n=e&&function getItemCurrencyPairIds(e){return e.filter((e=>"currency_pair"===e.object_type)).map((e=>e.object_id))}(e.items),r=t?t.join():null,o=n?n.join():null,i=(0,a.tT)({disabled:!r,many:!0,model:l.Z9,params:{ids:r}}),s=(0,a.tT)({disabled:!r,many:!0,model:l.CP,params:{ids:r,include_inactive:!0}}),c=(0,a.tT)({disabled:!o,many:!0,model:C.s,params:{ids:o}}),u=(0,a.tT)({disabled:!o,many:!0,model:b.a,params:{ids:o}}),d=(0,a.tT)({disabled:!(e&&o),many:!0,model:O.Y,params:_objectSpread({ids:o},(0,h.ZI)({span:(null==e?void 0:e.span)===v.DISPLAY_SPAN.DAY?v.DISPLAY_SPAN.TWENTY_FOUR_HOUR:null==e?void 0:e.span}))}),p=(0,a.tT)({many:!0,model:_.u}),g=(0,a.tT)({disabled:!r,many:!0,model:l.pi,params:_objectSpread({ids:r},(0,h.iW)({span:v.DISPLAY_SPAN.DAY}))}),m=(0,a.tT)({disabled:!r,many:!0,model:l.k0,params:{ids:r}});return{isLoading:!!(i.loading||s.loading||c.loading||u.loading||d.loading||p.loading||g.loading||m.loading)}}n(11476);var S=n(30156),E=n(4849),P=n(89025);function useScreenerListItems(){let{includeFilters:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeFilters:!1};const t=!!(0,E.n)(S.V.screener);return(0,a.tT)({disabled:!t,model:P.RJ,params:{include_filters:e}})}},34359:(e,t,n)=>{"use strict";n.d(t,{d:()=>useDefaultLists});var r=n(44574),o=n(12633);function useDefaultLists(){return(0,o.tT)({model:r.wZ,params:{}})}},11476:(e,t,n)=>{"use strict";n.d(t,{X:()=>useLogListPageScroll});var r=n(66726),o=n.n(r),i=n(27378),a=n(51603),s=n(33417);function useLogListPageScroll(e){const t=(0,i.useRef)(o()((()=>{e&&(0,s.Ab)(e)}),500));(0,i.useEffect)((()=>{const onScroll=()=>{t.current()},e=(0,a.oW)();return e.addEventListener("scroll",onScroll),()=>{e.removeEventListener("scroll",onScroll)}}),[])}},33417:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>logListPageScroll,Ah:()=>getChooseListTypeLoggingInfo,GK:()=>logListPageDisappear,WC:()=>getRosettaScreenNameFromListType,iF:()=>logSetFilters,kH:()=>logFilterPanelClick,re:()=>logListPageAppear,zk:()=>logResetFilters});var r=n(62366),o=n(84974),i=n(22903),a=n(49569);const s={name:a.t.event_logging.Screen.Name.LIST_DETAIL_PAGE};function getRosettaScreenNameFromListType(e){switch(e){case"robinhood":return a.t.event_logging.Screen.Name.ROBINHOOD_LIST_DETAIL_PAGE;case"custom":default:return a.t.event_logging.Screen.Name.USER_LIST_DETAIL_PAGE}}function logFilterPanelClick(e){i.c.logClickEvent(o.YB,{action:e?a.t.event_logging.UserInteractionEventData.Action.EXPAND:a.t.event_logging.UserInteractionEventData.Action.COLLAPSE,component:{component_type:a.t.event_logging.Component.ComponentType.FILTERS_BUTTON},screen:s})}function logResetFilters(){i.c.logClickEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.CLEAR_FILTERS,screen:s})}function periodLookup(e){switch(e){case r.nZ.ONE_DAY:return a.t.event_logging.ListFilters.Change.ONE_DAY;case r.nZ.ONE_WEEK:return a.t.event_logging.ListFilters.Change.ONE_WEEK;case r.nZ.ONE_MONTH:return a.t.event_logging.ListFilters.Change.ONE_MONTH;case r.nZ.THREE_MONTH:return a.t.event_logging.ListFilters.Change.THREE_MONTH;case r.nZ.ONE_YEAR:return a.t.event_logging.ListFilters.Change.ONE_YEAR;default:return a.t.event_logging.ListFilters.Change.CHANGE_UNSPECIFIED}}function changeDirectionLookup(e){switch(e){case r.HO.UP:return a.t.event_logging.ListFilters.Direction.RISING;case r.HO.DOWN:return a.t.event_logging.ListFilters.Direction.FALLING;default:return a.t.event_logging.ListFilters.Direction.DIRECTION_UNSPECIFIED}}function marketCapLookup(e){switch(e){case r.LV.SMALL:return a.t.event_logging.ListFilters.MarketCap.SMALL;case r.LV.MEDIUM:return a.t.event_logging.ListFilters.MarketCap.MID;case r.LV.LARGE:return a.t.event_logging.ListFilters.MarketCap.LARGE;default:return a.t.event_logging.ListFilters.MarketCap.MARKET_CAP_UNSPECIFIED}}function analystRatingsLookup(e){switch(e){case r.aV.UNFAVORABLE:return a.t.event_logging.ListFilters.AnalystRatings.FORTY_NINE_OR_LOWER;case r.aV.FAVORABLE:return a.t.event_logging.ListFilters.AnalystRatings.FIFTY_OR_HIGHER;default:return a.t.event_logging.ListFilters.AnalystRatings.ANALYST_RATINGS_UNSPECIFIED}}function logSetFilters(e){var t,n,r,l;i.c.logClickEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.APPLY_FILTERS,context:{lists_context:{list_filters:{analyst_ratings:e.analystRatings?analystRatingsLookup(e.analystRatings):void 0,change:null!==(t=e.periodChangeDirection)&&void 0!==t&&t.period?periodLookup(e.periodChangeDirection.period):void 0,direction:null!==(n=e.periodChangeDirection)&&void 0!==n&&n.changeDirection?changeDirectionLookup(e.periodChangeDirection.changeDirection):void 0,market_cap:e.marketCap?marketCapLookup(e.marketCap):void 0,max_price:null!==(r=e.priceMax)&&void 0!==r?r:void 0,min_price:null!==(l=e.priceMin)&&void 0!==l?l:void 0}}},screen:s})}function logListPageAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{context:{list:{unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.SCREEN_TRANSITION_APPEAR,screen:{identifier:e,name:a.t.event_logging.Screen.Name.ROBINHOOD_LIST_DETAIL_PAGE}})}function logListPageDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{context:{list:{unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.SCREEN_TRANSITION_DISAPPEAR,screen:{identifier:t,name:a.t.event_logging.Screen.Name.ROBINHOOD_LIST_DETAIL_PAGE}})}function logListPageScroll(e){i.c.logUserInteractionEvent(o.YB,{context:{list:{unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.SCROLL,screen:{identifier:e,name:a.t.event_logging.Screen.Name.ROBINHOOD_LIST_DETAIL_PAGE}})}function getChooseListTypeLoggingInfo(e){let{screen:t}=e;return{component:{component_type:a.t.event_logging.Component.ComponentType.ROW,identifier:"create_watchlist_or_screener"},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:t}}}},28999:(e,t,n)=>{"use strict";n.d(t,{W:()=>i.W,u:()=>u});var r,o,i=n(13612),a=n(64649),s=n(68891),l=n(12633),c=n(91906);let u=(0,l.OF)((o=class ListDisclosureRecord extends((0,c.A)({contentful_id:"",list_id:"",preview:{attributes:null,text:""}},"ListDisclosureRecord")){static url(e){if(!e.list_id||!e.owner_type)throw new Error("ListDisclosureRecord requires list_id and owner_type to get a url. Provided: ".concat(JSON.stringify(e)));return"".concat(this.baseUrl,"/").concat(this.urlPath.replace("{list_id}",e.list_id),"?").concat((0,s.stringify)({owner_type:e.owner_type}))}},(0,a.Z)(o,"urlPath","lists/{list_id}/disclosures/"),(0,a.Z)(o,"idField","list_id"),r=o))||r},15956:(e,t,n)=>{"use strict";n.d(t,{r:()=>checkDisplayName});var r=n(13221);class NoNameError extends r.default{constructor(){super("Please enter a valid name")}}function checkDisplayName(e){if(!e||!e.trim())throw new NoNameError}},70916:(e,t,n)=>{"use strict";n.d(t,{M:()=>ChartSkeleton});var r,o=n(10043),i=(n(27378),n(94749));var a={name:"9xrbf",styles:"clip-path:url(#chartSkeletonClip)"};function ChartSkeleton(e){let{height:t,width:n}=e;return(0,o.tZ)("div",{css:(0,o.iv)({height:t,width:n},"")},(0,o.tZ)("div",{css:a},(0,o.tZ)(i.O,{height:t,width:n})),r||(r=(0,o.tZ)("svg",{height:"0",width:"0",xmlns:"http://www.w3.org/2000/svg"},(0,o.tZ)("clipPath",{clipPathUnits:"objectBoundingBox",id:"chartSkeletonClip"},(0,o.tZ)("path",{d:"M0.0833333 0.268623L0 0.534989V1H1V0.530474L0.916667 0.264108L0.833333 0.530474L0.667373 0L0.416667 0.801354L0.333333 0.534989L0.25 0.801354L0.0833333 0.268623Z"})))))}},90355:(e,t,n)=>{"use strict";n.d(t,{k:()=>Chart});var r=n(53782),o=n(27378),i=n(73367),a=n(53613),s=n(51603),l=n(10043),c=n(88650),u=n(49424),d=n(31965),p=n(90431),g=n(31063),m=n(36210),y=n(31381),f=n(26623),v=n(80871),h=n(21081),_=n(93335),b=n(71883),C=n(76596),O=n(35002),S=n(75790),E=n(61001),P=n(93284);var Z={name:"e0dnmk",styles:"cursor:pointer"},D={name:"19d4cf",styles:"align-items:center;display:flex;height:24px;padding-left:24px"};function MarginIcon(e){var t,n;const[r,i]=(0,o.useState)(!1),{hover:a,icon_with_action:s}=e,c=s&&s.icon&&(0,C.zj)(s.icon),u=c&&((0,O.yY)(c)||(0,O.f1)(c))?c:void 0,d=(0,C.xe)(null==s?void 0:s.icon_color_override),onMouseEnterLeave=()=>{a&&i(!r)};return(0,l.tZ)("div",null,s&&u&&(null==s?void 0:s.web_popover)&&(0,l.tZ)(o.Fragment,null,(0,l.tZ)("div",{css:Z,onClick:()=>{a||i(!r)},onMouseEnter:onMouseEnterLeave,onMouseLeave:onMouseEnterLeave},(0,l.tZ)(O.sg,{color:r?"semantic.scary.light":d,type:u})),(0,l.tZ)(S.Z,{css:(0,l.iv)({display:r?"block":"none",left:-10,padding:"12px 16px",position:"absolute",top:-10,width:280,zIndex:-1},""),type:"primary"},(0,l.tZ)("header",{css:D},(0,l.tZ)("h4",null,(0,l.tZ)(P.DH,{defaultMessage:s.web_popover.title,id:"MarginMaintenanceIcon.Title",status:"legacy"}))),(0,l.tZ)("p",null,(0,l.tZ)(E.UG,{source:null!==(t=null===(n=s.web_popover)||void 0===n?void 0:n.body_markdown)&&void 0!==t?t:""})))))}var T=n(55368),w=n.n(T);const I=o.memo((function _ExperimentalDefaultHistoricalsGraph(e){let{chartPage:t,className:n,fills:r,height:i,lines:a,onCursorMove:s,overlays:C,small:O,span:S,width:E}=e;if(!a||0===a.length)return(0,l.tZ)("div",null,(0,l.tZ)("img",{alt:"chart empty state",src:w(),style:{height:i,width:E}}),C&&(0,l.tZ)(u.Y,{components:C,customComponents:{[d.ComponentType.ChartLayeredStack]:ChartLayeredStack}}));const P=(0,c.scaleLinear)().domain([0,1]).range([0,E]),Z=(0,c.scaleLinear)().domain([0,1]).range([i,0]);return(0,l.tZ)(o.Fragment,null,(0,l.tZ)(b.r,{key:"chart".concat(S),className:n,domain:[0,1],height:i,onCursorMove:s,range:[0,1],renderCursorLabel:e=>{const n=Object.keys(e).filter((t=>{var n;return null!=(null===(n=e[t])||void 0===n?void 0:n.d.label)}));if(!n)return null;n.length>1&&(0,p.e)(new Error("ExperimentalDefaultHistoricalsGraph: Unexpected API CursorData"),e,t===v.D.PortfolioChartSection?g.q.PORTFOLIO_DETAIL:g.q.STOCK_DETAIL);const r=e[n[0]];return r&&r.d.label?(0,l.tZ)(h.gW,{color:r.d.label.color,label:r.d.label.value}):null},small:O,width:E},r&&r.map(((e,t)=>function renderChartFill(e,t){var n;const r="".concat(null==e||null===(n=e.style)||void 0===n?void 0:n.type,"-id-").concat(t);return(0,l.tZ)(m.G,{fill:e,patternId:r,xScaleFunction:P,yScaleFunction:Z})}(e,t))),a&&a.map(((e,t)=>((e,t)=>{if(e&&e.segments)return(0,l.tZ)(y.E,{key:"complex-line-".concat(t)},e.segments.map(((n,r)=>{const o=e.segments[r+1],i=null==o?void 0:o.points.get(0);let a=n.points;i&&(a=n.points.concat([i]));const s=(null==e?void 0:e.identifier)||"line-".concat(t);return(0,l.tZ)(f._,{key:"line".concat(r),data:a,lineStyles:n.styles,markerComponent:_.e,name:s})})))})(e,t))),C&&(0,l.tZ)(u.Y,{components:C,customComponents:{[d.ComponentType.ChartLayeredStack]:ChartLayeredStack}})))}),((e,t)=>t.lines===e.lines&&t.fills===e.fills&&t.overlays===e.overlays&&t.span===e.span&&t.height===e.height&&t.width===e.width));var k={name:"1refgc9",styles:"height:100%;position:absolute;top:0;width:100%"};function ChartLayeredStack(e){return(0,l.tZ)("div",{css:k},e.content.map(((e,t)=>{const{position:n,size:r}=e,o=null!=r&&r.width&&(null==r?void 0:r.width)>0?"".concat(100*r.width,"%"):"initial",i=null!=r&&r.height&&(null==r?void 0:r.height)>0?"".concat(100*r.height,"%"):"initial";return(0,l.tZ)("div",{key:t,css:(0,l.iv)({display:"inline-block",height:i,left:"".concat(100*n.x,"%"),position:"relative",top:"".concat(100*(1-n.y),"%"),transform:getTransformation(n),width:o},"")},(0,l.tZ)(u.Y,{components:[e.content],customComponents:{[d.ComponentType.MarginIcon]:MarginIcon}}))})))}function getTransformation(e){let t=0;"CENTER"===e.horizontal_edge?t=-50:"RIGHT"===e.horizontal_edge&&(t=-100);let n=0;return"CENTER"===e.vertical_edge?n=-50:"BOTTOM"===e.vertical_edge&&(n=-100),"translate(".concat(t,"%, ").concat(n,"%)")}var x,R=n(12633),M=n(98583),L=n(70916);const A=["chartData","chartPage","height","isLoading","marginMaintenance","onCursorMove","small","span","width"],F=o.memo((e=>{var t,n,o;let{chartData:i,chartPage:a,height:c=1200,isLoading:u,marginMaintenance:d,onCursorMove:p,small:g,span:m,width:y=400}=e,f=(0,r.Z)(e,A);return(0,M.r)(u),(0,s.sk)()?(0,l.tZ)("div",{style:{height:c,width:y}}):u||i?u?(0,l.tZ)(L.M,{height:c,width:y}):(0,l.tZ)("div",f,(0,l.tZ)(I,{chartPage:a,fills:null!==(t=null==i?void 0:i.fills)&&void 0!==t?t:[],height:c,lines:null!==(n=null==i?void 0:i.lines)&&void 0!==n?n:[],onCursorMove:p,overlays:null!==(o=null==i?void 0:i.overlays)&&void 0!==o?o:[],small:g,span:m,width:y})):(0,l.tZ)("div",{style:{alignItems:"center",display:"flex",height:c,justifyContent:"center",width:y}},x||(x=(0,l.tZ)(P.DH,{id:"There was an error loading the chart.",status:"legacy"})))}));function Chart(e){const{chartData:t,marginMaintenance:n}=e,r=!(0,R.js)(t)&&t?t.id:"";return(0,l.tZ)(a.O,{direction:getDirectionFromProps({chartData:t,marginMaintenance:n}),id:"chart-".concat(r)},(0,l.tZ)(F,e))}function getDirectionFromProps(e){let{chartData:t,marginMaintenance:n}=e;return n||(0,R.js)(t)?i.Direction.Down:(0,R.q_)(t)&&t&&t.default_display&&t.page_direction||i.Direction.Up}},80871:(e,t,n)=>{"use strict";let r;n.d(t,{D:()=>r}),function(e){e.PortfolioChartSection="portfolio-chart-section",e.StockDetailChartSection="stock-chart-section",e.ETFDetailChartSection="etf-chart-section",e.RetirementChartSection="retirement-chart-section",e.SidebarPortfolioCell="sidebar-portfolio-cell"}(r||(r={}))},21081:(e,t,n)=>{"use strict";n.d(t,{DC:()=>ListedCursorLabel,E4:()=>WeekIntervalCursorLabel,R1:()=>TwentyFourSevenMinuteCursorLabel,Wq:()=>TwentyFourSevenWeekSpanCursorLabel,a2:()=>CursorLabel,c3:()=>SecondCursorLabel,gW:()=>ExperimentalCursorLabel,jN:()=>TwentyFourSevenSecondCursorLabel,je:()=>DayTimeCursorLabel,jt:()=>MinuteCursorLabel});var r=n(25773),o=n(10043),i=n(27378),a=n(1460),s=n(97224),l=n(76596),c=n(21675),u=n(93284);const d=(0,o.iv)({color:(0,s.uI)().fg2,display:"block",marginBottom:"6px",textAlign:"center",textTransform:"uppercase",whiteSpace:"nowrap"},"");function CursorLabel(e){let{sparkline:t}=e;return t?(0,o.tZ)("div",{style:{whiteSpace:"nowrap"}},(0,o.tZ)("span",{css:d},(0,o.tZ)(a.FormattedDate,{format:"short",timeZone:t.d.timezone,value:t.d.begins_at}))):null}function ListedCursorLabel(e){let{availableDate:t}=e;return(0,o.tZ)("span",{css:d},(0,o.tZ)(u.DH,{defaultMessage:"Listed on {availableDate}",id:"HistoricalsGraph.listedOn",status:"legacy",values:{availableDate:(0,o.tZ)(a.FormattedDate,{day:"numeric",month:"short",value:t,year:"numeric"})}}))}function TwentyFourSevenSecondCursorLabel(e){return(0,o.tZ)(SecondCursorLabel,e)}function TwentyFourSevenMinuteCursorLabel(e){return(0,o.tZ)(MinuteCursorLabel,e)}function SecondCursorLabel(e){return(0,o.tZ)(TimeCursorLabel,(0,r.Z)({},e,{format:"withSeconds"}))}function MinuteCursorLabel(e){return(0,o.tZ)(TimeCursorLabel,(0,r.Z)({},e,{format:"short"}))}function TimeCursorLabel(e){let{format:t,sparkline:n}=e;if(!n)return null;const r=(0,o.tZ)(a.FormattedTime,{format:t,value:n.d.begins_at});return(0,o.tZ)(i.Fragment,null,(0,o.tZ)("span",{css:d},r))}function DayTimeCursorLabel(e){let{sparkline:t}=e;if(!t)return null;const n=t.d.begins_at,r=(0,o.tZ)(a.FormattedTime,{format:"short",value:n}),i=(0,o.tZ)(a.FormattedDate,{format:"noYear",value:n});return(0,o.tZ)("div",{style:{whiteSpace:"nowrap"}},(0,o.tZ)("span",{css:d},(0,o.tZ)(u.DH,{defaultMessage:"{date}, {time}",id:"HistoricalsLabel.weekSpanCursorLabel",status:"legacy",values:{date:i,time:r}})))}function TwentyFourSevenWeekSpanCursorLabel(e){return(0,o.tZ)(DayTimeCursorLabel,e)}function WeekIntervalCursorLabel(e){let{sparkline:t}=e;return t?(0,o.tZ)("div",{style:{whiteSpace:"nowrap"}},(0,o.tZ)("span",{css:d},(0,o.tZ)(a.FormattedDate,{format:"short",timeZone:t.d.timezone,value:t.d.endsAt}))):null}function ExperimentalCursorLabel(e){let{color:t,label:n}=e;const r=(0,l.X_)(t);return n?(0,o.tZ)("div",{style:{marginBottom:"6px",whiteSpace:"nowrap"}},(0,o.tZ)(c.Dy.Text,{overrideRootStyles:{color:r,textAlign:"center",whiteSpace:"nowrap"},size:"S"},(0,o.tZ)(u.DH,{defaultMessage:n,id:"Chart.ExperimentalCursorLabel",status:"legacy"}))):null}},93335:(e,t,n)=>{"use strict";n.d(t,{e:()=>ExperimentalMarker});n(27378);var r=n(76596),o=n(97224),i=n(10043);function ExperimentalMarker(e){let{color:t}=e;const n=(0,r.X_)(t);return(0,i.tZ)("circle",{cx:0,cy:0,fill:n,r:5,stroke:(0,o.uI)().bg1,strokeWidth:2})}},71883:(e,t,n)=>{"use strict";n.d(t,{r:()=>ExperimentalPriceGraph});var r=n(64900),o=n(88650),i=(n(27378),n(63898)),a=n(44798),s=n(93207),l=n.n(s),c=n(10043);function ExperimentalPriceGraph(e){let{children:t,className:n,domain:s,height:u,onCursorMove:d,range:p,renderCursorLabel:g,small:m,width:y}=e;const f=(0,i.I)()&&!m,v=(0,r.cx)(n,l().priceGraph,{[l().small]:m,[l().crypto]:f}),h=!m?(0,c.tZ)(a.lH,{lineProps:{className:l().cursor},onCursorMove:d,renderLabel:g},t):t,_=(0,o.scaleLinear)().domain(s).range([0,y]),b=(0,o.scaleLinear)().domain(p).range([u,0]);return(0,c.tZ)("div",{className:v},f&&(0,c.tZ)(a.kL,{className:l().cryptoShadowChart,scaleX:_,scaleY:b},t),(0,c.tZ)(a.kL,{scaleX:_,scaleY:b},h))}},97108:(e,t,n)=>{"use strict";n.d(t,{A:()=>HistoricalsGraph_HistoricalsGraph});var r=n(25773),o=n(27378),i=n(55155),a=n(30156),s=n(4849),l=n(64900),c=n(12172),u=n(88650),d=n(34051),p=n(31137),g=n.n(p),m=n(23104),y=n(9545),f=n(61755),v=n(44574),h=n(50882),_=n(12633),b=n(44798),C=n(58798),O=n(23371),S=n(55547),E=n(21081),P=n(93207),Z=n.n(P),D=n(10043);function Marker(e){let{isUnavailable:t=!1,isUnselectedActive:n=!1,isUnselectedInactive:r=!1}=e;const i=(0,l.cx)(Z().marker,{[Z().isUnavailable]:t,[Z().isUnselectedActive]:n,[Z().isUnselectedInactive]:r});let a=5;return n?a=4:r&&(a=3),(0,D.tZ)(o.Fragment,null,(n||r)&&(0,D.tZ)("circle",{className:(0,l.cx)(Z().marker,Z().markerBackground),cx:0,cy:0,r:a}),(0,D.tZ)("circle",{className:i,cx:0,cy:0,r:a}))}var T=n(63898);function PriceGraph(e){let{children:t,className:n,domain:r,height:o,onCursorMove:i,range:a,renderCursorLabel:s,small:c,width:d}=e;const p=(0,T.I)()&&!c,g=(0,l.cx)(n,Z().priceGraph,{[Z().small]:c,[Z().crypto]:p}),m=!c?(0,D.tZ)(b.lH,{lineProps:{className:Z().cursor},onCursorMove:i,renderLabel:s},t):t,y=(0,u.scaleLinear)().domain(r).range([0,d]),f=(0,u.scaleLinear)().domain(a).range([o,0]);return(0,D.tZ)("div",{className:g},p&&(0,D.tZ)(b.kL,{className:Z().cryptoShadowChart,scaleX:y,scaleY:f},t),(0,D.tZ)(b.kL,{scaleX:y,scaleY:f},m))}var w,I=n(53782),k=n(74633),x=n(95067),R=n.n(x);function MarginMaintenanceDotsPattern(e){let{height:t,id:n,width:r,y:o=0}=e;return(0,D.tZ)(k.SVGDefs.Item,null,(0,D.tZ)("pattern",{className:R().marginMaintenanceDotsPattern,height:t,id:n,patternUnits:"userSpaceOnUse",width:r,y:o},(0,D.tZ)("rect",{height:"1",width:"1",x:r/2,y:r/2}),w||(w=(0,D.tZ)("rect",{height:"1",width:"1",x:"-0.5",y:"0"})),(0,D.tZ)("rect",{height:"1",width:"1",x:r-.5,y:"0"})))}const M=["data","domain","getX","getY","height","marginMaintenance","range","scaleX","scaleY","width"];class MarginMaintenanceArea_MarginMaintenanceArea extends b.Fd{render(){const e=this.props,{data:t,domain:n,getX:i,getY:a,height:s,marginMaintenance:l,range:c,scaleX:u,scaleY:d,width:p}=e,g=(0,I.Z)(e,M),m=p/n[1],y=d(l),f="margin-maintenance-dots-".concat(m,"-").concat(y);return(0,D.tZ)(o.Fragment,null,(0,D.tZ)(MarginMaintenanceDotsPattern,{height:m,id:f,width:m,y:d(l)}),(0,D.tZ)(b.uN,(0,r.Z)({},g,{baselineY:a,data:t,fill:"url(#".concat(f,")"),getX:i,scaleX:u,scaleY:d,toplineY:l})))}}var L,A,F=n(75790),N=n(93284),B=n(32402),j=n.n(B);const H=(()=>{const e=n(27378),t=e.lazy((()=>n.e(34168).then(n.t.bind(n,5869,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})();function MarginMaintenanceCard_MarginMaintenanceCard(e){let{marginMaintenance:t,scaleY:n}=e;const r=n(t);return(0,D.tZ)("div",{className:j().marginMaintenanceCard,style:{top:"".concat(r,"px")}},(0,D.tZ)(H,{className:j().exclamationIcon}),(0,D.tZ)(F.Z,{className:j().card},L||(L=(0,D.tZ)("header",null,(0,D.tZ)("h4",null,(0,D.tZ)(N.DH,{id:"Margin Maintenance Line",status:"legacy"})))),A||(A=(0,D.tZ)("p",null,(0,D.tZ)(N.DH,{id:"Keep your portfolio value above your margin maintenance to avoid a margin call. This line may shift as you buy and sell.",status:"legacy"})))))}const U=(0,S.b)(g(),(e=>(0,d.Range)(0,e).toList())),z=new v.pi,renderMarker=e=>{let{isUnselectedActive:t=!1,isUnselectedInactive:n=!1}=e;return(0,D.tZ)(Marker,{isUnselectedActive:t,isUnselectedInactive:n})},W=o.memo((e=>{const{className:t,currentValue:n,daySpanBaseline:r,enableADT:o,getX:d,height:p,inADTExperiment:g,marginMaintenance:m,onCursorMove:h,shouldAlwaysShow0Volume:S,showExtendedHours:P,small:T,width:w}=e,I=(0,s.n)(a.V.fullExtendedHours),k=g&&T,x=(0,f.Q)(),R=(0,_.eG)({disabled:!k,model:v.zH,params:{now:(new Date).toISOString()}}).result;if(k&&!R)return null;const getY=e=>Number(null==e?void 0:e.openValue),M=!S&&T,L=(0,_.q_)(e.historicals)?e.historicals:z,A=e.hoursForDayHistoricals||v.Y1.getStandardHours((0,O.fi)(new Date(L.open_time||"")));let F,N;k&&(F=null==R?void 0:R.firstTimestamp,N=null==R?void 0:R.lastTimestamp);const B=L.getHistoricalsForDisplay({chartEndDate:N,currentValue:n,cutoffDate:F,extendedCloseTimestamp:null==R?void 0:R.extendedCloseTimestamp,extendedOpenTimestamp:null==R?void 0:R.extendedOpenTimestamp,hide0VolumePoints:M,hours:A,inADTExperiment:g,inFullExtendedHoursExperiment:I,showExtendedHours:P,span:i.DISPLAY_SPAN.DAY}).map((e=>e.set("begins_at",new Date(e.begins_at))));let j=0,H=B;M&&(H=L.getHistoricalsForDisplay({chartEndDate:N,currentValue:n,cutoffDate:F,extendedCloseTimestamp:null==R?void 0:R.extendedCloseTimestamp,extendedOpenTimestamp:null==R?void 0:R.extendedOpenTimestamp,hide0VolumePoints:!1,hours:A,inADTExperiment:g,inFullExtendedHoursExperiment:I,showExtendedHours:P,span:i.DISPLAY_SPAN.DAY}),j=H.size-B.size);let W=i.BOUNDS.REGULAR;L.bounds===i.BOUNDS.LATE_CLOSING_OPTIONS?W=i.BOUNDS.LATE_CLOSING_OPTIONS:g&&P?W=i.BOUNDS.ADT:P&&(W=i.BOUNDS.TRADING);const q=(0,y.N5)(L.interval||i.INTERVAL.TEN_MINUTE),Y=Boolean(m),V=N&&F&&P?N.getTime()-F.getTime():A.totalTradingMs(W),G=g||H?[0,V/q]:[0,V/q-j],K=L.isComplete(A,P),Q=T||K,X=!T&&!K,J=B.findIndex((e=>e.begins_at.getTime()>=Date.parse(A.opens_at||""))),$=L.bounds===i.BOUNDS.LATE_CLOSING_OPTIONS?Date.parse(A.late_option_closes_at||""):Date.parse(A.closes_at||""),ee=B.findIndex((e=>e.begins_at.getTime()>=$));let te="post";-1===J?te="pre":-1===ee&&(te="reg");const ne={overnight:"",post:"",pre:"",reg:""};X&&(ne[te]=Z().active);const re={overnight:"",post:"",pre:"",reg:""};Q?(re.post=Z().active,re.reg=Z().active,re.pre=Z().active,re.overnight=Z().active):re[te]=Z().active,g&&!o&&(re.overnight=Z().overnight,ne.overnight=Z().overnight);let oe=0,ie=V/q;W===i.BOUNDS.TRADING&&(oe=Math.floor((Date.parse(A.opens_at||"")-Date.parse(A.extended_opens_at||""))/q),ie=Math.floor((Date.parse(A.closes_at||"")-Date.parse(A.extended_opens_at||""))/q));const ae=U(G[1]+1),se=(0,D.tZ)(b.hn,{baseline:Y?m:r,className:Z().referenceLine,data:ae,dotSize:1,gap:T?10:0,getX:d,hoverClassName:Z().hovered},(0,D.tZ)(b.db,{className:ne.pre}),(0,D.tZ)(b.db,{className:ne.reg,offsetIndex:oe}),(0,D.tZ)(b.db,{className:ne.post,offsetIndex:ie+1}));let le,ce;if(L.bounds!==i.BOUNDS.LATE_CLOSING_OPTIONS&&T){const e=createSessionInfo(B),t=createSessionInfo(H);if(g&&o&&x){const getXOverride=(n,r)=>(r-e[e.length-1].offsetIndex)*(H.count()-1-t[t.length-1].offsetIndex)/(B.count()-1-e[e.length-1].offsetIndex)+t[t.length-1].offsetIndex,n=B.last(),o=getXOverride(n,B.count()),i=getY(n),a=(0,c.extent)([...(0,C.vH)(B,(e=>Number(e.openValue))),r]),s=(0,u.scaleLinear)().domain(G).range([0,w]),l=(0,u.scaleLinear)().domain(a).range([p,0]);ce=(0,D.tZ)(b._E,{x:s(o),y:l(i)})}le=(0,D.tZ)(b.hn,{className:Z().sparkline,data:B,getX:d,getY,hoverClassName:Z().hovered,name:"sparkline",renderMarker},e.map(((n,r)=>{const o=e[r+1]?e[r+1].offsetIndex:B.count()-1,i=t[r+1]?t[r+1].offsetIndex:H.count()-1,a=e[r].offsetIndex,s=t[r].offsetIndex;return(0,D.tZ)(b.x1,{key:"".concat(n.session,"|").concat(n.offsetIndex),className:re[n.session],offsetIndex:n.offsetIndex,overrideGetX:(e,t)=>(t-a)*(i-s)/(o-a)+s})})))}else le=(0,D.tZ)(b.hn,{className:Z().sparkline,data:B,getX:d,getY,hoverClassName:Z().hovered,name:"sparkline",renderMarker},(0,D.tZ)(b.x1,{className:re.pre}),-1!==J&&(0,D.tZ)(b.x1,{className:re.reg,offsetIndex:J}),-1!==ee&&(0,D.tZ)(b.x1,{className:re.post,offsetIndex:ee}));let ue,de,pe=(0,c.extent)([...(0,C.vH)(B,(e=>Number(e.openValue))),r]);if(Y&&void 0!==m){pe=(0,c.extent)([...pe,m]);const e=(0,u.scaleLinear)().domain(G).range([0,w]),t=(0,u.scaleLinear)().domain(pe).range([p,0]);ue=(0,D.tZ)(MarginMaintenanceArea_MarginMaintenanceArea,{data:B,domain:G,getX:d,getY,height:p,marginMaintenance:m,range:pe,scaleX:e,scaleY:t,width:w}),de=(0,D.tZ)(MarginMaintenanceCard_MarginMaintenanceCard,{marginMaintenance:m,scaleY:t})}const ge=(0,l.cx)(t,Z().segmented,{[Z().marginMaintenance]:Y});return(0,D.tZ)(PriceGraph,{className:ge,domain:G,height:p,onCursorMove:h,range:pe,renderCursorLabel:e=>(0,D.tZ)(E.jt,e),small:T,width:w},ue,se,le,ce,de)}),((e,t)=>t.historicals===e.historicals&&t.currentValue===e.currentValue&&t.enableADT===e.enableADT&&t.inADTExperiment===e.inADTExperiment&&t.shouldAlwaysShow0Volume===e.shouldAlwaysShow0Volume&&t.marginMaintenance===e.marginMaintenance&&t.showExtendedHours===e.showExtendedHours&&t.height===e.height&&t.width===e.width)),q=(0,m.connect)((e=>({hoursForDayHistoricals:(0,h.V4)(e)})))(W);function createSessionInfo(e){const t=[];if(e.count()>0){const n=e.get(0);t.push({offsetIndex:0,session:null==n?void 0:n.session})}for(let n=0;n<e.count()-1;n+=1){const r=e.get(n),o=e.get(n+1);(null==r?void 0:r.session)===(null==o?void 0:o.session)||"overnight"!==(null==o?void 0:o.session)&&"overnight"!==(null==r?void 0:r.session)||t.push({offsetIndex:n+1,session:null==o?void 0:o.session})}return t}var Y=n(63620);function getAvailableStartIndex(e){let{availableDate:t,data:n,span:r}=e;if(t){const isPreAvailableHistorical=e=>!!t&&(e.endsAt?new Date(e.endsAt)<t:new Date(e.begins_at)<t);let e=Math.max(n.toSeq().takeWhile(isPreAvailableHistorical).count()-1,0);return 0!==e&&[i.DISPLAY_SPAN.THREE_MONTH,i.DISPLAY_SPAN.YEAR,i.DISPLAY_SPAN.FIVE_YEAR].includes(r)&&(e-=1),e}return 0}const getMax=(e,t)=>t&&t>e?t:e,getMin=(e,t)=>t?t>e?e:t:e;const getY=e=>Number(e.closeValue),V=o.memo((function _DefaultHistoricalsGraph(e){var t;let{availableDate:n,className:r,currentValue:o,getX:s,height:c,historicals:u,historicalsCutoffDate:d,onCursorMove:p,small:g,span:m,width:f}=e,v=u.getHistoricalsForDisplay({currentValue:o,span:m}).map((e=>e.set("begins_at",new Date(e.begins_at))));d&&(v=v.skipUntil((e=>e.begins_at>=d)));const h=getAvailableStartIndex({availableDate:n,data:v,span:m}),_=function getCursorLabelComponent(e,t,n){if(e===i.INTERVAL.WEEK)return E.E4;const r=(0,y.N5)(e);if(void 0===r)return E.a2;const[o,a]=t;return(o&&a?(0,y.yC)(o,a):0)>1?r<Y.DAY_MS?E.je:E.a2:r<Y.MINUTE_MS?n===i.BOUNDS.TWENTY_FOUR_SEVEN?E.jN:E.c3:r<Y.HOUR_MS?n===i.BOUNDS.TWENTY_FOUR_SEVEN?E.R1:E.jt:r<Y.DAY_MS?E.je:E.a2}(u.interval,function getDateRange(e){return e.reduce(((e,t)=>{let[n,r]=e;const o=t.begins_at;return[getMin(o,n),getMax(o,r)]}),[])}(v),u.bounds),O=function getDomain(e){let{dataPoints:t,historicals:n}=e;if(n.span===i.DISPLAY_SPAN.DAY&&n.bounds===i.BOUNDS.TWENTY_FOUR_SEVEN){const e=(0,y.N5)(n.interval);if(e)return[0,Math.round(Y.DAY_MS/e)]}return[0,t.count()-1]}({dataPoints:v,historicals:u}),S=(0,C.vH)(v,(e=>Number(e.closeValue)));return(0,D.tZ)(a.$e,{name:"control"},(0,D.tZ)(PriceGraph,{className:r,domain:O,height:c,onCursorMove:p,range:S,renderCursorLabel:e=>{if(!e.sparkline||!e.sparkline.d)return null;const r=e.sparkline.d.endsAt||e.sparkline.d.begins_at;return void 0!==n&&r<n?t||(t=(0,D.tZ)(E.DC,{availableDate:n})):(0,D.tZ)(_,e)},small:g,width:f},(0,D.tZ)(b.hn,{data:v,getX:s,getY,name:"sparkline",renderMarker:e=>{let{isUnselectedActive:t=!1,isUnselectedInactive:r=!1,x:o}=e;return(0,D.tZ)(Marker,{isUnavailable:Boolean(n&&o<s(v.get(h),h)),isUnselectedActive:t,isUnselectedInactive:r})}},(0,D.tZ)(b.x1,{className:(0,l.cx)(Z().sparkline,Z().unavailable)}),(0,D.tZ)(b.x1,{className:(0,l.cx)(Z().sparkline,Z().active),offsetIndex:h}))))}),((e,t)=>t.historicals===e.historicals&&t.currentValue===e.currentValue&&t.historicalsCutoffDate===e.historicalsCutoffDate&&t.height===e.height&&t.width===e.width&&t.span===e.span));var G=n(64649);class WeekHistoricalsGraph extends o.Component{constructor(){super(...arguments),(0,G.Z)(this,"getY",(e=>Number(e.closeValue)))}shouldComponentUpdate(e){return e.historicals!==this.props.historicals||e.currentValue!==this.props.currentValue||e.height!==this.props.height||e.width!==this.props.width||e.span!==this.props.span}render(){var e;const{availableDate:t,className:n,currentValue:r,direction:o,getX:a,height:s,historicals:c,onCursorMove:u,small:d,span:p,width:g}=this.props,m=c.getHistoricalsForDisplay({currentValue:r,span:p}).map((e=>e.set("begins_at",new Date(e.begins_at)))),y=[0,m.count()-1],f=(0,C.vH)(m,(e=>Number(e.closeValue))),v=getAvailableStartIndex({availableDate:t,data:m,span:p}),h=function getDaySplitIndices(e){let{bounds:t,data:n}=e;const r=[0];return n.toSeq().groupBy((e=>e.begins_at.getUTCDate())).sortBy((e=>e.first().begins_at)).skipLast(1).valueSeq().forEach(((e,t)=>{r.push(r[t]+e.count())})),t!==i.BOUNDS.TWENTY_FOUR_SEVEN&&r.length>5&&r.splice(5),r}({bounds:c.bounds,data:m.slice(v)}),_=[(0,D.tZ)(b.x1,{key:"unavailable",className:Z().unavailable}),...h.map(((e,t)=>(0,D.tZ)(b.x1,{key:t,className:Z().active,offsetIndex:e+v})))],O=(0,l.cx)(n,Z().segmented);return(0,D.tZ)(PriceGraph,{className:O,direction:o,domain:y,height:s,onCursorMove:u,range:f,renderCursorLabel:n=>{if(!n.sparkline||!n.sparkline.d)return null;const r=n.sparkline.d.begins_at;return void 0!==t&&"string"!=typeof r&&r<t?e||(e=(0,D.tZ)(E.DC,{availableDate:t})):c.bounds===i.BOUNDS.TWENTY_FOUR_SEVEN?(0,D.tZ)(E.Wq,n):(0,D.tZ)(E.je,n)},small:d,width:g},(0,D.tZ)(b.hn,{className:Z().sparkline,data:m,getX:a,getY:this.getY,hoverClassName:Z().hovered,name:"sparkline",renderMarker:e=>{let{isUnselectedActive:n=!1,isUnselectedInactive:r=!1,x:o}=e;const i=Boolean(t&&o<a(m.get(v),v));return(0,D.tZ)(Marker,{isUnavailable:i,isUnselectedActive:n,isUnselectedInactive:r})}},_))}}const getX=(e,t)=>t;function HistoricalsGraph_HistoricalsGraph(e){const{shouldAlwaysShow0Volume:t=!1,showExtendedHours:n,span:o}=e,l=(0,s.n)(a.V.adt)||!1,c=(0,s.n)(a.V.adtChartInternal)||!1;switch(o){case i.DISPLAY_SPAN.DAY:return(0,D.tZ)(q,(0,r.Z)({},e,{enableADT:e.enableADT||!1,getX,inADTExperiment:l||c,shouldAlwaysShow0Volume:t,showExtendedHours:!!n}));case i.DISPLAY_SPAN.WEEK:return(0,D.tZ)(WeekHistoricalsGraph,(0,r.Z)({},e,{getX}));default:return(0,D.tZ)(V,(0,r.Z)({},e,{getX}))}}},60514:(e,t,n)=>{"use strict";n.d(t,{d:()=>QuoteHistoricalsGraph});n(27378);var r=n(5310),o=n(38978),i=n(55155),a=n(76884),s=n(97108),l=n(10043);function QuoteHistoricalsGraph(e){var t;let{enableADT:n,height:c,historicals:u,isPreMarketSession:d,quote:p,small:g,span:m,width:y}=e;const f=p.getDirectionForSpan({historicals:u,span:m})||"up",v=Number(null!==(t=p.marketPrice)&&void 0!==t?t:0),[h]=(0,a.Cw)();return!h.showExtendedHours&&d?null:(0,l.tZ)("div",null,(0,l.tZ)(r.p,{color:"up"===f?o.E1.Positive:o.E1.Negative},(e=>{let{rootClassName:t}=e;return(0,l.tZ)("div",{className:t},(0,l.tZ)(s.A,{currentValue:v,daySpanBaseline:Number(p.getBaselineValueForSpan({historicals:u,span:i.DISPLAY_SPAN.DAY})),enableADT:n,height:c,historicals:u,showExtendedHours:h.showExtendedHours,small:g,span:m,width:y}))})))}},95525:(e,t,n)=>{"use strict";n.d(t,{S:()=>ProspectusArea});var r=n(10043),o=n(27378),i=n(61096),a=n(93284),s=n(50169),l=n(92621);function ProspectusArea(e){var t;let{customLabel:n,etpDetails:c,instrumentId:u}=e;const d=(0,a.og)(),p=(0,o.useCallback)((()=>{u&&(0,l.iC)(u)}),[u]);return null!=c&&null!==(t=c.documents)&&void 0!==t&&t.prospectus?(0,r.tZ)("div",{css:(0,r.iv)({marginTop:s.q3},"")},(0,r.tZ)(i.A,{href:c.documents.prospectus,isLegacyStyle:!0,label:null!=n?n:d.formatMessage({defaultMessage:"View Prospectus and Reports",id:"StockDetailPage.AboutSection.ProspectusAndReports",status:"legacy"}),onClick:p,target:"_blank",type:"anchor"})):null}},92621:(e,t,n)=>{"use strict";n.d(t,{AR:()=>logPositionSectionAppear,Bh:()=>logETPSectorBlockTap,DQ:()=>logETPSectorSectionDisappear,DS:()=>logETPConstituentsSectionAppear,F2:()=>logPeopleAlsoOwnDisappear,FL:()=>logETPSectorTableTap,Hk:()=>logEarningsDisappear,Jl:()=>getStockNewsfeedScreenAppearEventData,L5:()=>logETPConstituentsSectionDisapper,LG:()=>logStockDetailPageShowMoreNews,Lp:()=>s,MK:()=>logEDPPerformanceAppear,NB:()=>logStockDetailScroll,Op:()=>logEarningsAppear,Sc:()=>logStatsAppear,VN:()=>logPeopleAlsoOwnTap,Wo:()=>logETPSectorSectionAppear,X7:()=>logResearchReportAppear,_h:()=>logStockNewsfeedViewNewsArticle,aL:()=>logChartSpanTap,al:()=>logChartSectionAppear,dR:()=>logStatsDisappear,gE:()=>logETPHoldingTap,gJ:()=>logETPHoldingSectionDisappear,iC:()=>logProspectusTap,jj:()=>logPositionSectionDisappear,om:()=>logResearchReportDisappear,u8:()=>logPeopleAlsoOwnAppear,vk:()=>logStockDetailPageViewNewsArticle,wH:()=>logResearchReportTap,wR:()=>logChartSectionDisappear,y5:()=>logETPHoldingSectionAppear});var r=n(55155),o=n(84974),i=n(22903),a=n(49569);function getStockNewsfeedScreenAppearEventData(e){return{screen_description:e,screen_name:"STOCK_NEWSFEED"}}const stockDetailPageScreenData=e=>({identifier:e,name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}),s={component:{component_type:a.t.event_logging.Component.ComponentType.BOTTOM_SHEET,identifier:"adt-instrument-info"},screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}},logStockDetailPageShowMoreNews=e=>{i.c.logClickEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.VIEW_STOCK_DETAIL_PAGE,component:{component_type:a.t.event_logging.Component.ComponentType.BUTTON},screen:stockDetailPageScreenData(e)})},logStockDetailPageViewNewsArticle=(e,t,n,r,s)=>{i.c.logClickEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.VIEW_NEWS_ARTICLE,component:{component_type:a.t.event_logging.Component.ComponentType.NEWS_ROW},context:{item_position:s,news_feed_item:{content_type:a.t.event_logging.NewsFeedItem.ContentType.REGULAR_ARTICLE,media_type:"image"===n?a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_IMAGE:a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_NONE,source:r,unique_identifier:t}},screen:stockDetailPageScreenData(e)})},logStockNewsfeedViewNewsArticle=(e,t,n,r,s)=>{var l;i.c.logClickEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.VIEW_NEWS_ARTICLE,component:{component_type:a.t.event_logging.Component.ComponentType.NEWS_ROW},context:{item_position:s,news_feed_item:{content_type:a.t.event_logging.NewsFeedItem.ContentType.REGULAR_ARTICLE,media_type:"image"===n?a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_IMAGE:a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_NONE,source:r,unique_identifier:t}},screen:(l=e,{identifier:l,name:a.t.event_logging.Screen.Name.STOCK_NEWSFEED})})};function logEDPPerformanceAppear(e){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.PERFORMANCE_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logStatsAppear(e){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.STATS_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logStatsDisappear(e,t){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.STATS_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logProspectusTap(e){i.c.logTapEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.LINK_BUTTON},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logResearchReportAppear(e){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.RESEARCH_REPORT_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logResearchReportDisappear(e,t){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.RESEARCH_REPORT_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logPositionSectionAppear(e){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.POSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logPositionSectionDisappear(e,t){i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.POSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logResearchReportTap(e){i.c.logTapEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.RESEARCH_REPORT_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logStockDetailScroll(e){i.c.logUserInteractionEvent(o.YB,{context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.SCROLL,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPConstituentsSectionAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPConstituentsSectionDisapper(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPSectorSectionAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.SECTORS}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPSectorSectionDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.SECTORS},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPHoldingSectionAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.HOLDINGS}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPHoldingSectionDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.HOLDINGS},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPSectorBlockTap(e,t){i.c.logTapEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.SCRUB_GRAPH,component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.SECTORS,sector:t}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPSectorTableTap(e,t){i.c.logTapEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.TAP_ETP_ITEM,component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.SECTORS,sector:t}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logETPHoldingTap(e,t,n){i.c.logTapEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.ETP_COMPOSITION_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:n},etp_composition_context:{composition_type:a.t.event_logging.EtpCompositionContext.CompositionType.HOLDINGS,instrument_id:e,sector:t}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function getProtoSpanFromDisplay(e){const t=a.t.event_logging.GraphContext.Interval;if(e===r.DISPLAY_SPAN.HOUR)return t.HOUR;if(e===r.DISPLAY_SPAN.DAY)return t.DAY;if(e===r.DISPLAY_SPAN.WEEK)return t.WEEK;if(e===r.DISPLAY_SPAN.YEAR)return t.YEAR;if(e===r.DISPLAY_SPAN.MONTH)return t.MONTH;if(e===r.DISPLAY_SPAN.THREE_MONTH)return t.THREE_MONTHS;if(e===r.DISPLAY_SPAN.FIVE_YEAR)return t.FIVE_YEARS;if(e===r.DISPLAY_SPAN.ALL)return t.ALL;throw new Error("Unsupported span ".concat(e," for logging"))}function logChartSpanTap(e,t){t&&i.c.logTapEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.CHANGE_GRAPH_INTERVAL,component:{component_type:a.t.event_logging.Component.ComponentType.GRAPH_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},graph_context:{interval:getProtoSpanFromDisplay(e)}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logEarningsAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.EARNINGS_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logEarningsDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.EARNINGS_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logPeopleAlsoOwnTap(e){e&&i.c.logTapEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.PEOPLE_ALSO_VIEW_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logPeopleAlsoOwnAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.PEOPLE_ALSO_VIEW_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logPeopleAlsoOwnDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.PEOPLE_ALSO_VIEW_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logChartSectionAppear(e){e&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.GRAPH_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:e}},event_type:a.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}function logChartSectionDisappear(e,t){t&&i.c.logUserInteractionEvent(o.YB,{component:{component_type:a.t.event_logging.Component.ComponentType.EARNINGS_SECTION},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},time_spent:e},event_type:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:a.t.event_logging.Screen.Name.STOCK_DETAIL_PAGE}})}},76884:(e,t,n)=>{"use strict";n.d(t,{Cw:()=>useChartSettings,hl:()=>useShowChartExpandChip,xK:()=>useShowChartSettings});var r=n(23104),o=n(10959),i=n(67895),a=n(20670);const s={showExtendedHours:!0},l={showExtendedHours:!0};function useChartSettings(){const e=(0,r.useSelector)(i.d),[t,n]=(0,a.V)("chart_settings_v1",s);return e?[t,n]:[l,()=>{}]}function useShowChartSettings(){return!!(0,r.useSelector)(i.d)&&!(!(0,o.LX)(location.pathname,{exact:!0,path:"/stocks/:id"})&&!(0,o.LX)(location.pathname,{exact:!0,path:"/options/chains/:id"}))}function useShowChartExpandChip(){return!!(0,r.useSelector)(i.d)&&!(!(0,o.LX)(location.pathname,{exact:!0,path:"/stocks/:id"})&&!(0,o.LX)(location.pathname,{exact:!0,path:"/crypto/:id"}))}},26797:(e,t,n)=>{"use strict";n.d(t,{O:()=>useIPOQuotePrice});var r=n(25718),o=n(93284);function useIPOQuotePrice(e){const t=(0,o.og)();return e?e.finalized_price?(0,r.T4)(e.finalized_price,{intl:t}):e.lower_price_range&&e.upper_price_range?t.formatMessage({defaultMessage:"{lowerPriceRange} - {upperPriceRange}",id:"IPOAccessValue.Range",status:"legacy"},{lowerPriceRange:(0,r.T4)(e.lower_price_range,{intl:t}),upperPriceRange:(0,r.T4)(e.upper_price_range,{intl:t})}):(0,r.T4)(e.estimated_price?e.estimated_price:null,{intl:t}):(0,r.T4)(null,{intl:t})}},61755:(e,t,n)=>{"use strict";n.d(t,{Q:()=>useIs24HoursSelector});var r=n(23104),o=n(93816);function useIs24HoursSelector(){return(0,r.useSelector)(o.nW)}},38967:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r,o,i=n(64649),a=n(12633),s=n(91906);const l={amount:null,id:""};let c=(0,a.OF)((o=class TaxInfoWithheldAmountRecord extends((0,s.A)(l,"TaxInfoWithheldAmount")){static url(e){return this.queryUrl(e)}},(0,i.Z)(o,"urlPath","/tax_info/withheld_amount/"),(0,i.Z)(o,"idField","id"),r=o))||r},94941:(e,t,n)=>{"use strict";n.d(t,{W:()=>y});var r=n(53782),o=n(64649),i=n(34051),a=n(68891),s=n(73367),l=n(12633),c=n(91906),u=n(91828),d=n(87566);const p=["accountNumber"];var g,m;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let y=(0,l.OF)((m=class PerformanceChartRecord extends((0,c.A)({benchmark_ids:"",chart_style:u.SY.PERFORMANCE,chart_type:u.L0.HISTORICAL_PORTFOLIO,default_display:{},display_span:"",fills:{},id:"",lines:{},overlays:{},page_direction:s.Direction.Up,spans:{}},"PerformanceChartRecord")){static url(e){let{accountNumber:t}=e,n=(0,r.Z)(e,p);const o=(0,a.stringify)(_objectSpread({},n)),i=this.baseUrl+this.urlPath.replace("{account_number}",t);return"".concat(i,"?").concat(o)}constructor(e){if(e&&e.lines){const t=e.lines.map((e=>{const t=e.segments.map((e=>_objectSpread(_objectSpread({},e),{},{points:(0,i.List)(e.points.map((e=>new d.J(e))))})));return{direction:e.direction,identifier:null==e?void 0:e.identifier,segments:t}}));super({benchmark_ids:e.benchmark_ids,chart_style:e.chart_style,chart_type:e.chart_type,default_display:e.default_display,display_span:e.display_span,fills:e.fills,id:e.id,lines:t,overlays:e.overlays,page_direction:e.page_direction,spans:e.spans})}else super({})}},(0,o.Z)(m,"urlPath","/portfolio/performance/{account_number}"),(0,o.Z)(m,"idField",(e=>e.id)),(0,o.Z)(m,"refresh",5e3),(0,o.Z)(m,"backgroundRefresh",3e4),g=m))||g},57617:(e,t,n)=>{"use strict";n.d(t,{E:()=>m});var r=n(53782),o=n(64649),i=n(34051),a=n(68891),s=n(73367),l=n(12633),c=n(91906),u=n(87566);const d=["accountId"];var p,g;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let m=(0,l.OF)((g=class PortfolioSparklineRecord extends((0,c.A)({default_display:{},display_span:"",fills:{},id:"",lines:{},overlays:{},page_direction:s.Direction.Up},"PortfolioSparklineRecord")){static url(e){let{accountId:t}=e,n=(0,r.Z)(e,d);const o=(0,a.stringify)(_objectSpread({},n)),i=this.baseUrl+this.urlPath.replace("{account_id}",t);return"".concat(i,"?").concat(o)}constructor(e){if(e&&e.lines){const t=e.lines.map((e=>{const t=e.segments.map((e=>_objectSpread(_objectSpread({},e),{},{points:(0,i.List)(e.points.map((e=>new u.J(e))))})));return{direction:e.direction,identifier:null==e?void 0:e.identifier,segments:t}}));super({default_display:e.default_display,display_span:e.display_span,fills:e.fills,id:e.id,lines:t,overlays:e.overlays,page_direction:e.page_direction})}else super({})}},(0,o.Z)(g,"urlPath","/portfolio/{account_id}/historical-chart/"),(0,o.Z)(g,"idField",(e=>e.id)),(0,o.Z)(g,"refresh",5e3),(0,o.Z)(g,"backgroundRefresh",3e4),p=g))||p},74247:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r,o,i=n(64649),a=n(68891),s=n(55155),l=n(12633),c=n(91906);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let u=(0,l.OF)((o=class StockAdvancedChartRecord extends((0,c.A)({charts:[],current_platform:null,display_span:s.DISPLAY_SPAN.DAY,hide_extended_hours:!1,id:"",instrument_id:"",legend_data:{},sdui_component_type:null,skip_compatibility_check:null,technical_indicator_configs:[],x_axis:null,y_axis:null},"StockAdvancedChartRecord")){static url(e){let{display_span:t,hide_extended_hours:n,indicators:r,instrumentId:o,show_candlesticks:i}=e;const s=(0,a.stringify)({display_span:t,hide_extended_hours:n,indicators:r,show_candlesticks:i}),l=this.baseUrl+this.urlPath.replace("{instrument_id}",o);return"".concat(l,"?").concat(s)}static _onResponseHeader(e){const t=1e3*(parseInt(e["x-poll-interval"],10)||300);t>0&&t!==this.refresh&&(this.refresh=t)}static _transformNetworkResponse(e,t){let{urlParams:n}=t;return _objectSpread(_objectSpread({},e),{},{id:"".concat(n.instrumentId,"-").concat(n.display_span,"-").concat(n.show_candlesticks,"-").concat(n.hide_extended_hours,"-").concat(n.indicators)})}},(0,i.Z)(o,"urlPath","/instruments/{instrument_id}/stock-advanced-chart/"),(0,i.Z)(o,"refresh",2e3),r=o))||r},45025:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var r,o,i=n(64649),a=n(12633),s=n(91906);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let l=(0,a.OF)((o=class StockAdvancedChartConfigRecord extends((0,s.A)({id:"",indicators:[]},"StockAdvancedChartConfigRecord")){static _transformNetworkResponse(e){return _objectSpread(_objectSpread({},e),{},{id:JSON.stringify(e.indicators)})}},(0,i.Z)(o,"urlPath","/instruments/stock-advanced-chart-config/"),r=o))||r},61987:(e,t,n)=>{"use strict";n.d(t,{TD:()=>_,DY:()=>v,EJ:()=>h.E,rL:()=>b.r,il:()=>m});var r=n(53782),o=n(64649),i=n(34051),a=n(68891),s=n(73367),l=n(12633),c=n(91906),u=n(87566);const d=["include_inactive","instrumentId","symbol"];var p,g;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let m=(0,l.OF)((g=class StockDetailLiveUpdatingRecord extends((0,c.A)({account_number:"",chart_section:{default_display:{primary_value:{color:{dark:"unknown",light:"unknown"},value:""}},display_span:"",fills:[],id:"",lines:[],overlays:[],page_direction:s.Direction.Up},display_span:"",hide_extended_hours:!1,instrument_id:"",show_candlesticks:!1},"EquityHistoricalsSparklineRecord")){static url(e){let{include_inactive:t,instrumentId:n,symbol:o}=e,i=(0,r.Z)(e,d);const s=(0,a.stringify)(_objectSpread({include_inactive:t},i)),l=this.baseUrl+this.urlPath.replace("{instrument_id}",n);return"".concat(l,"?").concat(s)}constructor(e){if(e){let t=[];const n=e.chart_section.chart;return n&&n.lines&&n.lines.length>0&&(t=n.lines.map((e=>{const t=e.segments.map((e=>_objectSpread(_objectSpread({},e),{},{points:(0,i.List)(e.points.map((e=>new u.J(e))))})));return{direction:e.direction,segments:t}}))),void super({chart_section:{default_display:e.chart_section.default_display,display_span:e.chart_section.display_span,id:e.chart_section.id,lines:t,overlays:e.chart_section.overlays,page_direction:e.chart_section.page_direction},display_span:e.display_span,hide_extended_hours:e.hide_extended_hours,instrument_id:e.instrument_id,show_candlesticks:e.show_candlesticks})}super({})}},(0,o.Z)(g,"urlPath","/instruments/{instrument_id}/detail-page-live-updating-data/"),(0,o.Z)(g,"idField",(e=>"".concat(e.instrument_id,"|").concat(e.display_span,"|").concat(e.hide_extended_hours,"|").concat(e.show_candlesticks))),(0,o.Z)(g,"refresh",1e3),(0,o.Z)(g,"backgroundRefresh",3e4),p=g))||p;var y,f;function PortfolioSpanRecord_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PortfolioSpanRecord_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PortfolioSpanRecord_ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PortfolioSpanRecord_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let v=(0,l.OF)((f=class PortfolioSpanRecord extends((0,c.A)({available_spans:[],default_selected_index:0,id:"id"},"PortfolioSpanRecord")){static _transformNetworkResponse(e){return PortfolioSpanRecord_objectSpread(PortfolioSpanRecord_objectSpread({},e),{},{id:"PortfolioAvailableSpans"})}},(0,o.Z)(f,"idField","id"),(0,o.Z)(f,"urlPath","/portfolio/historical-chart/available-spans/"),(0,o.Z)(f,"refresh",3e4),y=f))||y;var h=n(57617);let _;!function(e){e.DOTTED="dotted",e.SOLID="solid"}(_||(_={}));n(74247);var b=n(45025)},91828:(e,t,n)=>{"use strict";let r,o,i;n.d(t,{B4:()=>i,L0:()=>o,SY:()=>r}),function(e){e.PERFORMANCE="PERFORMANCE",e.CONTRIBUTION="CONTRIBUTION"}(r||(r={})),function(e){e.HISTORICAL_PORTFOLIO="historical_portfolio",e.CRYPTO="crypto"}(o||(o={})),function(e){e.RETURNS="returns",e.CONTRIBUTIONS="contributions",e.MARGIN="margin"}(i||(i={}))},87566:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r,o=n(34051);let i=(0,n(12633).gC)(r=class SparklineDataPointRecord extends((0,o.Record)({cursor_data:{},x:0,y:0},"SparklineDataPointRecord")){})||r},14596:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var r,o,i=n(64649),a=n(67871),s=n(21881),l=n(70720),c=n(12633);let u=(0,c.OF)((o=class MediaServiceImageBinaryRecord extends((0,c.sr)({id:"",localObjectUrl:null},"MediaServiceImageBinaryRecord")){static _transformNetworkResponse(e,t){let{urlParams:n={id:void 0}}=t;return{id:n.id,localObjectUrl:e?URL.createObjectURL(e):null}}static modelRecordDidPurge(e){e.localObjectUrl&&URL.revokeObjectURL(e.localObjectUrl)}get url(){return MediaServiceImageBinaryRecord.url(this)}static url(e){return"".concat(this.urlRoot).concat(e.id)}},(0,i.Z)(o,"baseUrl","".concat(l.eR,"/media/image/")),(0,i.Z)(o,"agent",(0,s.x_)().use(a.bE).use((e=>e.responseType("blob")))),r=o))||r},37050:(e,t,n)=>{"use strict";n.d(t,{h:()=>PlaidOAuthRedirect});n(27378);var r,o=n(10959),i=n(23145),a=n(51603),s=n(10043);function PlaidOAuthRedirect(){const e=(0,a.oW)(),t=(0,i.Kb)(),n=e.location.href;switch(t){case i.xu.BANKING:return(0,s.tZ)(o.l_,{to:{pathname:"/account/transfers",state:{plaidReceivedRedirectURI:n}}});case i.xu.ONBOARDING:return(0,s.tZ)(o.l_,{to:{pathname:"/funding/plaid",state:{plaidReceivedRedirectURI:n}}});default:return r||(r=(0,s.tZ)(o.l_,{to:"/"}))}}},95012:(e,t,n)=>{"use strict";n.d(t,{H:()=>SiteHeader_SiteHeader});var r=n(10043),o=n(64900),i=n(27378),a=n(23104),s=n(38978),l=n(58343),c=n(20132),u=n(67895),d=n(30156),p=n(33175),g=n(64367),m=n(37919),y=n(51603),f=n(92205),v=n(95646),h=n(54322),_=n(53552),b=n(93284),C=n(71744),O=n(68485),S=n(3650),E=n(19975),P=n(97224),Z=n(21675),D=n(84974),T=n(60727);function SiteHeaderLink(e){let{children:t,inProfitLossNavExperiment:n=!1,isActive:o=!1,loggingContext:a,onClick:l,showBadge:c,to:u="#",variant:d="default"}=e;const[p,m]=(0,i.useState)(!1),y=(0,P.CG)(),f=(0,P.SO)();return(0,r.tZ)(g.n,{css:[{borderBottom:"2px solid transparent",boxSizing:"border-box",display:"inline-block",paddingBottom:6,paddingLeft:n?24:0,paddingRight:n?24:0,paddingTop:6,position:"relative"},"transparent"===d&&p&&!o&&{opacity:.6},o&&{borderBottomColor:"transparent"===d?f:y.base},""],onClick:e=>{a&&(0,T.TX)(D.YB,a),l&&l(e)},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),to:u},(0,r.tZ)(Z.Dy.Text,{color:"default"===d&&(p||o)?s.E1.Primary:void 0,isBold:!0,size:"S"},t),c&&(0,r.tZ)("div",{css:[{background:s.ZV.semantic.primary.base,borderRadius:"50%",height:"6px",position:"absolute",right:"-8px",top:"10px",width:"6px"},""]}))}var w,I,k=n(64649),x=n(4849),R=n(20670),M=n(90431),L=n(31063),A=n(12633),F=n(91906);let N=(0,A.OF)((I=class RetirementPromotionRecord extends((0,F.A)({badge_tab:!1,dialog_title:{},dialog_toolbar_text:"",present_watchlist_dialog:!1,promotion_type:"general_launch"},"RetirementPromotionRecord")){static url(){return this.urlRoot}},(0,k.Z)(I,"urlPath","/retirement_dashboard/promotion"),(0,k.Z)(I,"idField",(()=>"RetirementPromotion")),(0,k.Z)(I,"invalidate",(async e=>{await e.invalidate({model:I})})),(0,k.Z)(I,"refresh",3e4),w=I))||w;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B;const RetirementSiteHeaderLink=e=>{const{inProfitLossNavExperiment:t,variant:n}=e,{didLoad:o,error:a,isCurrentPromoSeen:s,loading:l,onPromoSeen:c}=(()=>{const e=(0,x.n)(d.V.retirementLaunchComms),[t,n]=(0,i.useState)(null),[r,o]=(0,R.V)("retirement-promos-seen","{}"),a=(0,i.useMemo)((()=>JSON.parse(r)),[r]),{error:s,loading:l,result:c}=(0,A.tT)({disabled:!e,model:N,params:void 0});s&&(0,M.G)(s,{},L.q.RETIREMENT,!0),(0,i.useEffect)((()=>{if(c){const{badge_tab:e,promotion_type:r}=c;e&&!a[r]&&null===t&&n(!1),a[r]&&!t&&n(!0)}}),[t,c,a]);const u=(0,i.useCallback)((()=>{if(c&&!t){const e=_objectSpread(_objectSpread({},a),{},{[c.promotion_type]:!0});o(JSON.stringify(e))}}),[a,o,c,t]);return{didLoad:!!c,error:s,isCurrentPromoSeen:t,loading:l,onPromoSeen:u,result:c}})();return l?null:(0,r.tZ)(SiteHeaderLink,{inProfitLossNavExperiment:t,onClick:a||!o?void 0:c,showBadge:a||!o?void 0:!s,to:"/retirement",variant:n},B||(B=(0,r.tZ)(b.DH,{defaultMessage:"Retirement",id:"SiteHeader.AccountNav.Retirement",status:"legacy"})))};var j=n(19364),H=n(25773),U=n(59003),z=n(42925),W=n(65936),q=n(45726),Y=n(14596),V=n(32008),G=n(35002),K=n(20295),Q=n(9593),X=n(67527),J=n(74900),$=n(55727),ee=n(91415),te=n.n(ee);function Label_Label(e){let{icon:t,label:n}=e;return(0,r.tZ)("div",{className:te().label},!!t&&(0,r.tZ)("span",{className:te().iconWrapper},i.cloneElement(t,{className:(0,o.cx)(te().icon,t.props.className)})),n)}var ne,re,oe=n(11397),ie=n(78093),ae=n(71301),se=n(59955),le=n(76312),ce=n(28446),ue=n.n(ce);const de=(()=>{const e=n(27378),t=e.lazy((()=>n.e(79690).then(n.t.bind(n,41315,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),pe=(()=>{const e=n(27378),t=e.lazy((()=>n.e(69574).then(n.t.bind(n,20565,23))));return n=>e.createElement(e.Suspense,{fallback:null},e.createElement(t,n))})(),ge={button:(0,o.css)({name:"1d3w5wq",styles:"width:100%"})},me={applicationStatus:{icon:(0,r.tZ)(G.sg,{color:s.E1.Primary,type:"Disclosures24"}),loggingInfo:{button_group_title:"account_popover",button_title:"application_status"},message:$.s.applicationStatus,url:"/contact?topic_id=account-popover.application-status"},gold:{icon:(0,r.tZ)(de,{css:{name:"u5mh39",styles:"height:24px;width:24px"}}),loggingEventData:{button_group_title:"account_popover",button_title:"gold"},message:$.s.gold,url:"/gold"},logout:{icon:(0,r.tZ)(G.sg,{type:"LogOut24"}),loggingInfo:{button_group_title:"account_popover",button_title:"logout"},message:$.s.logout,url:"/login"},profile:{icon:(0,r.tZ)(pe,{css:(0,r.iv)({fill:(0,P.uI)().fg1,width:24},"")}),loggingInfo:{button_group_title:"account_popover",button_title:"profile"},message:$.s.profile,url:"/profile"}},ye=(0,le.I)((function ApplicationStatusLink(){const e=(0,X.X_)((0,X.S3)((0,se.t)({model:z.IndividualApplicationsRecord})));return e.result&&e.result.state!==Q.tV.APPROVED?(0,r.tZ)(MenuLink,(0,H.Z)({},me.applicationStatus,{overrideClassName:ue().primaryLink})):null}),null),fe=(0,le.I)((function MenuNavLinksImpl(){const e=(0,K.qM)();return(0,r.tZ)(i.Fragment,null,e.map(((e,t)=>"url"in e?(0,r.tZ)(MenuLink,(0,H.Z)({key:e.url},e)):(0,r.tZ)(MenuButton,(0,H.Z)({key:t},e)))))}));function MenuButton(e){let{icon:t,loggingEventData:n,message:i,onClick:a}=e;const{setIsModalOpen:s}=(0,ie.W)();return(0,r.tZ)(oe.k,{className:(0,o.cx)(ue().link,ge.button),loggingInfo:n,onClick:null==a?void 0:a({toggleShortcutModal:()=>s((e=>!e))})},(0,r.tZ)(Label_Label,{icon:t,label:(0,r.tZ)(b.DH,i)}))}function MenuLink(e){let{icon:t,loggingEventData:n,message:i,onClick:a,overrideClassName:s,url:l}=e;return(0,r.tZ)(g.n,{key:l,className:(0,o.cx)(ue().link,s),loggingInfo:n,onClick:a,to:l},(0,r.tZ)(Label_Label,{icon:t,label:(0,r.tZ)(b.DH,i)}))}function Body(e){let{account:t,canUpgradeToGold:n,className:i,logout:a}=e;const s=(0,se.t)({model:J.P});return(0,r.tZ)(ae.$b,{loggingData:{screen_depth:0,screen_description:"account_popover_body",screen_name:"account_popover"}},(0,r.tZ)("div",{className:(0,o.cx)(i,ue().body)},(0,r.tZ)("header",null,s.result&&(0,r.tZ)(Z.Dy.Text,{element:"h3",isBold:!0,size:"M"},(0,r.tZ)(b.DH,s.result.fullNameMessage))),(0,r.tZ)("div",{className:(0,o.cx)(ue().links,ue().accountLinks)},!!t&&!t.isGold&&!!n&&(0,r.tZ)(MenuLink,me.gold),(0,r.tZ)(MenuLink,me.profile),ne||(ne=(0,r.tZ)(fe,null))),(0,r.tZ)("div",{className:ue().links},!t&&(re||(re=(0,r.tZ)(ye,null)))),(0,r.tZ)(MenuLink,(0,H.Z)({},me.logout,{onClick:a,overrideClassName:ue().logout}))))}var ve,he=n(76025),_e=n.n(he);var be={name:"bjn8wh",styles:"position:relative"};function AccountPopover_AccountPopover(e){var t;let{inProfitLossNavExperiment:n,isTransparent:a,logout:c}=e;const u=(0,b.og)(),[d,p]=i.useState(!1),g=i.useRef(null),m=(0,q.F)(),y=null===(t=(0,A.tT)({many:!0,model:z.AccountRecord}).result)||void 0===t?void 0:t.get(0);return(0,r.tZ)("div",{ref:g,css:be},(0,r.tZ)(W.x,{container:g.current,content:(0,r.tZ)(l.J,{color:s.Wt.Fg1},(e=>{let{rootClassName:t}=e;return(0,r.tZ)(Body,{account:y,canUpgradeToGold:m.result,className:t,logout:c})})),isPopoverVisible:d,onPopoverVisibilityChange:p,popoverClassName:(0,o.cx)(ue().popover,_e().fitNavPopoverWithinScreenHeight)},n?(0,r.tZ)(ProfileChip,{href:"/account",label:u.formatMessage({defaultMessage:"Account",id:"AccountNav.AccountPopover.account",status:"legacy"}),type:"anchor"}):(0,r.tZ)(SiteHeaderLink,{isActive:d,loggingContext:{button_group_title:"nav_bar",button_title:"account"},to:"/account",variant:a?"transparent":"default"},ve||(ve=(0,r.tZ)(b.DH,{defaultMessage:"Account",id:"AccountNav.AccountPopover.account",status:"legacy"})))))}function ProfileChip(e){var t,n,o;const i=(0,b.og)(),a=null===(t=(0,A.tT)({model:V.O}).result)||void 0===t||null===(n=t.media)||void 0===n?void 0:n.id,s=(0,A.tT)({disabled:!a,model:Y.l,params:{id:a}});return(0,r.tZ)(U.A,(0,H.Z)({},e,{accessory:null!==(o=s.result)&&void 0!==o&&o.localObjectUrl?{thumbnailAltText:i.formatMessage({defaultMessage:"Customer profile image",id:"AccountNav.AccountPopover.profileImage",status:"legacy"}),thumbnailUrl:s.result.localObjectUrl}:{icon:"Person16"}}))}var Ce,Oe=n(36998),Se=n(3762),Ee=n(33240),Pe=n(26825),Ze=n(50669),De=n(47789);const Te=(0,r.F4)(Ce||(Ce=(0,Ze.Z)(["\n  0% {\n    opacity: 0;\n    transform: scale(0.2);\n  }\n  80% {\n    opacity: 1;\n    transform: scale(1.25);\n  }\n  100% {\n    transform: scale(1);\n  }\n"]))),we={alert:(0,r.iv)({alignItems:"center",animation:"".concat(Te," 300ms"),backgroundColor:s.ZV.semantic.error.base,borderRadius:"50%",display:"flex",height:"16px",justifyContent:"center",position:"absolute",width:"16px"},""),alertPosition:{name:"6lu1d2",styles:"right:-15px;top:-1px"},alertPositionExplorations:{name:"dksrf6",styles:"right:0;top:0"}};function InboxCriticalBadgeIcon(e){let{inProfitLossNavExperiment:t}=e;return(0,r.tZ)("div",{css:[we.alert,t?we.alertPositionExplorations:we.alertPosition,""],"data-testid":"alert-icon"},(0,r.tZ)(G.sg,{color:De.h2.Nova,type:"Exclamation12"}))}var Ie,ke,xe,Re=n(26812),Me=n(14184),Le=n(88883),Ae=n(62066),Fe=n.n(Ae);function InboxNavMenu_InboxNavMenu(e){let{className:t}=e;const n=(0,x.n)(d.V.cxChatSupportOptions),{threads:a}=(0,Pe.W7)();(0,Pe.M$)();const{chatThreadDetails:c,updateImpressionForSeenChat:u}=(0,Me.PZ)(),p=!!c&&n?2:4;return(0,r.tZ)("div",{className:t},n&&c&&(0,r.tZ)(i.Fragment,null,(0,r.tZ)("header",{className:Fe().header},Ie||(Ie=(0,r.tZ)(Z.Dy.Text,{element:"h3",isBold:!0,size:"M"},(0,r.tZ)(b.DH,{defaultMessage:"Your support chats",id:"InboxNavMenu.chatSupportTitle",status:"legacy"})))),(0,r.tZ)(g.n,{className:Fe().threadLinkRow,onClick:()=>{(0,Me.gU)(c.issueId)},to:"".concat(Me.E6,"/").concat(c.issueId)},(0,r.tZ)(Me.Q$,(0,H.Z)({},c,{onSeenClosedChat:u})))),(0,r.tZ)("header",{className:Fe().header},ke||(ke=(0,r.tZ)(Z.Dy.Text,{element:"h3",isBold:!0,size:"M"},(0,r.tZ)(b.DH,{defaultMessage:"Notifications",id:"InboxNavMenu.title",status:"legacy"})))),a.slice(0,p).map((e=>(0,r.tZ)(g.n,{key:e.id,className:Fe().threadLinkRow,onClick:()=>{(0,Re.yq)(e)},to:"/messages/".concat(e.id)},!e.isRead&&(0,r.tZ)("div",{className:Fe().inboxThreadUnreadIndicator}),(0,r.tZ)(Le.V,{thread:e})))),(0,r.tZ)(l.J,{color:s.E1.Primary},(e=>{let{rootClassName:t}=e;return(0,r.tZ)(g.n,{className:(0,o.cx)(Fe().viewAllLink,t),to:"/messages"},xe||(xe=(0,r.tZ)(Z.Dy.Text,{isBold:!0,size:"S"},(0,r.tZ)(b.DH,{defaultMessage:"View All Notifications",id:"InboxNavMenu.viewAllMessages",status:"legacy"}))))})))}var Ne,Be=n(48055),je=n.n(Be);function InboxPopoverLink_InboxPopoverLink(e){let{inProfitLossNavExperiment:t,isTransparent:n}=e;const a=(0,b.og)(),{onSeeUnreadBadge:c,shouldShowCriticalBadge:u,shouldShowUnreadBadge:d}=(0,Pe.$p)(),{hasActiveUnreadChats:p}=(0,Se.Mb)(),g=(0,x.n)(Ee.V.cxChatSupportOptions)&&p,[m,y]=i.useState(!1),f=i.useRef(null),v=d&&!m,h=(u||g)&&!m,_=i.useCallback((e=>{y(e),e&&c()}),[c]);return(0,r.tZ)("div",{ref:f,className:je().inboxPopoverLink},(0,r.tZ)(W.x,{container:f.current,content:(0,r.tZ)(l.J,{color:s.Wt.Fg1},(e=>{let{rootClassName:t}=e;return(0,r.tZ)(InboxNavMenu_InboxNavMenu,{className:t})})),isPopoverVisible:m,onPopoverVisibilityChange:_,popoverClassName:(0,o.cx)(je().popover,_e().fitNavPopoverWithinScreenHeight)},t?(0,r.tZ)(Oe.h,{"aria-label":a.formatMessage({defaultMessage:"Notifications",id:"AccountNav.InboxPopoverLink.label",status:"legacy"}),icon:"Notification16",overrideRootStyles:{borderColor:s.ZV.neutral.bg3,borderRadius:40,borderStyle:"solid",borderWidth:1,height:40,width:40},type:"button"}):(0,r.tZ)(SiteHeaderLink,{isActive:m,to:"/messages",variant:n?"transparent":"default"},Ne||(Ne=(0,r.tZ)(b.DH,{defaultMessage:"Notifications",id:"AccountNav.InboxPopoverLink.label",status:"legacy"})))),h?(0,r.tZ)(InboxCriticalBadgeIcon,{inProfitLossNavExperiment:t}):v&&(0,r.tZ)("div",{className:(0,o.cx)(je().unreadBadge,t?je().unreadBadgePositionExplorations:je().unreadBadgePosition)}))}var He,Ue,ze=n(15373),We=n.n(ze),qe=n(1460),Ye=n(31965),Ve=n(94749),Ge=n(57617);const Ke={container:(0,o.css)({alignItems:"center",backgroundColor:s.ZV.neutral.bg1,border:"1px solid ".concat(s.ZV.neutral.bg3),borderRadius:40,display:"flex",padding:8,position:"relative"},""),text:{paddingLeft:4,paddingRight:4}};function PLStatus(){var e,t,n,o,i,a,l,c;const u=null===(e=(0,A.tT)({many:!0,model:z.AccountRecord}).result)||void 0===e||null===(t=e.get(0))||void 0===t?void 0:t.account_number,d=(0,A.tT)({disabled:!u,model:Ge.E,params:{accountId:u,display_span:Ye.DisplaySpan.Day}}),p=extractGainOrLossFromSDCDisplayText(null===(n=d.result)||void 0===n||null===(o=n.default_display)||void 0===o||null===(i=o.secondary_value)||void 0===i?void 0:i.main),g=extractGainOrLossFromSDCDisplayText(null===(a=d.result)||void 0===a||null===(l=a.default_display)||void 0===l||null===(c=l.tertiary_value)||void 0===c?void 0:c.main),m=p&&g?p.add(g):p||g;if(!m)return He||(He=(0,r.tZ)(Ve.O,{height:40,width:160}));const y=-1===m.s,f=y?s.E1.Negative:s.E1.Positive;return(0,r.tZ)("div",{className:Ke.container},(0,r.tZ)(Z.Dy.Text,{color:s.Wt.Fg1,isBold:!0,overrideRootStyles:Ke.text,size:"S"},Ue||(Ue=(0,r.tZ)(b.DH,{defaultMessage:"Today's Return",id:"AccountNav.PLStatus.label",status:"legacy"}))),(0,r.tZ)(Z.Dy.Text,{color:f,overrideRootStyles:Ke.text,size:"S",useTabularNumbers:!0},(0,r.tZ)(qe.FormattedNumber,{currency:"USD",style:"currency",value:m.abs().toNumber()})),(0,r.tZ)(G.sg,{color:f,type:y?"ArrowDownFill16":"ArrowUpFill16"}))}function extractGainOrLossFromSDCDisplayText(e){if(!e)return null;const t=e.value.match(/^[+-]?\$(\d{1,3}(,\d{3})*(\.\d+)?)\s\([+-]?((\d*\.)?\d+)%\)$/);return t?new(We())("".concat("negative"===e.color.light?"-":"").concat(t[1]).replaceAll(",","")):null}var Qe,Xe,Je,$e,et,tt,nt,rt,ot,it;function AccountNav_AccountNav(e){let{className:t,inProfitLossNavExperiment:n=!1,isTransparent:s}=e;const l=(0,a.useSelector)(u.d),c=(0,E.hT)(O.Pw),d=(0,E.hT)(O.kS),p=(0,S.Ek)(S.h6.CASH_MANAGEMENT),g=s?"transparent":"default";if(l){const e=(0,r.tZ)(InboxPopoverLink_InboxPopoverLink,{inProfitLossNavExperiment:n,isTransparent:s}),a=(0,r.tZ)(AccountPopover_AccountPopover,{inProfitLossNavExperiment:n,isTransparent:s,logout:d}),l=n?(0,r.tZ)("div",{className:(0,o.css)({name:"188w55p",styles:"column-gap:8px;display:flex;flex-direction:row"})},Qe||(Qe=(0,r.tZ)(PLStatus,null)),e,a):(0,r.tZ)(i.Fragment,null,e,a);return(0,r.tZ)("div",{className:(0,o.cx)(t,_e().accountNav,n&&_e().accountNavDesktopWebExplorations)},(0,r.tZ)(SiteHeaderLink,{inProfitLossNavExperiment:n,loggingContext:{button_group_title:"home_page_referral_icon",button_title:"free_stock_nav_link"},to:"/rewards",variant:g},Xe||(Xe=(0,r.tZ)(b.DH,{defaultMessage:"Rewards",id:"SiteHeader.AccountNav.ReferralUpsell.message",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{inProfitLossNavExperiment:n,to:"/",variant:g},Je||(Je=(0,r.tZ)(b.DH,{defaultMessage:"Investing",id:"SiteHeader.AccountNav.Investing",status:"legacy"}))),p&&(0,r.tZ)(SiteHeaderLink,{inProfitLossNavExperiment:n,to:"/cash",variant:g},$e||($e=(0,r.tZ)(b.DH,{defaultMessage:"Spending",id:"SiteHeader.AccountNav.Spending",status:"legacy"}))),(0,r.tZ)(RetirementSiteHeaderLink,{inProfitLossNavExperiment:n,variant:g}),l)}return(0,r.tZ)("div",{className:(0,o.cx)(t,_e().accountNav)},(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"learn"},to:"https://learn.robinhood.com",variant:g},et||(et=(0,r.tZ)(b.DH,{defaultMessage:"Learn",id:"SiteHeader.AccountNav.Learn",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"blog"},to:"https://blog.robinhood.com/",variant:g},tt||(tt=(0,r.tZ)(b.DH,{id:"Blog",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"careers"},to:"https://careers.robinhood.com/",variant:g},nt||(nt=(0,r.tZ)(b.DH,{id:"Careers",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"help"},to:"https://robinhood.com/support",variant:g},rt||(rt=(0,r.tZ)(b.DH,{id:"Help",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"login"},onClick:e=>{e.preventDefault(),c()},variant:g},ot||(ot=(0,r.tZ)(b.DH,{id:"Log In",status:"legacy"}))),(0,r.tZ)(SiteHeaderLink,{loggingContext:{button_group_title:"nav_bar",button_title:"signup"},to:j.y,variant:g},it||(it=(0,r.tZ)(b.DH,{id:"Sign Up",status:"legacy"}))))}var at,st,lt=n(72138),ct=n.n(lt);const ut=64,dt=1,pt=6,gt={borderSeparator:(0,o.css)({borderBottom:"".concat(dt,"px solid ").concat(s.ZV.neutral.bg3),paddingBottom:pt,paddingTop:pt},""),navContent:(0,o.css)({name:"wuljak",styles:"align-items:center;display:flex;flex-direction:row;justify-content:space-between;min-width:1048px;padding-left:24px;padding-right:24px"}),rightNav:(0,o.css)({name:"1blnsxj",styles:"flex-grow:0;flex-shrink:0"}),search:(0,o.css)({name:"qo6qru",styles:"flex-basis:160px;flex-grow:1;flex-shrink:1;max-width:480px;min-width:160px"})};function SiteHeader_SiteHeader(e){var t;let{foregroundColor:n,includeSeparator:s=!1,isMultiTaskingMember:c,isTransparent:g=!1,layout:f="default",logoColorOverride:v}=e;const h=(0,a.useSelector)(u.d),O=function useTransparencyState(e){const[t,n]=(0,i.useState)({isTransitioning:!1,isTransparent:e}),r=(0,i.useRef)();return(0,i.useEffect)((()=>{clearTimeout(r.current);const t=(0,y.oW)();n({isTransitioning:!0,isTransparent:e}),r.current=t.setTimeout((()=>{n({isTransitioning:!1,isTransparent:e})}),300)}),[e]),t}(g),S=!(null===(t=(0,p.E)(d.V.webFutureProfitLoss))||void 0===t||!t.isMember()),E=s&&c,P=(0,o.cx)(ct().siteHeader,!S&&ct()[f],{[ct().includeSeparator]:s&&!c,[gt.borderSeparator]:E,[ct().isTransparent]:O.isTransparent,[ct().isTransitioningTransparency]:O.isTransitioning}),{isStatusBannerOpen:Z,statusBannerHeight:D}=(0,m.El)();let T=ut;Z&&(T+=D),E&&(T+=2*pt+dt),(0,C.Ud)(T);const w=(0,b.og)();return(0,r.tZ)("nav",{"aria-label":w.formatMessage({defaultMessage:"Main",id:"SiteHeader.Navigation",status:"legacy"}),className:P},at||(at=(0,r.tZ)(m.Fg,null)),(0,r.tZ)("div",{className:S?gt.navContent:ct().content,css:(0,r.iv)({height:ut},"")},(0,r.tZ)(l.O,{textColor:n||null},(e=>{let{rootClassName:t}=e;return(0,r.tZ)(HomeLink,{className:t,isLoggedIn:h,isTransparent:O.isTransparent,logoColorOverride:v})})),(0,r.tZ)("div",{className:S?gt.search:ct().searchWrapper},st||(st=(0,r.tZ)(_.o,null))),(0,r.tZ)("div",{className:ct().accountNavWrapper},(0,r.tZ)(l.O,{textColor:n||null},(e=>{let{rootClassName:t}=e;return(0,r.tZ)(AccountNav_AccountNav,{className:t,inProfitLossNavExperiment:S,isTransparent:O.isTransparent})})))))}function HomeLink(e){let{className:t,isLoggedIn:n,isTransparent:a,logoColorOverride:l}=e;const[u,d]=(0,i.useState)(!1),p=(0,r.tZ)(c.T,{color:(a&&l?l:void 0)||(!a&&u?s.E1.Primary:void 0),includeStar:"latest"===f.j.RELEASE_CHANNEL||"local"===f.j.RELEASE_CHANNEL});return(0,r.tZ)(g.n,{className:(0,o.cx)(t,ct().homeLink),css:a&&u&&{opacity:.6},loggingInfo:{button_group_title:"logo",button_title:"logo"},onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},to:n?"/":"https://www.robinhood.com/"},(0,r.tZ)(h.o,{shortcutId:v.N.GLOBAL.GO_HOME},p))}},93126:(e,t,n)=>{"use strict";n.d(t,{b:()=>isValidDeeplink});var r=n(74043),o=n(97930);function isValidDeeplink(e){const t=(0,r.lO)(e),n=o.s.find((e=>e.action===t));return!!n&&(0,r.bh)(e,n)}},27352:(e,t,n)=>{"use strict";n.d(t,{d:()=>S,y:()=>findArticleContent});var r,o=n(64900),i=n(27378),a=n(21675),s=n(76596),l=n(35002),c=n(38978),u=n(26812),d=n(25718),p=n(64367),g=n(45594),m=n(49867),y=n(82188),f=n(63415),v=n(28772),h=n.n(v),_=n(10043);const findArticleContent=e=>{for(const t of e){if(t.content_type===m.z.EmbeddedArticle)return t;if(t.content_type===m.z.Article)return t}return null},Title=e=>{let{children:t,isFullPage:n,variant:r}=e;return"hero"===r?n?(0,_.tZ)(a.Dy.Display,{size:"S"},t):(0,_.tZ)(a.Dy.Text,{isBold:!0,size:"L"},t):(0,_.tZ)(a.Dy.Text,{size:"M"},t)};var b={name:"1vr7vmn",styles:"align-items:center;display:flex"},C={name:"se8hb6",styles:"display:inline-flex;margin-right:4px"},O={name:"se8hb6",styles:"display:inline-flex;margin-right:4px"};const S=i.memo((function _Article(e){let{contentId:t,feedElementId:n,isEmbedded:m,isFullPage:v,loggingContext:S,logoAssetName:E,media:P,previewMedia:Z,previewText:D,publishedAt:T,relatedInstruments:w,source:I,title:k,url:x,variant:R="regular"}=e;const M=i.useMemo((()=>({contentId:t||n,stockDetailInstrumentId:void 0})),[t,n]),L=Z&&Z.url||P&&P.url,A=m?"/news/article/".concat(t):x,F=i.useCallback((()=>{(0,u.PF)(S),(0,g.ES)({contentId:t,isEmbedded:m,isHero:S.isHero,itemPosition:S.feedRank,source:I})}),[t,m,S,I]),N=(0,i.useCallback)((e=>{(0,g.FD)({contentId:t,isEmbedded:m,isHero:S.isHero,itemPosition:S.feedRank,source:I},e)}),[t,m,S.feedRank,S.isHero,I]),B=!!E&&(0,s.zj)(E),j=!!E&&"hero"===R;return(0,_.tZ)("article",{className:(0,o.cx)(h().article,{[h().isFullPage]:v,[h().isHero]:"hero"===R,[h().isHoverable]:!!A})},A&&(0,_.tZ)(p.n,{className:h().clickTarget,onClick:F,rel:"nofollow",to:A}),(0,_.tZ)("div",{className:(0,o.cx)(h().header,{[h().heroWithIcon]:j})},(0,_.tZ)("div",{css:b},B&&(0,_.tZ)("span",{css:C},(0,_.tZ)(l.sg,{type:B})),!B&&m&&(0,_.tZ)("span",{css:O},r||(r=(0,_.tZ)(l.sg,{type:"Lightning12"}))),(0,_.tZ)("span",{className:h().source},(0,_.tZ)(a.Dy.Text,{isBold:!0,size:"S"},I)),(0,_.tZ)(a.Dy.Text,{size:"S"},(0,_.tZ)(d.nX,{adjustFutureTimeToNow:!0,format:"short",thresholdMsForRelative:1/0,value:T})))),(0,_.tZ)("div",{className:h().content},(0,_.tZ)("div",{className:h().titleFooterLockup},(0,_.tZ)("div",{className:(0,o.cx)(h().titlePreviewTextLockup,{[h().heroWithIcon]:j})},(0,_.tZ)("div",{className:h().title},(0,_.tZ)(Title,{isFullPage:v,variant:R},k)),D&&!v&&(0,_.tZ)("div",{className:h().previewText},(0,_.tZ)(a.Dy.Text,{color:c.Wt.Fg2,size:"S"},D,D.length>=160&&"..."))),v&&L&&(0,_.tZ)("div",{className:h().imageHeroFullWrapper},(0,_.tZ)(y.E,{size:"full",url:L})),(0,_.tZ)("div",{className:h().footer},w&&(0,_.tZ)(f.f,{loggingContext:M,onInstrumentClick:N,relatedInstruments:w.slice(0,2),textSize:"S"}))),!v&&L&&(0,_.tZ)("div",{className:h().imageWrapper},(0,_.tZ)(y.E,{size:R,url:L}))))}))},82382:(e,t,n)=>{"use strict";n.d(t,{c:()=>CryptoIndexIndicator});n(27378);var r=n(89676),o=n(12633),i=n(36854),a=n(10043);const CryptoIndexIndicator=e=>{var t,n,s,l;let{indicatorKey:c,title:u,variant:d="default"}=e;const p=(0,o.tT)({model:r.a,params:{id:c}}),g=null!==(t=p.result)&&void 0!==t&&t.open_price?parseFloat(null===(n=p.result)||void 0===n?void 0:n.open_price):null,m=null!==(s=p.result)&&void 0!==s&&s.mark_price?parseFloat(null===(l=p.result)||void 0===l?void 0:l.mark_price):null,y=m?parseFloat(m.toFixed(2)):null,f=g&&m?(m-g)/g*100:0,v=Math.abs(f).toFixed(2),h=!!m&&f>0;return(0,a.tZ)(i._,{changeAmount:"".concat(v,"%"),changeIsPositive:h,dollarDenominated:!0,title:u,value:y,variant:d})}},40924:(e,t,n)=>{"use strict";n.d(t,{E:()=>FeedElementRow});var r=n(64900),o=n(27378),i=n(71301),a=n(98673),s=n.n(a),l=n(10043);function FeedElementRow(e){let{children:t,dataTestId:n,loggingContext:a,removeBottomBorder:c}=e;const u=o.useMemo((()=>({entity_id:a.feedRank,message_type:a.template,screen_depth:0,screen_description:a.contentId,screen_name:"browse_news_snippet",source:a.stockDetailInstrumentId,type:a.contentType})),[a.contentId,a.contentType,a.feedRank,a.stockDetailInstrumentId,a.template]);return(0,l.tZ)("div",{className:(0,r.cx)(s().feedElementRow,{[s().feedElementRowNoBorder]:c}),"data-testid":n},(0,l.tZ)(i.$b,{loggingData:u},t))}},52205:(e,t,n)=>{"use strict";n.d(t,{F:()=>FeedHeader});var r=n(10043),o=(n(27378),n(97224)),i=n(50169);function FeedHeader(e){let{children:t}=e;return(0,r.tZ)("header",{css:(0,r.iv)({alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:1,borderColor:(0,o.uI)().bg3,display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",marginBottom:2*i.q3,paddingBottom:16},"")},t)}},82188:(e,t,n)=>{"use strict";n.d(t,{E:()=>Image});n(27378);var r=n(11898),o=n(10043);const i={name:"114swjd",styles:"border-radius:4px;flex-shrink:0;object-fit:cover;object-position:center"},a={full:{name:"98hfyn",styles:"height:397px;width:100%"},hero:{name:"182waag",styles:"height:167px;width:296px"},regular:{name:"dtvob6",styles:"height:74px;width:130px"}};function Image(e){let{alt:t,size:n,url:s}=e;return(0,o.tZ)(r.E,{alt:t,css:[i,a[n],""],src:s})}},55045:(e,t,n)=>{"use strict";n.d(t,{X:()=>LiveIndicesIndexIndicator});n(27378);var r,o,i=n(64649),a=n(12633),s=n(91906);let l=(0,a.OF)((o=class MarketIndicesRecord extends((0,s.A)({key:"sp_500",percent_change:"",value:""},"MarketIndicesRecord")){static url(e){let{key:t}=e;return"".concat(this.urlRoot,"?keys=").concat(t)}static _transformNetworkResponse(e){var t;return null!==(t=e.indicators[0])&&void 0!==t?t:{}}},(0,i.Z)(o,"urlPath","/market_indices"),(0,i.Z)(o,"refresh",1e3),(0,i.Z)(o,"idField","key"),r=o))||r;var c=n(36854),u=n(10043);const LiveIndicesIndexIndicator=e=>{var t,n,r,o;let{indicatorKey:i,title:s,variant:d="default"}=e;const p=(0,a.tT)({model:l,params:{key:i}}),g=null!==(t=p.result)&&void 0!==t&&t.percent_change?Math.abs(parseFloat(p.result.percent_change)).toFixed(2):"-",m=null!==(n=p.result)&&void 0!==n&&n.value?parseFloat(p.result.value):null,y=null===(r=p.result)||void 0===r||!r.percent_change||"-"!==(null===(o=p.result)||void 0===o?void 0:o.percent_change[0]);return(0,u.tZ)(c._,{changeAmount:"".concat(g,"%"),changeIsPositive:y,title:s,value:m,variant:d})}},36854:(e,t,n)=>{"use strict";n.d(t,{_:()=>MarketUpdateIndexCell});var r=n(64900),o=(n(27378),n(97224)),i=n(38978),a=n(21675),s=n(35002),l=n(60723),c=n(10043);const u={container:(0,r.css)({name:"1kgb3qj",styles:"column-gap:12px;display:flex;flex-direction:row;min-height:24px"}),containerColumn:(0,r.css)({name:"r8nbzn",styles:"flex-direction:column;row-gap:4px"}),containerRow:(0,r.css)({name:"1cpgjgg",styles:"align-items:center;display:flex;flex-direction:row;justify-content:space-between;width:100%"}),name:(0,r.css)({name:"1m27xfl",styles:"text-align:center;white-space:nowrap"}),price:(0,r.css)({name:"cpqnmv",styles:"flex-grow:0;text-align:center"}),priceChange:(0,r.css)({name:"1vr7vmn",styles:"align-items:center;display:flex"}),priceChangeColumn:(0,r.css)({name:"f7ay7b",styles:"justify-content:center"}),priceChangeIcon:(0,r.css)({name:"hci7y7",styles:"> span{display:flex;}"}),priceChangeRow:(0,r.css)({name:"1f60if8",styles:"justify-content:flex-end"}),rowPriceContainer:(0,r.css)({name:"igeqly",styles:"display:flex;flex-direction:column;justify-content:flex-end"})},MarketUpdateIndexCell=e=>{let{changeAmount:t,changeIsPositive:n,dollarDenominated:d=!1,title:p,value:g,variant:m}=e;const y=(0,o.VD)(i.Wt.Bg3),f=g?(0,l.AM)(g.toFixed(2),d?l._V.USD:l._V.NONE):"-";if(!y)return null;const v="column"===m||"row"===m,h=(0,c.tZ)("div",{className:u.name},(0,c.tZ)(a.Dy.Text,{isBold:!0,size:v?"S":"M"},p)),_=(0,c.tZ)("div",{className:u.price},(0,c.tZ)(a.Dy.Text,{size:v?"S":"M",useTabularNumbers:!0},f)),b=(0,c.tZ)("div",{className:(0,r.cx)(u.priceChange,"column"===m&&u.priceChangeColumn,"row"===m&&u.priceChangeRow)},(0,c.tZ)("div",{className:u.priceChangeIcon},n?(0,c.tZ)(s.sg,{color:i.E1.Positive,type:"StockUp12"}):(0,c.tZ)(s.sg,{color:i.E1.Negative,type:"StockDown12"})),(0,c.tZ)(a.Dy.Text,{color:n?i.E1.Positive:i.E1.Negative,size:v?"S":"M",useTabularNumbers:!0},t));return"row"===m?(0,c.tZ)("div",{className:u.containerRow},h,(0,c.tZ)("div",{className:u.rowPriceContainer},_,b)):(0,c.tZ)("div",{className:(0,r.cx)(u.container,"column"===m&&u.containerColumn)},h,_,b)}},47486:(e,t,n)=>{"use strict";n.d(t,{q:()=>NewsfeedDisclosuresButtonNews});var r=n(27378),o=n(61100),i=n(36998),a=n(38978),s=n(51603),l=n(20670),c=n(15238),u=n(10043);function NewsfeedDisclosuresButtonNews(e){let{handleToggleOpenNewsfeedDisclosureLabel:t}=e;const n=(0,s.oW)(),[d,p]=(0,l.V)("has_seen_news_newsfeed_disclosure_tooltip",!1),[g,m]=(0,r.useState)(!1),y=(0,r.useRef)(null),f=(0,r.useCallback)((()=>{const e=y.current;if(e){const t=e.getBoundingClientRect(),r=t.top,o=t.bottom;return r>=300&&o<=n.innerHeight-100}return!1}),[n.innerHeight]),v=(0,r.useCallback)((()=>{f()&&(m(!0),n.addEventListener("click",(()=>{m(!1),p(!0),n.removeEventListener("scroll",v)}),{once:!0}))}),[f,p,n]);return(0,r.useEffect)((()=>{d||n.addEventListener("scroll",v)}),[d,v,n]),(0,u.tZ)("div",{ref:y},(0,u.tZ)(o.a,{arrowPosition:"start",content:"Learn more about market indicators, market updates, and news.",hasArrow:!0,isOpen:g,maxWidth:600,placement:"right",renderTrigger:e=>{let{"aria-describedby":n}=e;return(0,u.tZ)(i.h,{"aria-describedby":n,"aria-label":"news newsfeed disclosures","data-testid":c.c.NewsfeedDisclosuresButtonNews,foregroundColor:a.Wt.Fg2,icon:"Info16",onClick:t,overrideRootStyles:{marginLeft:4,marginTop:2},type:"button"})}}))}},63415:(e,t,n)=>{"use strict";n.d(t,{f:()=>RelatedInstruments_RelatedInstruments});var r=n(27378),o=n(64649),i=n(64900),a=n(5310),s=n(38978),l=n(35002),c=n(26812),u=n(25718),d=n(64367),p=n(44574),g=n(93284),m=n(12633),y=n(35490),f=n.n(y),v=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"1lv1yo7",styles:"display:inline-flex"},_={name:"tscp7v",styles:"align-items:center;display:flex;margin:0 4px"};const b=r.memo((function _RelatedInstrument(e){var t,n,o,y;let{instrument:b,loggingContext:C,onInstrumentClick:O,textSize:S}=e;const E=(0,m.tT)({model:p.Z9,params:{instrument:p.k0.url({id:b.instrument_id})}}),P=null===(t=E.result)||void 0===t?void 0:t.delta,Z=null===(n=E.result)||void 0===n?void 0:n.deltaFraction,D=null===(o=E.result)||void 0===o?void 0:o.marketPrice,T=null!=P,w=null!=P&&P<0?"down":"up";let I;I="S"===S?"up"===w?"StockUp12":"StockDown12":"up"===w?"StockUp16":"StockDown16";const k=r.useCallback((()=>{(0,c.Ub)(_objectSpread(_objectSpread({},C),{},{instrument:b.instrument_id})),O&&O(b.instrument_id)}),[b.instrument_id,C,O]);return(0,v.tZ)(a.p,{color:"up"===w?s.E1.Positive:s.E1.Negative},(e=>{let{rootClassName:t}=e;return(0,v.tZ)("div",{className:(0,i.cx)(f().relatedInstrument,t)},(0,v.tZ)("div",{className:(0,i.cx)(f().wrapper,{[f().textS]:"S"===S,[f().textM]:"M"===S})},(0,v.tZ)(d.n,{onClick:k,to:"/stocks/".concat(b.symbol)},(0,v.tZ)("span",{css:h},(0,v.tZ)(g.DH,{defaultMessage:"{symbol}{quote}",id:"NewsFeed.RelatedInstrument",status:"legacy",values:{quote:T&&(0,v.tZ)(r.Fragment,null,(0,v.tZ)("span",{css:_},(0,v.tZ)(l.sg,{color:"up"===w?s.E1.Positive:s.E1.Negative,type:I})),(0,v.tZ)("span",{className:f().price},y||(y=(0,v.tZ)(u.lm,{currentPrice:D,display:"percent",includeSign:!1,percent:Z,price:P})))),symbol:b.symbol}})))))}))}));var C=n(34858),O=n.n(C);function RelatedInstruments_RelatedInstruments(e){let{loggingContext:t,onInstrumentClick:n,relatedInstruments:r,textSize:o}=e;return(0,v.tZ)("div",{className:O().relatedInstruments},r.map((e=>(0,v.tZ)("div",{key:e.instrument_id,className:O().relatedInstrument},(0,v.tZ)(b,{instrument:e,loggingContext:t,onInstrumentClick:n,textSize:o})))))}},81889:(e,t,n)=>{"use strict";let r;n.d(t,{f:()=>r}),function(e){e.CURATED="curated",e.EDUCATION_SERIES="education_series",e.INDICATORS="indicators",e.MARKET_UPDATES="market_updates",e.POPULAR_LISTS="popular_lists",e.TOP_MOVERS="top-movers"}(r||(r={}))},30999:(e,t,n)=>{"use strict";n.d(t,{h0:()=>NewsFeed,Hb:()=>getIsMemberMarketUpdates,jj:()=>marketDisclosure});var r=n(66726),o=n.n(r),i=n(27378),a=n(43674),s=n.n(a),l=n(79158),c=n(25523),u=n(30156),d=n(4849),p=n(6114),g=n(79946),m=n(8810),y=n(51603),f=n(71301),v=n(93284),h=n(6825),_=n(22027),b=n(49867),C=n(15238),O=n(47486),S=n(81889),E=(n(90431),n(10043)),P=n(21675),Z=n(36998),D=n(38978),T=n(26812);const w={"top-movers":"eddbebe5-34cc-4df1-953c-d3e3cb55bc19"};var I=n(86075),k=n(82665),x=n(50169),R=n(40924),M=n(34051),L=n(59158),A=n(42474);const F=i.memo((e=>{let{contents:t,loggingContext:n,onInstrumentClick:r}=e;const o=(0,A.y0)((0,M.List)(t.map((e=>e.data.instrument_id)))).result;return o?(0,E.tZ)(i.Fragment,null,o.map((e=>{let{instrument:t}=e;return(0,E.tZ)(L.A,{key:t.id,instrument:t,loggingContext:n&&{button_description:n.button_group_title,button_group_title:n.button_description,button_title:t.id},onInstrumentCardClick:r})}))):null}));var N,B=n(45594);const j="5a88iRDfyjC9zBa6p9cLVc";var H={name:"1vr7vmn",styles:"align-items:center;display:flex"},U={name:"11rcwxl",styles:"margin-bottom:4px"},z={name:"1duj7gx",styles:"align-self:flex-end"};const W=i.memo((e=>{let{element:t,loggingContext:n}=e;const[r,o]=(0,i.useState)(!1);t.contents.filter((e=>e.content_type===b.z.Instrument)).length;const a=i.useCallback((()=>{(0,T.LQ)({collectionName:t.category,stockDetailInstrumentId:void 0})}),[t.category]),s=i.useCallback((()=>{(0,T.Ah)({collectionName:t.category,stockDetailInstrumentId:void 0})}),[t.category]),l=i.useMemo((()=>({contentId:b.z.Carousel,contentType:b.z.Carousel,feedRank:n.feedRank,stockDetailInstrumentId:n.stockDetailInstrumentId,template:n.template})),[n.feedRank,n.stockDetailInstrumentId,n.template]),c=w[t.category],u=c?"/lists/robinhood/".concat(c):null;(0,i.useEffect)((()=>{(0,B.Cj)({carouselItemCount:t.contents.length,itemPosition:l.feedRank,name:t.display_label})}),[]);const d=(0,i.useCallback)(((e,n)=>{(0,B.sp)({carouselItemCount:t.contents.length,itemPosition:l.feedRank,name:t.display_label},n)}),[t.contents.length,t.display_label,l.feedRank]),p=i.useCallback((()=>{o(!0),(0,_.$j)(),(0,_.Vn)(j,!0)}),[]),g=i.useCallback((()=>{o(!1),(0,_.Vn)(j,!0)}),[]);return(0,E.tZ)(R.E,{loggingContext:l},r&&(0,E.tZ)(h.m,{contentfulId:j,onClose:g}),(0,E.tZ)("div",{css:(0,E.iv)({padding:"".concat(2*x.q3,"px 0")},"")},(0,E.tZ)("header",{css:(0,E.iv)({display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",marginBottom:x.q3},"")},(0,E.tZ)("div",null,(0,E.tZ)("div",{css:H},(0,E.tZ)("h3",{css:U},(0,E.tZ)(P.Dy.Display,{size:"S"},t.display_label)),"Daily Movers"===t.display_label&&(0,E.tZ)("div",{"data-testid":C.c.NewsfeedDisclosuresButtonDailyMovers},(0,E.tZ)(Z.h,{"aria-label":"daily movers newsfeed disclosures",foregroundColor:D.Wt.Fg2,icon:"Info16",onClick:p,overrideRootStyles:{marginLeft:4},type:"button"}))),t.description&&(0,E.tZ)(P.Dy.Text,{color:D.Wt.Fg2,size:"S"},t.description)),u?(0,E.tZ)("div",{css:z},(0,E.tZ)(I.M,{onAppear:a},(0,E.tZ)(k.I,{onClick:s,to:u},N||(N=(0,E.tZ)(v.DH,{id:"Show More",status:"legacy"}))))):null),(0,E.tZ)("div",{css:(0,E.iv)({columnGap:x.q3,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gridTemplateRows:"".concat(x.sn,"px repeat(auto-fit, 0)"),minHeight:x.sn,overflow:"hidden",width:"100%"},"")},(0,E.tZ)(F,{contents:t.contents.slice(0,6),loggingContext:{button_description:"top_movers",button_group_title:"browse_news_carousel"},onInstrumentClick:d}))))}));var q=n(97224),Y=n(19019),V=n(21113),G=n(20233),K=n(90241),Q=n(61096),X=n(20670),J=n(90503),$=n(84974),ee=n(76312);var te={name:"2oa84m",styles:"display:flex;flex-grow:1;justify-content:space-between"},ne={name:"1a2afmv",styles:"margin-left:10px"};const re=(0,ee.I)((e=>{let{element:t,loggingContext:n}=e;const r=(0,v.og)(),o=i.useMemo((()=>t.contents.filter((e=>e.content_type===b.z.LearningModules)).map((e=>({id:e.data.id,lessons:e.data.lessons,title:e.data.title})))),[t.id])[0],{isDark:a}=(0,q.Fg)(),[s]=(0,X.V)(J.VM.CompletedLearningLessons,{});(0,i.useEffect)((()=>{$.YB.logEvent({event:{category:"user_action",data:{action_name:"edu-mini-home-trigger"},event:"scroll"}})}),[]),(0,i.useEffect)((()=>{(0,G.L3)({identifier:o.title,numLessons:o.lessons.length})}),[o.lessons.length,o.title]);const[l,c]=(0,i.useState)(!1);return(0,E.tZ)(i.Fragment,null,(0,E.tZ)(m.O,{alignItemsCentered:!0,title:r.formatMessage({defaultMessage:o.title,id:"EducationCarousel.Header",status:"legacy"})},(0,E.tZ)("div",{css:te,"data-testid":C.c.EducationCarouselNewsFeed},(0,E.tZ)("div",{css:ne},l&&(0,E.tZ)(Y._,{backgroundColor:D.Wt.Bg2,foregroundColor:D.Wt.Fg1,icon:"StarFilled16",text:"New lessons",type:"custom"})),(0,E.tZ)("div",null,(0,E.tZ)(Q.A,{href:"/education",label:r.formatMessage({defaultMessage:"Show More",id:"LearnNewsSection.showMore",status:"legacy"}),onClick:()=>{(0,G.Xe)({carouselItemCount:o.lessons.length,itemPosition:n.feedRank})},type:"anchor",variant:"standalone"})))),(0,E.tZ)(K.Z,null,o.lessons.map(((e,t)=>(0,E.tZ)(V.Q,{key:e.id,backgroundColor:a?e.night_background_color:e.day_background_color,completed:!(!s[e.tracking_id]&&!s[e.id]),deeplink:"/education/lesson/".concat(e.id,"?origin=/&source=browse"),index:t,isLastLesson:t===o.lessons.length-1,lessonId:e.analytics_id,lessonTitle:e.title,peekedImageUrl:e.preview_peeked_image_url,setShouldShowNewLessonsBadge:c,textColor:a?e.night_foreground_color:e.day_foreground_color,title:e.title,trackingId:e.tracking_id})))))}),null);var oe,ie,ae=n(79208),se=n(14772),le=n(64649),ce=n(12633),ue=n(91906);const de={accent_color:"",accent_color_bento_token:"",analytics_id:"",animation_url:"",completion_image_url:"",completion_message:"",completion_survey_event:"",completion_timeline:[{id:"",subtitle:"",title:""}],completion_title:"",created_at:"",day_background_color:"",day_background_color_bento_token:"",day_foreground_color:"",day_foreground_color_bento_token:"",disclosure:"",id:"",lesson_id:"",matching_exercise:{analytics_id:"",buckets:[{analytics_id:"",id:"",title:""}],completion_animation_url:"",completion_content:"",completion_title:"",content:"",entities:[{analytics_id:"",asset_url:"",bucket:{analytics_id:"",id:"",title:""},feedback:"",id:""}],id:"",title:""},night_background_color:"",night_background_color_bento_token:"",night_foreground_color:"",night_foreground_color_bento_token:"",not_funded_survey_event:"",preview_large_image_url:"",preview_thumbnail_url:"",sections:[{analytics_id:"",animation_starting_frame:0,answers:[{analytics_id:"",content:"",id:"",title:""}],content:"",created_at:"",header:"",id:"",timeline:[{id:"",subtitle:"",title:""}],title:"",updated_at:""}],small_screen_animation_url:"",subtitle:"",survey_event:"",title:"",updated_at:"",version:0};let pe=(0,ce.OF)((ie=class LessonRecord extends((0,ue.A)(de,"LessonRecord")){static url(e){let{id:t}=e;return this.baseUrl+this.urlPath.replace("{id}",t)}},(0,le.Z)(ie,"urlPath","/education/lesson/{id}/"),(0,le.Z)(ie,"idField","id"),oe=ie))||oe;var ge=n(88948);const me="LearningModules-LessonCardsContainer",ye="LearningModules-LessonTakeover";var fe=n(4585),ve=n(94714),he=n.n(ve);const _e=(0,fe.Z)("div",{target:"e1b7ku506"})({name:"88i5ox",styles:"padding-top:24px;display:grid;grid-gap:18px;grid-template-columns:repeat(3, 1fr)"}),be=(0,fe.Z)("div",{target:"e1b7ku505"})({name:"1ta6puu",styles:"border-radius:4px;height:130px;overflow:hidden;position:relative"}),Ce=(0,fe.Z)("img",{target:"e1b7ku504"})({name:"1ycyfef",styles:"height:100%;width:100%;object-fit:contain;transform:scale(0.9);transition:transform 500ms"}),Oe=(0,fe.Z)("div",{target:"e1b7ku503"})("&:hover{cursor:pointer;& ",Ce,"{transform:scale(1);}}border-radius:4px;"),Se=(0,fe.Z)("div",{target:"e1b7ku502"})({name:"yz1nei",styles:"margin-top:16px"}),Ee=(0,fe.Z)("div",{target:"e1b7ku501"})({name:"db9nhh",styles:"margin-top:0px"}),Pe=(0,fe.Z)("div",{target:"e1b7ku500"})("position:absolute;width:16px;height:16px;mask-image:url(",he(),");top:10px;right:10px;"),LessonCardList=e=>{let{lessons:t,onCardClick:n}=e;const r=(0,q.Fg)(),[o,a]=i.useState(!1),[s,l]=(0,X.V)(J.VM.CompletedLearningLessons,{});return i.useEffect((()=>{o||((0,ge.DD)({carouselItemCount:t.length,identifier:"Learn the Basics"}),a(!0))}),[t.length,o]),(0,E.tZ)(_e,{"data-testid":me},t.map((e=>(0,E.tZ)(Oe,{key:e.id,onClick:()=>n({completedLessons:s,lesson:e,setCompletedLessons:l})},(0,E.tZ)(be,{css:(0,E.iv)({backgroundColor:r.isDark?e.night_background_color:e.day_background_color},"")},(0,E.tZ)(Ce,{src:e.preview_large_image_url}),s[e.id]&&(0,E.tZ)(Pe,{css:(0,E.iv)({backgroundColor:r.isDark?e.night_foreground_color:e.day_foreground_color},"")})),(0,E.tZ)(Se,null,(0,E.tZ)(P.Dy.Text,{color:D.Wt.Fg1,element:"span",isBold:!0,size:"S"},e.title)),(0,E.tZ)(Ee,null,(0,E.tZ)(P.Dy.Text,{color:D.Wt.Fg2,element:"p",size:"S"},e.subtitle))))))},Ze=n(27378).lazy((()=>n.e(86120).then(n.bind(n,56474)).then((({LessonTakeover:e})=>({default:e}))))),De=(0,ee.I)((e=>{let{element:t}=e;const n=i.useMemo((()=>t.contents.filter((e=>e.content_type===b.z.LearningModules)).map((e=>({id:e.data.id,lessons:e.data.lessons,title:e.data.title})))),[t.id])[0],r=(0,se.s)(),[o,a]=i.useState(!1),[s,l]=i.useState(),c=(0,ce.tT)({disabled:!o,model:pe,params:{id:s?s.lesson.id:""}});return(0,E.tZ)("div",{css:(0,E.iv)({padding:"".concat(2*x.q3,"px 0")},"")},(0,E.tZ)(m.O,{includeSeparator:!1,noBottomMargin:!0,title:(0,E.tZ)(v.DH,{defaultMessage:n.title,id:"LearningModules.Header",status:"legacy"})}),(0,E.tZ)(LessonCardList,{lessons:n.lessons,onCardClick:e=>{3===e.lesson.version?((0,G.U6)({isCompleted:!!e.completedLessons[e.lesson.id],itemPosition:n.lessons.findIndex((t=>t.id===e.lesson.id)),lessonId:e.lesson.analytics_id,lessonTitle:e.lesson.title}),r("/education/lesson/".concat(e.lesson.id,"/"))):((0,ge.kM)({identifier:e.lesson.id,isCompleted:!!e.completedLessons[e.lesson.id],title:e.lesson.title}),l(e),a(!0))}}),(0,E.tZ)((()=>{if(!o||!s||!c.result)return null;const{completedLessons:e,setCompletedLessons:t}=s;return(0,E.tZ)(Ze,{completedLessons:e,"data-testid":ye,learningIndexTitle:n.title,lesson:c.result,onClose:()=>{a(!1)},setCompletedLessons:t})}),null))}),null);var Te=n(31399),we=n(52205);const Ie="3dY370OCbTqmzSevI3n17A";var ke={name:"1vr7vmn",styles:"align-items:center;display:flex"};const xe=i.memo((e=>{const t=(0,v.og)(),[n,r]=i.useState(!1),[o,a]=i.useState(!1),{element:s,loggingContext:l}=e,c=i.useMemo((()=>(0,M.List)(s.contents.filter((e=>e.content_type===b.z.ListPreview)).map((e=>e.data)))),[s.id]),u=i.useMemo((()=>({contentId:b.z.ListPreview,contentType:b.z.ListPreview,feedRank:l.feedRank,stockDetailInstrumentId:l.stockDetailInstrumentId,template:l.template})),[l.feedRank,l.stockDetailInstrumentId,l.template]);(0,i.useEffect)((()=>{(0,B.pL)({carouselItemCount:c.count(),itemPosition:u.feedRank,name:s.display_label})}),[]);const d=(0,i.useCallback)(((e,t)=>{(0,B.uw)({carouselItemCount:c.count(),itemPosition:u.feedRank,name:s.display_label},{id:e,name:t})}),[c,s.display_label,u.feedRank]),p=i.useCallback((()=>{a(!0),(0,_.$j)(),(0,_.Vn)(Ie,!0)}),[]),g=i.useCallback((()=>{a(!1),(0,_.Vn)(Ie,!0)}),[]);return 0===c.count()?null:(0,E.tZ)(R.E,{dataTestId:C.c.NewsFeedListChipGrid,loggingContext:u,removeBottomBorder:!0},o&&(0,E.tZ)(h.m,{contentfulId:Ie,onClose:g}),(0,E.tZ)(we.F,null,(0,E.tZ)("div",null,(0,E.tZ)("div",{css:ke},(0,E.tZ)("h3",null,(0,E.tZ)(P.Dy.Display,{size:"M"},s.display_label)),s.category===S.f.POPULAR_LISTS&&(0,E.tZ)("div",null,(0,E.tZ)(Z.h,{"aria-label":"trending lists newsfeed disclosures","data-testid":C.c.NewsfeedDisclosuresButtonTrendingLists,foregroundColor:D.Wt.Fg2,icon:"Info16",onClick:p,overrideRootStyles:{marginLeft:4},type:"button"}))),s.description&&(0,E.tZ)(P.Dy.Text,{color:D.Wt.Fg2,size:"S"},s.description)),(0,E.tZ)("div",null,(0,E.tZ)(Q.A,{label:n?t.formatMessage({defaultMessage:"Show Less",id:"ListsChipGrid.showLess",status:"legacy"}):t.formatMessage({defaultMessage:"Show More",id:"ListsChipGrid.showMore",status:"legacy"}),onClick:()=>{r((e=>!e))},type:"button",variant:"standalone"}))),(0,E.tZ)(Te.a,{lists:c,maxNumberOfRows:n?void 0:3,onListChipClick:d}))}));var Re=n(64900),Me=n(76596),Le=n(24874);const Ae={container:(0,Re.css)({backgroundColor:D.ZV.neutral.bg2,border:"1px solid",borderColor:D.ZV.neutral.bg3,borderRadius:4,margin:"24px 0",padding:24},""),containerWithIndicators:(0,Re.css)({name:"w2bn5x",styles:"border-top-left-radius:0;border-top-right-radius:0;border-top-width:0;margin-top:0"})};var Fe=n(27352);const Ne=i.memo((e=>{let{element:t,isFullPage:n,loggingContext:r}=e;const o=(0,Fe.y)(t.contents);if(!o)return null;const{data:a}=o,s=i.useMemo((()=>({contentId:o.id,contentType:o.content_type,feedRank:r.feedRank,isHero:!0,stockDetailInstrumentId:void 0,template:r.template})),[o.content_type,o.id,r.feedRank,r.template]);return(0,E.tZ)(R.E,{loggingContext:s},(0,E.tZ)(Fe.d,{contentId:o.id,feedElementId:t.id,isEmbedded:a.is_embedded,isFullPage:n,loggingContext:s,logoAssetName:t.logo_asset_name,media:a.media,previewMedia:a.preview_media,previewText:a.preview_text,publishedAt:a.published_at,relatedInstruments:a.related_instruments,source:a.source,title:a.title,url:a.url,variant:"hero"}))})),Be=i.memo((e=>{let{element:t,loggingContext:n}=e;const r=(0,Fe.y)(t.contents);if(!r)return null;const{data:o}=r,a=i.useMemo((()=>({contentId:r.id,contentType:r.content_type,feedRank:n.feedRank,isHero:!1,stockDetailInstrumentId:void 0,template:n.template})),[r.content_type,r.id,n.feedRank,n.template]);return(0,E.tZ)(R.E,{loggingContext:a},(0,E.tZ)(Fe.d,{contentId:r.id,feedElementId:t.id,isEmbedded:o.is_embedded,loggingContext:a,media:o.media,previewMedia:o.preview_media,publishedAt:o.published_at,relatedInstruments:o.related_instruments,source:o.source,title:o.title,url:o.url}))})),je={[b.Y.NewsRegular]:Be,[b.Y.NewsHero]:Ne,[b.Y.VideoRegular]:null,[b.Y.NewsGroup]:null,[b.Y.Collection]:null,[b.Y.Carousel]:W,[b.Y.ListsChipGrid]:xe,[b.Y.LearningModules]:De,[b.Y.EducationCarousel]:re,[b.Y.MarketUpdates]:e=>{var t;let{element:n,loggingContext:r,shouldMergeMarketUpdatesAndIndicators:o}=e;const i=n.contents.filter((e=>e.content_type===b.z.MarketUpdates))[0];if(!i)return null;const a={contentId:i.id,contentType:i.content_type,feedRank:r.feedRank,template:r.template},s=(0,Me.zj)(null!==(t=n.logo_asset_name)&&void 0!==t?t:void 0);return(0,E.tZ)(R.E,{loggingContext:a},(0,E.tZ)("div",{className:(0,Re.cx)(Ae.container,o&&Ae.containerWithIndicators),"data-testid":C.c.NewsFeedMarketUpdate},(0,E.tZ)(Le.j,{bentoIcon:s,marketUpdate:i.data})))},[b.Y.Indicators]:ae.d8},He=i.memo((function _FeedElement(e){let{element:t,feedRank:n,isFullPage:r,shouldMergeMarketUpdatesAndIndicators:o=!1,stockDetailInstrumentId:a}=e;const{template:s,templateName:l}=(e=>{if(!e.templates)return{template:null,templateName:null};let t=null,n=null;return e.templates.find((e=>{const r=je[e];return!!r&&(t=r,n=e,!0)})),{template:t,templateName:n}})(t);if(!s||!l)return null;const c=i.useMemo((()=>({feedRank:n,stockDetailInstrumentId:a,template:l})),[n,a,l]);return(0,E.tZ)(s,{element:t,isFullPage:r,loggingContext:c,shouldMergeMarketUpdatesAndIndicators:o})}));var Ue=n(2146);var ze,We,qe,Ye,Ve=n(21371),Ge=n.n(Ve);const Ke="4kePtgKcb7eBOJkHUEUq5E";function marketDisclosure(e,t){return e?"137aXkuH9wGA7Ne3867paB":t?"zJRXoUG2oQBUcN8nMealI":Ke}function getNewsFeedSectionHeaderContent(e){return e?ze||(ze=(0,E.tZ)(v.DH,{defaultMessage:"Read market news",id:"NewsSectionHeader",status:"legacy"})):We||(We=(0,E.tZ)(v.DH,{defaultMessage:"News",id:"NewsSectionHeader",status:"legacy"}))}function getIsMemberMarketUpdates(e){return"bite-sized-updates"===e||"combined"===e}function useFeedOverrides(e,t,n){const{showWebNUX:r}=(0,c.VF)();return(0,i.useMemo)((()=>{let o=e,i=null,a=null;const s=o.findIndex((e=>e.category===S.f.POPULAR_LISTS)),l=s>-1?o.get(s):null;l&&function isListPreviewElement(e){return e.contents.every((e=>e.content_type===b.z.ListPreview))}(l)&&(i=l,r&&(i.display_label="Discover investments"),o=o.remove(s));const c=o.findIndex((e=>e.category===S.f.EDUCATION_SERIES)),u=c>-1?o.get(c):null;return u&&function isLearningModuleElement(e){return e.contents.every((e=>e.content_type===b.z.LearningModules))}(u)&&(a=u,r&&(a.contents[0].data.title="Learn about investing"),o=o.remove(c)),n&&(o=o.filter((e=>e.contents.some((e=>e.content_type!==b.z.Indicators&&e.content_type!==b.z.MarketUpdates&&e.content_type!==b.z.Article&&e.content_type!==b.z.EmbeddedArticle))))),{eduSeriesItem:a,eduSeriesItemIndex:c,listItem:i,listItemIndex:s,visibleFeed:o.slice(0,t)}}),[e,t,r,n])}function NewsFeed(e){let{inPortfolioTableExperiment:t,isFullPage:n,megaphone:r}=e;const{feed:a,hasMoreRecentFeed:b,onRefreshFeed:P}=(0,Ue.sc)(),[Z,D]=i.useState(10),[T,w]=i.useState(!1),[I,k]=i.useState(!1),{showWebNUX:x}=(0,c.VF)(),R=(0,d.B)(u.V.infoProductsMarketUpdates.name),M=(0,d.n)(u.V.liveIndices),L=getIsMemberMarketUpdates(R),A=void 0!==R,F=marketDisclosure(null!=M&&M,null!=L&&L),N=i.useCallback((()=>{P()}),[P]),j=Z<a.count(),{eduSeriesItem:H,eduSeriesItemIndex:U,listItem:z,listItemIndex:W,visibleFeed:q}=useFeedOverrides(a,Z,!!t);(0,i.useEffect)((()=>{const e=q.findIndex((e=>e.category===S.f.MARKET_UPDATES)),t=q.findIndex((e=>e.category===S.f.INDICATORS));-1!==e&&-1!==t&&k(!0)}),[q]);const Y=(0,i.useRef)(o()((()=>{(0,B.WS)()}),500));(0,i.useEffect)((()=>{const e=(0,y.oW)(),onScroll=()=>Y.current();return e&&e.addEventListener("scroll",onScroll),()=>{e.removeEventListener("scroll",onScroll)}}),[]);const V=i.useCallback((()=>{w(!0),(0,_.$j)(),(0,_.Vn)(Ke,!0)}),[]),G=i.useCallback((()=>{w(!1),(0,_.Vn)(Ke,!1)}),[]);return(0,E.tZ)(f.u2,{loggingData:(0,B.k1)()},(0,E.tZ)(i.Fragment,null,T&&(0,E.tZ)(h.m,{contentfulId:F,onClose:G}),z&&(0,E.tZ)(p.N,null,(0,E.tZ)(He,{key:z.id,element:z,feedRank:W,isFullPage:n,stockDetailInstrumentId:void 0})),r&&(qe||(qe=(0,E.tZ)(l.E,null))),H&&(0,E.tZ)(p.N,null,(0,E.tZ)(He,{key:H.id,element:H,feedRank:U,isFullPage:n,stockDetailInstrumentId:void 0})),!t&&(0,E.tZ)(i.Fragment,null,(0,E.tZ)(m.O,{noBottomMargin:!0,title:getNewsFeedSectionHeaderContent(x),verticallyCentered:!0},A&&(0,E.tZ)(O.q,{handleToggleOpenNewsfeedDisclosureLabel:V})),b&&(0,E.tZ)("div",{className:Ge().viewMore,"data-testid":C.c.NewsFeedShowMoreButton},(0,E.tZ)(g.D,{className:Ge().viewMorePill,onClick:N},Ye||(Ye=(0,E.tZ)(v.DH,{defaultMessage:"Show newer articles",id:"NewsFeed.showMore",status:"legacy"}))))),(0,E.tZ)("div",{"data-testid":"feed"},(0,E.tZ)(s(),{hasMore:j,loadMore:async()=>{D(Math.min(Z+10,a.count()))},pageStart:0,threshold:400,useWindow:!0},q.map(((e,t)=>(0,E.tZ)(He,{key:e.id,element:e,feedRank:t,isFullPage:n,shouldMergeMarketUpdatesAndIndicators:I,stockDetailInstrumentId:void 0}))).filter(Boolean)))))}},45594:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>logInstrumentCarouselAppearEvent,ES:()=>logArticleClick,FD:()=>logArticleRelatedInstrumentClick,WS:()=>logNewsFeedScroll,k1:()=>getNewsFeedPageScreenTransitionData,pL:()=>logListGridAppear,sp:()=>logInstrumentClickEvent,uw:()=>logListGridItemClickEvent});var r=n(64649),o=n(84974),i=n(22903),a=n(49569);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s={name:a.t.event_logging.Screen.Name.HOME};function getNewsFeedItemContext(e){const{contentId:t,hasImage:n,isEmbedded:r,itemPosition:o,source:i}=e;return{item_position:o,news_feed_item:{content_type:r?a.t.event_logging.NewsFeedItem.ContentType.EMBEDDED_ARTICLE:a.t.event_logging.NewsFeedItem.ContentType.REGULAR_ARTICLE,media_type:n?a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_IMAGE:a.t.event_logging.NewsFeedItem.MediaType.MEDIA_TYPE_NONE,source:i,unique_identifier:t}}}function getNewsFeedPageScreenTransitionData(){return{screen_name:"BROWSE_NEWSFEED"}}function logArticleClick(e){const{isHero:t}=e,n={component:{component_type:t?a.t.event_logging.Component.ComponentType.HERO_NEWS_ROW:a.t.event_logging.Component.ComponentType.NEWS_ROW},context:getNewsFeedItemContext(e),event_type:a.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:s};i.c.logUserInteractionEvent(o.YB,n)}function logArticleRelatedInstrumentClick(e,t){const{isHero:n}=e,r=getNewsFeedItemContext(e),l={component:{component_type:n?a.t.event_logging.Component.ComponentType.HERO_NEWS_ROW:a.t.event_logging.Component.ComponentType.NEWS_ROW},context:_objectSpread(_objectSpread({},r),{},{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t}}),event_type:a.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:s};i.c.logUserInteractionEvent(o.YB,l)}function logInstrumentCarouselAppearEvent(e){const{carouselItemCount:t,itemPosition:n,name:r}=e,l={component:{component_type:a.t.event_logging.Component.ComponentType.CAROUSEL,identifier:r},context:{item_position:n,news_feed_item:{carousel_item_count:t,content_type:a.t.event_logging.NewsFeedItem.ContentType.CAROUSEL}},screen:s};i.c.logAppearEvent(o.YB,l)}function logInstrumentClickEvent(e,t){const{carouselItemCount:n,itemPosition:r,name:l}=e,c={component:{component_type:a.t.event_logging.Component.ComponentType.ASSET_CARD},component_hierarchy:{parent_0:{component_type:a.t.event_logging.Component.ComponentType.CAROUSEL,identifier:l}},context:{asset:{asset_type:a.t.event_logging.Asset.AssetType.INSTRUMENT,unique_identifier:t},item_position:r,news_feed_item:{carousel_item_count:n,content_type:a.t.event_logging.NewsFeedItem.ContentType.CAROUSEL}},screen:s};i.c.logUserInteractionEvent(o.YB,c)}function logListGridAppear(e){const{carouselItemCount:t,itemPosition:n,name:r}=e,l={component:{component_type:a.t.event_logging.Component.ComponentType.LIST_CHIP_GRID,identifier:r},context:{item_position:n,news_feed_item:{carousel_item_count:t,content_type:a.t.event_logging.NewsFeedItem.ContentType.LIST_CHIP_GRID}},screen:s};i.c.logAppearEvent(o.YB,l)}function logListGridItemClickEvent(e,t){const{carouselItemCount:n,itemPosition:r,name:l}=e,c={component:{component_type:a.t.event_logging.Component.ComponentType.LIST_CHIP},component_hierarchy:{parent_0:{component_type:a.t.event_logging.Component.ComponentType.LIST_CHIP_GRID,identifier:l}},context:{item_position:r,list:{display_name:t.name,owner_type:a.t.event_logging.List.OwnerType.ROBINHOOD,unique_identifier:t.id},news_feed_item:{carousel_item_count:n,content_type:a.t.event_logging.NewsFeedItem.ContentType.LIST_CHIP_GRID}},screen:s};i.c.logClickEvent(o.YB,c)}function logNewsFeedScroll(){const e={event_type:a.t.event_logging.UserInteractionEventData.EventType.SCROLL,screen:s};i.c.logUserInteractionEvent(o.YB,e)}},88948:(e,t,n)=>{"use strict";n.d(t,{DD:()=>lessonCardView,Tw:()=>lessonSubmitFeedback,Xe:()=>lessonContentView,Y9:()=>lessonContentClose,kM:()=>lessonCardClick});var r=n(84974),o=n(22903),i=n(49569);const lessonCardView=e=>{let{carouselItemCount:t,identifier:n}=e;o.c.logAppearEvent(r.YB,{component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_ENTRY_POINT,identifier:n},context:{news_feed_item:{carousel_item_count:t,content_type:i.t.event_logging.NewsFeedItem.ContentType.LEARNING_ENTRY_POINT}},event_type:i.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:i.t.event_logging.Screen.Name.HOME}})},lessonCardClick=e=>{let{identifier:t,isCompleted:n,title:a}=e;o.c.logClickEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.VIEW_LEARNING_LESSON,component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_LESSON_ROW,identifier:t},context:{learning_lesson:{identifier:t,is_completed:n,title:a}},event_type:i.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:i.t.event_logging.Screen.Name.HOME}})},lessonContentView=e=>{let{itemPosition:t,learning_section:{identifier:n,title:a}}=e;o.c.logAppearEvent(r.YB,{component:{component_type:i.t.event_logging.Component.ComponentType.LEARNING_SECTION,identifier:n},context:{item_position:t,learning_section:{identifier:n,title:a}},event_type:i.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:i.t.event_logging.Screen.Name.LEARNING_LESSON}})},lessonContentClose=e=>{let{lesson:t,lessonSection:n}=e;o.c.logUserInteractionEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.DISMISS,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{learning_lesson:{identifier:t.identifier,is_completed:t.isCompleted,title:t.title},learning_section:{identifier:n.identifier,title:n.title}},event_type:i.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:i.t.event_logging.Screen.Name.LEARNING_LESSON}})},lessonSubmitFeedback=e=>{let{learning_lesson:t,response:n}=e;o.c.logUserInteractionEvent(r.YB,{action:i.t.event_logging.UserInteractionEventData.Action.SUBMIT_FEEDBACK,component:{component_type:i.t.event_logging.Component.ComponentType.BUTTON},context:{feedback:{response:n},learning_lesson:{identifier:t.identifier,title:t.title}},event_type:i.t.event_logging.UserInteractionEventData.EventType.CLICK,screen:{name:i.t.event_logging.Screen.Name.LEARNING_LESSON}})}},79208:(e,t,n)=>{"use strict";n.d(t,{OR:()=>g,Qp:()=>p,d8:()=>IndicatorsTemplate});var r=n(64900),o=n(27378),i=n(38978),a=n(15238),s=n(82382),l=n(40924),c=n(55045),u=n(49867),d=n(10043);const p=["bonfire_market_index","currency_pair"],g=3,m={container:(0,r.css)({backgroundColor:i.ZV.neutral.bg2,border:"1px solid",borderColor:i.ZV.neutral.bg3,borderRadius:4,marginBottom:24,marginTop:24,padding:24},""),containerWithMarketUpdate:(0,r.css)({name:"1ijfx5w",styles:"border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0;margin-bottom:0;padding-bottom:0"}),indicator:(0,r.css)({display:"flex",flexBasis:"calc((100% - ".concat(9*(g-1),"px) / ").concat(g,")"),flexGrow:0,flexShrink:0,justifyContent:"center"},""),indicatorContainerMarketUpdate:(0,r.css)({borderBottomColor:i.ZV.neutral.bg3,borderBottomStyle:"solid",borderBottomWidth:1,paddingBottom:16},""),indicatorContainers:(0,r.css)({name:"scdbj4",styles:"align-items:stretch;display:flex;justify-content:space-between"}),verticalDivider:(0,r.css)({"&:after":{borderRightColor:i.ZV.neutral.bg3,borderRightStyle:"solid",borderRightWidth:1,content:"''",display:"block",height:"100%"},flexBasis:9,flexGrow:0,flexShrink:0,paddingLeft:4,paddingRight:4},"")},IndicatorsTemplate=e=>{let{element:t,isFullPage:n,loggingContext:i,shouldMergeMarketUpdatesAndIndicators:y}=e;const f=t.contents.filter((e=>e.content_type===u.z.Indicators));if(0===f.length)return null;const v={contentId:function constructContentId(e){const t=[];for(const n of e)t.push(n.data.label);return t.join("_")}(f),contentType:u.z.Indicators,feedRank:i.feedRank,template:i.template};return(0,d.tZ)(l.E,{loggingContext:v,removeBottomBorder:y},(0,d.tZ)("div",{className:(0,r.cx)(m.container,y&&m.containerWithMarketUpdate),"data-testid":a.c.NewsFeedIndicators},(0,d.tZ)("div",{className:(0,r.cx)(m.indicatorContainers,y&&m.indicatorContainerMarketUpdate)},f.filter((e=>p.includes(e.data.indicator_type))).slice(0,g).map(((e,t)=>{let r=null;return"bonfire_market_index"===e.data.indicator_type&&(r=(0,d.tZ)(c.X,{key:e.data.indicator_key,indicatorKey:e.data.indicator_key,title:e.data.label,variant:n?"column":"default"})),"currency_pair"===e.data.indicator_type&&(r=(0,d.tZ)(s.c,{key:e.data.indicator_key,indicatorKey:e.data.indicator_key,title:e.data.label,variant:n?"column":"default"})),0===t?(0,d.tZ)("div",{className:m.indicator},r):(0,d.tZ)(o.Fragment,null,(0,d.tZ)("div",{className:m.verticalDivider}),(0,d.tZ)("div",{className:m.indicator},r))})))))}},24874:(e,t,n)=>{"use strict";n.d(t,{j:()=>MarketUpdate});var r=n(25773),o=n(53782),i=n(64900),a=n(35296),s=n(27378),l=n(35002),c=n(21675),u=n(38978),d=n(61001),p=n(61096),g=n(10043);const m=["children","href"];const y={body:(0,i.css)({name:"1l0p3iw",styles:"white-space:pre-line"}),footer:(0,i.css)({name:"hkh81z",styles:"margin-top:8px"}),header:(0,i.css)({name:"lpfg04",styles:"align-items:flex-start;column-gap:4px;display:flex;flex-direction:row;margin-bottom:16px"}),iconContainer:(0,i.css)({name:"1sfmcfp",styles:"align-items:center;display:flex;justify-content:center;padding-top:4px"})};function MarketUpdate(e){const t=(0,a.default)(new Date(e.marketUpdate.published_at),"h:mm a");return(0,g.tZ)(s.Fragment,null,"sidebar"!==e.variant&&(0,g.tZ)("div",{className:y.header},(0,g.tZ)("div",{className:y.iconContainer},e.bentoIcon&&(0,g.tZ)(l.sg,{type:e.bentoIcon})),(0,g.tZ)("div",null,(0,g.tZ)(c.Dy.Text,{isBold:!0,size:"M"},e.marketUpdate.title)," ",(0,g.tZ)(c.Dy.Text,{color:u.Wt.Fg2,size:"M"},t))),(0,g.tZ)("div",{className:y.body},(0,g.tZ)(d.UG,{overrideRenderers:{link:e=>{let{children:t,href:n}=e,i=(0,o.Z)(e,m);return(0,g.tZ)(p.A,(0,r.Z)({href:n,label:t,type:"anchor"},i,{color:u.E1.Primary}))},text:t=>(0,g.tZ)(c.Dy.Text,{size:"sidebar"===e.variant?"S":"M"},t)},source:e.marketUpdate.body})),"sidebar"===e.variant&&(0,g.tZ)("div",{className:y.footer},(0,g.tZ)(c.Dy.Text,{color:u.Wt.Fg2,size:"S"},e.marketUpdate.title)," ",(0,g.tZ)(c.Dy.Text,{color:u.Wt.Fg2,size:"S"},t)))}},49867:(e,t,n)=>{"use strict";let r,o;n.d(t,{Y:()=>r,z:()=>o}),function(e){e.Carousel="carousel",e.Collection="collection",e.ListsChipGrid="lists_chip_grid",e.LearningModules="education_series",e.EducationCarousel="education_carousel",e.NewsGroup="news_group",e.NewsHero="news_hero",e.NewsRegular="news_regular",e.VideoRegular="video_regular",e.MarketUpdates="market_updates",e.Indicators="indicators"}(r||(r={})),function(e){e.Article="feed_article",e.Carousel="carousel",e.Collection="collection",e.EmbeddedArticle="feed_embedded_article",e.Instrument="instrument",e.LearningModules="education_series",e.ListPreview="list_preview",e.Tweet="tweet",e.Upsell="upsell",e.Video="feed_video",e.MarketUpdates="market_updates",e.Indicators="indicator"}(o||(o={}))},49694:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r,o=n(27378),i=n(10959),a=n(16133),s=n(78501),l=n(10043);const c=o.lazy((()=>Promise.all([n.e(80964),n.e(1491),n.e(49424),n.e(87835),n.e(10027),n.e(35296),n.e(82771),n.e(86114),n.e(64035),n.e(28747),n.e(85948),n.e(32541),n.e(14616),n.e(84492),n.e(24498),n.e(1257),n.e(79146),n.e(60328),n.e(19747),n.e(6242),n.e(5972),n.e(7490),n.e(65384),n.e(94139),n.e(4913)]).then(n.bind(n,94139)).then((e=>({default:e.OdysseyManager})))));function InnerOdysseyRoute(e){let{basePath:t,flow:n}=e;const u=(0,i.k6)(),{pageKey:d}=(0,i.UO)(),p=(0,o.useRef)(),g=(0,o.useCallback)(((e,n)=>{if(p.current===e)p.current=void 0,u.goBack();else{p.current=n;const r="".concat(t,"/").concat(e);u.location.pathname===t?u.replace(r):u.push(r)}}),[u,t,p]);return(0,l.tZ)(s._,{fallback:r||(r=(0,l.tZ)(a.v,null))},(0,l.tZ)(c,{flow:n,onPageKeyChange:g,pageKey:d}))}const u=o.memo((function _OdysseyRoute(e){var t;let{flow:n,routeComponent:r=i.AW,path:a,exact:s,sensitive:c,strict:u}=e;const d=(0,o.useMemo)((()=>a.replace(/\/+$/,"")),[a]),p=(0,o.useMemo)((()=>"".concat(d,"/").concat(":pageKey?")),[d]);return(0,l.tZ)(r,{exact:s,path:p,render:()=>t||(t=(0,l.tZ)(InnerOdysseyRoute,{basePath:d,flow:n})),sensitive:c,strict:u})}))},43513:(e,t,n)=>{"use strict";n.d(t,{S:()=>p});var r,o=n(53782),i=n(27378),a=n(76657),s=n(16133),l=n(78501),c=n(10043);const u=["shouldShowCloseButton"],d=i.lazy((()=>Promise.all([n.e(28747),n.e(32541),n.e(84492),n.e(19747),n.e(6242),n.e(5972),n.e(7490),n.e(65384),n.e(94139),n.e(94434)]).then(n.bind(n,94139)).then((e=>({default:e.OdysseyManager}))))),p=i.memo((function _OdysseyTakeover(e){let{shouldShowCloseButton:t=!0}=e,n=(0,o.Z)(e,u);return(0,c.tZ)(a.D,{isCustomContent:!0,onClose:()=>{var e;return null===(e=n.onComplete)||void 0===e?void 0:e.call(n,"canceled")},shouldShowCloseButton:t},(0,c.tZ)(l._,{fallback:r||(r=(0,c.tZ)(s.v,null))},(0,c.tZ)(d,n)))}))},55373:(e,t,n)=>{"use strict";n.d(t,{Tb:()=>u,fd:()=>l,m2:()=>s,uL:()=>c});var r=n(10043),o=n(38978);const i={name:"1lbiuec",styles:"border-radius:0;height:initial;padding:16px 12px"},a=(0,r.iv)({fontSize:o.ZV.type.textL.fontSize,letterSpacing:o.ZV.type.textL.letterSpacing,lineHeight:o.ZV.type.textL.lineHeight},""),s=(0,r.iv)({"div + div > div":i,input:a,maxWidth:"initial"},""),l=(0,r.iv)({"div:only-child, div + div":i,input:a,maxWidth:"initial"},""),c=(0,r.iv)({button:i,span:a},""),u=(0,r.iv)({"div > div":i,"div > div > input":a},"")},32091:(e,t,n)=>{"use strict";n.d(t,{v:()=>OptionGreeks,z:()=>GreekNumber});n(27378);var r,o,i,a,s,l=n(1460),c=n(53195),u=n(25142),d=n(93284),p=n(10043);var g={name:"133fh6v",styles:"display:grid;grid-template-columns:repeat(5, 1fr)"};function OptionGreeks(e){let{optionAggregateQuote:t}=e;const n=null==t?void 0:t.displayGreeks;return(0,p.tZ)("div",{css:g},(0,p.tZ)(u.B,{label:r||(r=(0,p.tZ)(d.DH,{defaultMessage:"Delta",id:"OptionGreeks.Delta",status:"legacy"})),value:null!=n&&n.delta?(0,p.tZ)(GreekNumber,{value:n.delta}):c.Jj}),(0,p.tZ)(u.B,{label:o||(o=(0,p.tZ)(d.DH,{defaultMessage:"Gamma",id:"OptionGreeks.Gamma",status:"legacy"})),value:null!=n&&n.gamma?(0,p.tZ)(GreekNumber,{value:n.gamma}):c.Jj}),(0,p.tZ)(u.B,{label:i||(i=(0,p.tZ)(d.DH,{defaultMessage:"Theta",id:"OptionGreeks.Theta",status:"legacy"})),value:null!=n&&n.theta?(0,p.tZ)(GreekNumber,{value:n.theta}):c.Jj}),(0,p.tZ)(u.B,{label:a||(a=(0,p.tZ)(d.DH,{defaultMessage:"Vega",id:"OptionGreeks.Vega",status:"legacy"})),value:null!=n&&n.vega?(0,p.tZ)(GreekNumber,{value:n.vega}):c.Jj}),(0,p.tZ)(u.B,{label:s||(s=(0,p.tZ)(d.DH,{defaultMessage:"Rho",id:"OptionGreeks.Rho",status:"legacy"})),value:null!=n&&n.rho?(0,p.tZ)(GreekNumber,{value:n.rho}):c.Jj}))}function GreekNumber(e){let{value:t}=e;return(0,p.tZ)(l.FormattedNumber,{minimumFractionDigits:4,value:Number(t.toString())})}},87495:(e,t,n)=>{"use strict";n.d(t,{X:()=>OptionOrderDetailModal});var r,o,i=n(10043),a=(n(27378),n(7467)),s=n(21675),l=n(97224),c=n(47466),u=n(89302),d=n(42925),p=n(30156),g=n(33175),m=n(84974),y=n(22903),f=n(49569),v=n(71301),h=n(93284),_=n(32365),b=n(27548),C=n(49398),O=n(39989),S=n(12633),E=n(50169),P=n(26907);var Z={name:"1oy1nf4",styles:"left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:1"};function OptionOrderDetailModal(e){let{onClose:t,optionOrder:n}=e;const D=(0,h.og)(),[T,w]=(0,C.Z)({onCancel:t,optionOrder:n,source:_.dG.OrderDetail}),[I,k]=(0,C.Z)({onCancel:t,optionOrder:n,shouldRedirect:!0,source:_.dG.OrderDetail}),x=(0,g.E)(p.V.optionsServerDrivenNomenclature),{result:R}=(0,S.tT)({model:d.AccountRecord,params:{account_number:n.account_number}}),M=(0,S.tT)({disabled:!(null!=x&&x.isMember()),model:O.eU,params:{id:n.id}}),L=(null==x?void 0:x.isMember())&&M.loading;let A;var F,N;null!=x&&x.isMember()?A=null!==(F=null==M||null===(N=M.result)||void 0===N?void 0:N.subtitle)&&void 0!==F?F:D.formatMessage(b.s.customOrder,{numLegs:n.legs.size}):A=n.getFullTitle(D);return(0,i.tZ)(v.O,{loggingData:{screen:{name:f.t.event_logging.Screen.Name.OPTION_ORDER_DETAIL}}},(0,i.tZ)(a.u,{onClose:t,width:"wide"},(0,i.tZ)("div",{css:(0,i.iv)({position:"relative",visibility:L?"hidden":"visible",zIndex:0},"")},(0,i.tZ)(a.u.Header,null,(0,i.tZ)("div",null,r||(r=(0,i.tZ)(s.Dy.Text,{element:"h1",size:"L"},(0,i.tZ)(h.DH,{defaultMessage:"Option Order",id:"OptionOrderDetailModal.Header",status:"legacy"}))),(0,i.tZ)(s.Dy.Text,{size:"M"},A))),(0,i.tZ)("div",{css:(0,i.iv)({borderBottomStyle:"solid",borderBottomWidth:1,borderColor:(0,l.uI)().bg3,marginBottom:2*E.q3,marginTop:2*E.q3},"")}),(0,i.tZ)(u.I,{account:R,optionOrder:n}),n.isCancelable&&(0,i.tZ)(a.u.Footer,{primaryButton:{label:D.formatMessage({defaultMessage:"Cancel and Replace Order",id:"OptionOrderDetailModal.CancelReplace",status:"legacy"}),onClick:()=>{(0,P.UJ)({optionOrder:n}),y.c.logReplaceOptionOrderEvent(m.YB,n,_.dG.OrderDetail),k()},state:I?"loading":void 0},secondaryButton:{label:D.formatMessage({defaultMessage:"Cancel Order",id:"OptionOrderDetailModal.Cancel",status:"legacy"}),onClick:()=>{(0,P.hJ)({optionOrder:n}),w()},state:T?"loading":void 0}})),L&&(0,i.tZ)("div",{css:Z},o||(o=(0,i.tZ)(c.wc,null)))))}},2030:(e,t,n)=>{"use strict";n.d(t,{b:()=>OptionOrderDetailV2Modal});var r=n(25773),o=n(27378),i=n(7467),a=n(49569),s=n(71301),l=n(10043),c=n(26308),u=n(15379),d=n(90956),p=n(93284),g=n(32365),m=n(49398),y=n(50169),f=n(34051),v=n(39989);const h=(0,o.createContext)({account:void 0,aggregateQuote:new v.q$,detailsViewOpen:!1,optionQuotes:void 0,orderDetailScreen:void 0,quoteMap:(0,f.Map)({}),selectedLeg:void 0,setDetailsViewOpen:()=>{throw new Error("setDetailsViewOpen can only be called from within OptionModalProvider")},setSelectedLeg:()=>{throw new Error("setSelectedLeg can only be called from within OptionModalProvider")},taxWithholding:void 0});function OptionModalProvider(e){let{account:t,aggregateQuote:n,children:r,optionQuotes:i,orderDetailScreen:a,quoteMap:s,taxWithholding:c}=e;const[u,d]=(0,o.useState)(void 0),[p,g]=(0,o.useState)(!1);return(0,l.tZ)(h.Provider,{value:{account:t,aggregateQuote:n,detailsViewOpen:p,optionQuotes:i,orderDetailScreen:a,quoteMap:s,selectedLeg:u,setDetailsViewOpen:g,setSelectedLeg:d,taxWithholding:c}},r)}h.displayName="OptionModalContext";var _=n(26907);function Footer(e){let{onClose:t,optionOrder:n}=e;const r=(0,p.og)(),{aggregateQuote:a}=(0,o.useContext)(h),[s,f,v]=(0,m.Z)({optionOrder:n,source:g.dG.OrderDetail}),[b,C]=(0,m.Z)({onCancel:t,optionOrder:n,shouldRedirect:!0,source:g.dG.OrderDetail});return n.state===u.Kq.Cancelled?null:(0,l.tZ)(o.Fragment,null,v&&(0,l.tZ)("div",{css:(0,l.iv)({marginBottom:3*y.q3,marginTop:2*y.q3},"")},(0,l.tZ)(c.X,{iconType:"AlertFilled24",text:(0,d.oN)(v)})),n.isCancelable&&(0,l.tZ)(i.u.Footer,{isHorizontalLayout:!0,primaryButton:{label:r.formatMessage({defaultMessage:"Replace order",id:"OptionOrderDetailModal.Footer.Replace",redOakId:"2418226",status:"approved"}),onClick:()=>{(0,_.UJ)({aggregateQuote:a,optionOrder:n}),C()},state:b?"loading":void 0},secondaryButton:{label:r.formatMessage({defaultMessage:"Cancel Order",id:"OptionOrderDetailModal.Footer.Cancel",redOakId:"2418226",status:"approved"}),onClick:()=>{(0,_.hJ)({aggregateQuote:a,optionOrder:n}),f()},state:s?"loading":void 0}}))}var b,C=n(29714),O=n(38978),S=n(35002),E=n(21675),P=n(24498);var Z={name:"1vr7vmn",styles:"align-items:center;display:flex"};function Header(e){let{optionOrder:t}=e;const n=(0,p.og)(),r=(0,P.MS)(),{account:a,detailsViewOpen:s,selectedLeg:c,setDetailsViewOpen:u,setSelectedLeg:d}=(0,o.useContext)(h);return(0,l.tZ)(i.u.Header,null,(0,l.tZ)("div",{css:(0,l.iv)({alignItems:s?"left":"center",display:"flex",flexDirection:s?"row":"column",marginBottom:s?0:y.q3,marginLeft:s?0:40,width:"100%"},"")},s?(0,l.tZ)("div",{css:Z},(0,l.tZ)(C.Y,{onClick:()=>{d(void 0),u(!1)},overrideRootStyles:[{"&:hover":{backgroundColor:O.Wt.Fg2},borderRadius:"25px",cursor:"pointer",height:24,marginRight:y.hc,width:24}],type:"button"},b||(b=(0,l.tZ)(S.sg,{type:"CaretLeft24"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"L"},(0,l.tZ)(p.DH,{defaultMessage:"{title}",id:"Header.Title",redOakId:"2418226",status:"approved",values:{title:null==c?void 0:c.getFormattedLegTitle(n)}}))):(0,l.tZ)(E.Dy.Text,{size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{state} order",id:"Header.OrderState",redOakId:"2418226",status:"approved",values:{state:t.stateMessage.defaultMessage}})),r&&!s&&(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,l.tZ)(p.DH,{defaultMessage:"{accountType} account",id:"Header.AccountType",redOakId:"2418226",status:"approved",values:{accountType:null==a?void 0:a.label.defaultMessage}}))))}var D,T,w=n(47466);var I={name:"1e4x9bz",styles:"height:100px;position:relative;z-index:0"},k={name:"1oy1nf4",styles:"left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:1"};const LoadingModalSkeleton=e=>{let{onClose:t}=e;return(0,l.tZ)(i.u,{onClose:t,width:"wide"},D||(D=(0,l.tZ)(i.u.Header,null,(0,l.tZ)("div",null))),(0,l.tZ)("div",{css:I},(0,l.tZ)("div",{css:k},T||(T=(0,l.tZ)(w.wc,null)))))};var x=n(1460),R=n(97224),M=n(25718),L=n(53195),A=n(25142);var F,N,B,j,H,U,z=n(32091);var W={name:"bul4sd",styles:"display:grid;grid-template-columns:repeat(3, 1fr)"};function Greeks(e){let{aggregateQuote:t}=e;const n=null==t?void 0:t.displayGreeks;return n?(0,l.tZ)(o.Fragment,null,(0,l.tZ)("div",{css:(0,l.iv)({marginBottom:y.q3,marginTop:3*y.q3},"")},F||(F=(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"The Greeks",id:"OptionOrderDetailModal.GreeksTitle",redOakId:"2418226",status:"approved"})))),(0,l.tZ)("div",{css:W},(0,l.tZ)(A.B,{label:N||(N=(0,l.tZ)(p.DH,{defaultMessage:"Delta",id:"OptionGreeks.Delta",redOakId:"2418226",status:"approved"})),value:null!=n&&n.delta?(0,l.tZ)(z.z,{value:n.delta}):L.Jj}),(0,l.tZ)(A.B,{label:B||(B=(0,l.tZ)(p.DH,{defaultMessage:"Gamma",id:"OptionGreeks.Gamma",redOakId:"2418226",status:"approved"})),value:null!=n&&n.gamma?(0,l.tZ)(z.z,{value:n.gamma}):L.Jj}),(0,l.tZ)(A.B,{label:j||(j=(0,l.tZ)(p.DH,{defaultMessage:"Theta",id:"OptionGreeks.Theta",redOakId:"2418226",status:"approved"})),value:null!=n&&n.theta?(0,l.tZ)(z.z,{value:n.theta}):L.Jj}),(0,l.tZ)(A.B,{label:H||(H=(0,l.tZ)(p.DH,{defaultMessage:"Vega",id:"OptionGreeks.Vega",redOakId:"2418226",status:"approved"})),value:null!=n&&n.vega?(0,l.tZ)(z.z,{value:n.vega}):L.Jj}),(0,l.tZ)(A.B,{label:U||(U=(0,l.tZ)(p.DH,{defaultMessage:"Rho",id:"OptionGreeks.Rho",redOakId:"2418226",status:"approved"})),value:null!=n&&n.rho?(0,l.tZ)(z.z,{value:n.rho}):L.Jj}))):null}var q,Y,V=n(2968),G=n(80788);var K,Q,X,J,$,ee,te,ne={name:"2op5ao",styles:"display:flex;flex-direction:column;width:100px"},re={name:"11jf4ye",styles:"display:flex;gap:8px"},oe={name:"1qiamk3",styles:"display:flex;flex-direction:column;text-align:right;width:100px"};function LegBidAsk(e){let{optionQuote:t}=e;return(0,l.tZ)("div",{css:(0,l.iv)({display:"flex",justifyContent:"space-between",marginBottom:"32px",marginTop:2*y.q3},"")},(0,l.tZ)("div",{css:ne},(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},q||(q=(0,l.tZ)(p.DH,{defaultMessage:"Bid",id:"OptionStats.Bid.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{price}",id:"OptionStats.Bid.BidPrice",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(M.tA,{value:null==t?void 0:t.bid_price})}})),t&&(0,l.tZ)(E.Dy.Text,{size:"M"},(0,l.tZ)(p.DH,(0,r.Z)({},V.s.multiply,{id:"OptionStats.Bid.BidSize",redOakId:"2418226",status:"approved",values:{left:"",right:(0,l.tZ)(x.FormattedNumber,{value:t.bid_size})}})))),t&&(0,l.tZ)("div",{css:re},(0,l.tZ)(G.Q,{askSize:t.ask_size,bidSize:t.bid_size,isBid:!0,isVertical:!0}),(0,l.tZ)(G.Q,{askSize:t.ask_size,bidSize:t.bid_size,isBid:!1,isVertical:!0})),(0,l.tZ)("div",{css:oe},(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},Y||(Y=(0,l.tZ)(p.DH,{defaultMessage:"Ask",id:"LegBidAsk.Ask.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{price}",id:"LegBidAsk.Ask.AskPrice",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(M.tA,{value:null==t?void 0:t.ask_price})}})),t&&(0,l.tZ)(E.Dy.Text,{size:"M"},(0,l.tZ)(p.DH,(0,r.Z)({},V.s.multiply,{id:"LegBidAsk.Ask.AskSize",redOakId:"2418226",status:"approved",values:{left:"",right:(0,l.tZ)(x.FormattedNumber,{value:t.ask_size})}})))))}var ie={name:"bul4sd",styles:"display:grid;grid-template-columns:repeat(3, 1fr)"};function LegDetails(e){let{leg:t,quoteMap:n}=e;const r=n.get(t.option),i=((e,t)=>new v.q$({legs:(0,f.List)([{optionQuote:null!=t?t:new v.e1,ratioQuantity:e.ratio_quantity,side:e.side}])}))(t,r);return(0,l.tZ)(o.Fragment,null,(0,l.tZ)(LegBidAsk,{optionQuote:r}),(0,l.tZ)("div",{css:(0,l.iv)({borderBottomStyle:"solid",borderBottomWidth:1,borderColor:(0,R.uI)().bg3,marginBottom:3*y.q3,marginTop:2*y.q3},"")}),(0,l.tZ)("div",{css:ie},(0,l.tZ)(A.B,{label:K||(K=(0,l.tZ)(p.DH,{defaultMessage:"Mark",id:"OptionStats.Mark.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==r?void 0:r.mark_price})}),(0,l.tZ)(A.B,{label:Q||(Q=(0,l.tZ)(p.DH,{defaultMessage:"High",id:"OptionStats.High.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==r?void 0:r.high_price})}),(0,l.tZ)(A.B,{label:X||(X=(0,l.tZ)(p.DH,{defaultMessage:"Volume",id:"OptionStats.Volume.Title",redOakId:"2418226",status:"approved"})),value:r?(0,l.tZ)(x.FormattedNumber,{value:r.volume}):L.Jj}),(0,l.tZ)(A.B,{label:J||(J=(0,l.tZ)(p.DH,{defaultMessage:"Open Interest",id:"OptionStats.OpenInterest.Title",redOakId:"2418226",status:"approved"})),value:r?(0,l.tZ)(x.FormattedNumber,{value:r.open_interest}):L.Jj}),(0,l.tZ)(A.B,{label:$||($=(0,l.tZ)(p.DH,{defaultMessage:"Previous Close",id:"OptionStats.PreviousClose.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==r?void 0:r.previousClose})}),(0,l.tZ)(A.B,{label:ee||(ee=(0,l.tZ)(p.DH,{defaultMessage:"Low",id:"OptionStats.Low.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==r?void 0:r.low_price})}),(0,l.tZ)(A.B,{label:te||(te=(0,l.tZ)(p.DH,{defaultMessage:"Implied Volatility",id:"OptionStats.ImpliedVolatility.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(x.FormattedNumber,{format:"percent",value:Number(null==r?void 0:r.implied_volatility)})})),(0,l.tZ)(Greeks,{aggregateQuote:i}))}var ae=n(12587);const getLegDisplayPrice=e=>{let{leg:t,optionOrder:n,optionQuote:r}=e;if(n.state!==u.Kq.Filled)return null==r?void 0:r.coreValueIncludingExtendedHoursIfPossible;let o=0,i=0;return t.executions.forEach((e=>{o+=Number(e.quantity),i+=Number(e.price)*Number(e.quantity)})),o>0?i/o:0};var se;const le=(0,R.uI)(),ce=2*y.q3;var ue,de,pe,ge,me,ye={name:"1fttcpj",styles:"display:flex;flex-direction:column"};function Link(e){let{hasTopBorder:t,id:n,leg:r,onClick:o,optionOrder:i,optionQuote:a,subtitle:s,title:c}=e;return(0,l.tZ)(ae.f,null,(0,l.tZ)("div",{css:(0,l.iv)({"&:hover":{backgroundColor:le.hoverBg1},margin:"0 -".concat(ce,"px"),padding:"0 ".concat(ce,"px"),pointerEvents:r&&!i.isCancelable?"none":"auto"},""),"data-testid":"OptionModalLink-".concat(n)},(0,l.tZ)(C.Y,{color:O.Wt.Fg1,css:(0,l.iv)({alignItems:"center",borderColor:(0,R.uI)().bg3,borderTopStyle:t?"solid":"none",borderTopWidth:1,display:"flex",justifyContent:"space-between",margin:"-".concat(y.q3,"px 0"),padding:"".concat(y.q3,"px 0"),width:"100%"},""),onClick:o,type:"button"},(0,l.tZ)("div",{css:ye},(0,l.tZ)(E.Dy.Text,{size:"S"},c),s&&(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,l.tZ)(p.DH,{defaultMessage:s,id:"OptionModalLink.Subtitle.".concat(n),redOakId:"2418226",status:"approved"}))),(0,l.tZ)("div",{css:(0,l.iv)({alignItems:"center",columnGap:"2px",display:"flex",gap:y.hc},"")},r&&a&&(0,l.tZ)(E.Dy.Text,{size:"S"},(0,l.tZ)(M.tA,{value:getLegDisplayPrice({leg:r,optionOrder:i,optionQuote:a})})),i.isCancelable&&(se||(se=(0,l.tZ)(S.sg,{type:"CaretRight16"})))))))}function OrderLegs(e){let{optionOrder:t,quoteMap:n}=e;const r=(0,p.og)(),{setDetailsViewOpen:i,setSelectedLeg:a}=(0,o.useContext)(h);return(0,l.tZ)("div",{css:(0,l.iv)({paddingBottom:3*y.q3},"")},(0,l.tZ)("div",{css:(0,l.iv)({paddingBottom:y.q3},"")},ue||(ue=(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"Legs",id:"OptionOrderDetailModal.LegSectionTitle",redOakId:"2418226",status:"approved"})))),t.legs.map(((e,o)=>{const s=n.get(e.option);return(0,l.tZ)(Link,{key:"option_order_modal_leg_row_".concat(o),hasTopBorder:!0,id:"option_order_modal_leg_row_".concat(o),leg:e,onClick:()=>{(0,_.jD)({leg:e,optionOrder:t}),i(!0),a(e)},optionOrder:t,optionQuote:s,subtitle:e.getFormattedSubtitle(r,t),title:e.getFormattedLegTitle(r)})})))}var fe={name:"bul4sd",styles:"display:grid;grid-template-columns:repeat(3, 1fr)"};function MultilegDetails(e){let{optionOrder:t}=e;const{aggregateQuote:n,quoteMap:r}=(0,o.useContext)(h);return(0,l.tZ)(o.Fragment,null,(0,l.tZ)(OrderLegs,{optionOrder:t,quoteMap:r}),(0,l.tZ)(Greeks,{aggregateQuote:n}),(0,l.tZ)("div",{css:(0,l.iv)({display:"flex",justifyContent:"space-between",paddingBottom:y.q3,paddingTop:y.q3},"")},de||(de=(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"Total Credit",id:"MultilegDetails.TotalCredit.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{totalCredit}",id:"MultilegDetails.TotalCredit.Value",redOakId:"2418226",status:"approved",values:{totalCredit:(0,l.tZ)(M.tA,{value:null==t?void 0:t.stop_price})}}))),(0,l.tZ)("div",{css:fe},(0,l.tZ)(A.B,{label:pe||(pe=(0,l.tZ)(p.DH,{defaultMessage:"Max Profit",id:"MultilegDetails.MaxProfit.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==t?void 0:t.stop_price})}),(0,l.tZ)(A.B,{label:ge||(ge=(0,l.tZ)(p.DH,{defaultMessage:"Breakeven",id:"MultilegDetails.Breakeven.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==t?void 0:t.stop_price})}),(0,l.tZ)(A.B,{label:me||(me=(0,l.tZ)(p.DH,{defaultMessage:"Max Loss",id:"MultilegDetails.MaxLoss.Title",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:null==t?void 0:t.stop_price})})))}function OrderDetails(e){let{optionOrder:t}=e;const{quoteMap:n,selectedLeg:r}=(0,o.useContext)(h);return r?(0,l.tZ)(LegDetails,{leg:r,quoteMap:n}):(0,l.tZ)(MultilegDetails,{optionOrder:t})}var ve,he,_e,be,Ce,Oe,Se,Ee=n(8899),Pe=n(29085),Ze=n(15138);function Fields(e){var t,n;let{optionOrder:r,taxWithholding:i}=e;const a=r.isSingleLeg,s=r.direction===Ze.J7.Debit,c=new Date(null!==(t=r.created_at)&&void 0!==t?t:"").getFullYear()===(new Date).getFullYear();return(0,l.tZ)(o.Fragment,null,(0,l.tZ)("div",{css:(0,l.iv)({borderBottomStyle:"solid",borderBottomWidth:1,borderColor:(0,R.uI)().bg3,marginBottom:2*y.q3,marginTop:y.q3},"")}),(0,l.tZ)("div",{css:(0,l.iv)({columnGap:y.q3,display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",marginBottom:2*y.q3},"")},a&&(0,l.tZ)(Pe.D,{leg:r.legs.first(),optionOrder:r}),(0,l.tZ)(A.B,{label:ve||(ve=(0,l.tZ)(p.DH,{defaultMessage:"Time in force",id:"Fields.TimeInForce",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(p.DH,r.timeInForceMessage)}),(0,l.tZ)(A.B,{label:he||(he=(0,l.tZ)(p.DH,{defaultMessage:"Submitted",id:"Fields.Submitted",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(x.FormattedTime,{day:"numeric",month:"numeric",timeZoneName:"short",value:r.created_at,year:c?void 0:"2-digit"})}),(0,l.tZ)(A.B,{label:_e||(_e=(0,l.tZ)(p.DH,{defaultMessage:"Quantity",id:"Fields.Quantity",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(x.FormattedNumber,{value:Number(r.quantity)})}),(0,l.tZ)(Ee.k,{leg:r.legs.first(),optionOrder:r}),r.hasNonzeroStopPrice&&!r.isCancelable&&(0,l.tZ)(A.B,{label:be||(be=(0,l.tZ)(p.DH,{defaultMessage:"Stop price",id:"Fields.StopPrice",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:r.stop_price})}),r.hasNonzeroPrice&&!r.isCancelable&&(0,l.tZ)(A.B,{label:Ce||(Ce=(0,l.tZ)(p.DH,{defaultMessage:"Limit price",id:"Fields.LimitPrice",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:r.price})}),(null==i||null===(n=i.amount)||void 0===n?void 0:n.amount)&&(0,l.tZ)(o.Fragment,null,(0,l.tZ)(A.B,{label:Oe||(Oe=(0,l.tZ)(p.DH,{defaultMessage:"Backup withholding",id:"Fields.BackupWithholding",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:-i.amount.amount})}),(0,l.tZ)(A.B,{label:Se||(Se=(0,l.tZ)(p.DH,{defaultMessage:"Net credit",id:"Fields.NetCredit",redOakId:"2418226",status:"approved"})),value:(0,l.tZ)(M.tA,{value:Number(r.processed_premium)-(Number(i.amount.amount)||0)})})),r.hasFills&&(0,l.tZ)(A.B,{label:(0,l.tZ)(p.DH,{defaultMessage:"Total {costOrCredit}",id:"Fields.Total",redOakId:"2819976",status:"approved",values:{costOrCredit:s?"cost":"credit"}}),value:(0,l.tZ)(M.tA,{value:r.processed_premium})})))}var De=n(10959);const Te=(0,p.B2)({optionChainRow:{defaultMessage:"View {ticker} options",id:"optionsOrderDetailModal.optionChainRowTitle",redOakId:"2819976",status:"approved"},orderDetailsRow:{defaultMessage:"{type} details",id:"optionsOrderDetailModal.orderDetailRowTitle",redOakId:"2418226",status:"approved"},sdpRow:{defaultMessage:"View {ticker}",id:"optionsOrderDetailModal.sdpRowTitle",redOakId:"2418226",status:"approved"}});var we=n(33279);const getEarliestExpirationDate=e=>{const t=e.legs.first();if(!t)return null;let n=t.expiration_date;return e.legs.forEach((e=>{e.expiration_date<n&&(n=e.expiration_date)})),n};function Links(e){let{optionOrder:t}=e;const n=(0,p.og)(),r=t.isSingleLeg,i=t.legs.first(void 0),a=(0,De.k6)(),{aggregateQuote:s,setDetailsViewOpen:c,setSelectedLeg:u}=(0,o.useContext)(h),logLinkClick=e=>{(0,_.bh)({aggregateQuote:s,linkId:e,optionOrder:t})};return(0,l.tZ)(o.Fragment,null,t.isCancelable&&r&&i&&(0,l.tZ)(Link,{hasTopBorder:!0,id:we.q.DETAILS,leg:i,onClick:()=>{logLinkClick(we.q.DETAILS),c(!0),u(i)},optionOrder:t,title:n.formatMessage(Te.orderDetailsRow,{type:n.formatMessage(i.typeMessage)})}),(0,l.tZ)(Link,{id:we.q.CHAIN,onClick:()=>{logLinkClick(we.q.CHAIN),a.push("/options/chains/".concat(t.chain_symbol,"/"),{existingExpirationDate:getEarliestExpirationDate(t)})},optionOrder:t,title:n.formatMessage(Te.optionChainRow,{ticker:t.chain_symbol})}),(0,l.tZ)(Link,{id:we.q.SDP,onClick:()=>{logLinkClick(we.q.SDP),a.push("/stocks/".concat(t.chain_symbol))},optionOrder:t,title:n.formatMessage(Te.sdpRow,{ticker:t.chain_symbol})}))}var Ie,ke,xe;var Re,Me,Le={name:"1gkgtms",styles:"display:flex;flex-direction:column;gap:2px"},Ae={name:"1gkgtms",styles:"display:flex;flex-direction:column;gap:2px"},Fe={name:"1gkgtms",styles:"display:flex;flex-direction:column;gap:2px"};function MultilegBidAsk(e){let{aggregateQuote:t,optionOrder:n}=e;const r=null==t?void 0:t.getDisplayBidAsk(n.direction);return r?(0,l.tZ)("div",{css:(0,l.iv)({columnGap:y.q3,display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",marginTop:2*y.q3},"")},(0,l.tZ)("div",{css:Le},(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},Ie||(Ie=(0,l.tZ)(p.DH,{defaultMessage:"Limit price",id:"MultilegBidAsk.Limit.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{price}",id:"MultilegBidAsk.Limit.Price",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(M.tA,{value:n.price})}}))),(0,l.tZ)("div",{css:Ae},(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},ke||(ke=(0,l.tZ)(p.DH,{defaultMessage:"Bid",id:"MultilegBidAsk.Bid.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{price}",id:"MultilegBidAsk.Bid.BidPrice",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(M.tA,{value:r.bid})}}))),(0,l.tZ)("div",{css:Fe},(0,l.tZ)(E.Dy.Text,{color:O.Wt.Fg2,size:"S"},xe||(xe=(0,l.tZ)(p.DH,{defaultMessage:"Ask",id:"MultilegBidAsk.Ask.Title",redOakId:"2418226",status:"approved"}))),(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"{price}",id:"MultilegBidAsk.Ask.AskPrice",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(M.tA,{value:r.ask})}})))):null}var Ne={name:"2ji30f",styles:"width:80%"};function OrderSummary(e){let{optionOrder:t}=e;const{aggregateQuote:n,orderDetailScreen:r,quoteMap:i,taxWithholding:a}=(0,o.useContext)(h),s=t.isSingleLeg,c=((e,t)=>{const n=e.legs.first(void 0);if(e.isSingleLeg&&n)return t.get(n.option)})(t,i);return(0,l.tZ)(o.Fragment,null,(0,l.tZ)("div",{css:Ne},(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"L"},(0,l.tZ)(p.DH,{defaultMessage:"{title}",id:"OptionOrderDetailModal.Title",redOakId:"2418226",status:"approved",values:{title:null==r?void 0:r.title_line_1}}))),s?(0,l.tZ)(o.Fragment,null,t.isCancelable&&t.hasNonzeroStopPrice&&(0,l.tZ)("span",{css:(0,l.iv)({marginRight:y.q3},"")},(0,l.tZ)(p.DH,{defaultMessage:"{stopPriceText} {price}",id:"OptionOrderDetailModal.Header",redOakId:"2418226",status:"approved",values:{price:(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(M.tA,{value:t.stop_price})),stopPriceText:Re||(Re=(0,l.tZ)(E.Dy.Text,{size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"Stop price:",id:"OptionOrderDetailModal.StopPrice",redOakId:"2418226",status:"approved"})))}})),t.isCancelable&&(0,l.tZ)(p.DH,{defaultMessage:"{limitText} {price}",id:"OptionOrderDetailModal.Header",redOakId:"2418226",status:"approved",values:{limitText:Me||(Me=(0,l.tZ)(E.Dy.Text,{size:"M"},(0,l.tZ)(p.DH,{defaultMessage:"Limit price:",id:"OptionOrderDetailModal.LimitPrice",redOakId:"2418226",status:"approved"}))),price:(0,l.tZ)(E.Dy.Text,{isBold:!0,size:"M"},(0,l.tZ)(M.tA,{value:t.price}))}}),(0,l.tZ)(LegBidAsk,{optionQuote:c})):(0,l.tZ)(MultilegBidAsk,{aggregateQuote:n,optionOrder:t}),(0,l.tZ)(Fields,{optionOrder:t,taxWithholding:a}),!s&&(0,l.tZ)(OrderLegs,{optionOrder:t,quoteMap:i}),(0,l.tZ)(Links,{optionOrder:t}))}var Be=n(42925),je=n(67527),He=n(38967),Ue=n(12633);var ze=n(85952);var We={name:"3q4ecs",styles:"position:relative;z-index:0"};function OptionOrderDetailV2ModalComponent(e){let{onClose:t,optionOrder:n}=e;const{detailsViewOpen:r}=(0,o.useContext)(h);return(0,l.tZ)(s.O,{loggingData:{screen:{name:a.t.event_logging.Screen.Name.OPTION_ORDER_DETAIL}}},(0,l.tZ)(i.u,{onClose:t,width:"wide"},(0,l.tZ)("div",{css:We},(0,l.tZ)(Header,{optionOrder:n}),r?(0,l.tZ)(OrderDetails,{optionOrder:n}):(0,l.tZ)(o.Fragment,null,(0,l.tZ)(OrderSummary,{optionOrder:n}),(0,l.tZ)(Footer,{onClose:t,optionOrder:n})))))}function OptionOrderDetailV2Modal(e){let{onClose:t,optionOrder:n}=e;const i=function useOptionOrderDetailModalData(e){const t=(0,Ue.tT)({many:!0,model:v.e1,params:{ids:e.legs.map((e=>(0,Ue.Hz)(e.option))).join()}}),n=(0,Ue.tT)({model:Be.AccountRecord,params:{account_number:e.account_number}}),r=(0,Ue.tT)({model:v.PG,params:{orderId:e.id}}),i=e.legs.toArray().map((e=>e.executions.toArray().map((e=>e.id)).join(","))).join(","),a=(0,Ue.tT)({disabled:!i,model:He.e,params:{account_number:e.account_number,trigger_ids:i}}),s=(0,je.GZ)((0,je.KQ)(t),(0,je.KQ)(n),(0,je.KQ)(r),(0,je.KQ)(a)),[l,c,u,d]=s.result||[],p=(0,o.useMemo)((()=>(0,je.gM)({account:c,optionQuotes:l,orderDetailScreen:u,taxWithholding:d})),[c,l,u,d]);return s.loading||!s.result?s:p}(n);if(!i.result)return LoadingModalSkeleton({onClose:t});const{optionQuotes:a}=i.result,{aggregateQuote:s,quoteMap:c}=(0,ze.b)(n,a);return(0,l.tZ)(OptionModalProvider,(0,r.Z)({},i.result,{aggregateQuote:s,quoteMap:c}),(0,l.tZ)(OptionOrderDetailV2ModalComponent,{onClose:t,optionOrder:n}))}},33279:(e,t,n)=>{"use strict";let r;n.d(t,{q:()=>r}),function(e){e.CHAIN="option_order_modal_chain_row",e.DETAILS="option_order_modal_details_row",e.SDP="option_order_modal_sdp_row"}(r||(r={}))},85952:(e,t,n)=>{"use strict";n.d(t,{b:()=>getOptionQuoteMapAndAggregate});var r=n(39989),o=n(24124);const getOptionQuoteMapAndAggregate=(e,t)=>{const{optionQuotesMap:n}=(0,o.q)({optionQuotes:t});return{aggregateQuote:new r.q$({legs:e.getClientOptionAggregateQuoteLegs(n)}),quoteMap:n}}},26907:(e,t,n)=>{"use strict";n.d(t,{UJ:()=>logReplaceOrderTap,bh:()=>logLinkTap,hJ:()=>logCancelOrderTap,jD:()=>logLegRowTap});var r=n(34051),o=n(84974),i=n(22903),a=n(42592),s=n(49569),l=n(32365),c=n(33279);const u=s.t.event_logging.Screen.Name.OPTION_ORDER_DETAIL,d=(0,r.Map)({[c.q.CHAIN]:s.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_CHAIN,[c.q.DETAILS]:s.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_STRATEGY_DETAIL,[c.q.SDP]:s.t.event_logging.UserInteractionEventData.Action.VIEW_STOCK_DETAIL_PAGE});function logLinkTap(e){let{aggregateQuote:t,linkId:n,optionOrder:r}=e;i.c.logTapEvent(o.YB,{action:d.get(n),component:{component_type:s.t.event_logging.Component.ComponentType.ROW},context:{option_order_detail_context:getOptionOrderDetailContext({aggregateQuote:t,optionOrder:r})},screen:{name:u}})}function logCancelOrderTap(e){i.c.logTapEvent(o.YB,{action:s.t.event_logging.UserInteractionEventData.Action.CANCEL_ORDER,component:{component_type:s.t.event_logging.Component.ComponentType.BUTTON},context:{option_order_detail_context:getOptionOrderDetailContext(e)},screen:{name:u}})}function logReplaceOrderTap(e){i.c.logTapEvent(o.YB,{action:s.t.event_logging.UserInteractionEventData.Action.REPLACE_ORDER,component:{component_type:s.t.event_logging.Component.ComponentType.BUTTON},context:{option_order_detail_context:getOptionOrderDetailContext(e)},screen:{name:u}})}function logLegRowTap(e){let{leg:t,optionOrder:n}=e;i.c.logTapEvent(o.YB,{action:s.t.event_logging.UserInteractionEventData.Action.VIEW_OPTION_INSTRUMENT_QUOTE_DETAIL,component:{component_type:s.t.event_logging.Component.ComponentType.ROW},context:{option_order_detail_leg_context:{option_instrument_id:t.id,order_id:n.id,order_state:n.state,position_effect:t.position_effect}},screen:{name:u}})}function getOptionOrderDetailContext(e){let{aggregateQuote:t,optionOrder:n}=e;const r=null==t?void 0:t.getDisplayBidAsk(n.direction);return{ask_price:r?r.ask.toNumber():null,bid_price:r?r.bid.toNumber():null,chain_symbol:n.chain_symbol,filled_quantity:Number(n.processed_quantity),is_stop_order:n.hasNonzeroStopPrice,limit_price:Number(n.price),order_id:n.id,order_state:n.state,source:(0,a.vA)(l.dG.OrderDetail),total_quantity:Number(n.quantity)}}},56292:(e,t,n)=>{"use strict";let r;n.d(t,{K:()=>r}),function(e){e[e.UPDATE_FORM_VALUES=0]="UPDATE_FORM_VALUES",e[e.UPDATE_STEP=1]="UPDATE_STEP",e[e.SET_ORDER_FORM_STATE=2]="SET_ORDER_FORM_STATE",e[e.SELECT_OPTION_LEGS=3]="SELECT_OPTION_LEGS",e[e.UNSELECT_OPTION_LEG=4]="UNSELECT_OPTION_LEG",e[e.UPDATE_RATIO_MODE=5]="UPDATE_RATIO_MODE",e[e.UPDATE_RATIO_QUANTITY=6]="UPDATE_RATIO_QUANTITY",e[e.SET_ALL_RATIO_QUANTITIES_TO_ONE=7]="SET_ALL_RATIO_QUANTITIES_TO_ONE",e[e.UPDATE_INTERNAL_POSITION_EFFECT=8]="UPDATE_INTERNAL_POSITION_EFFECT",e[e.SET_ORDER_ID=9]="SET_ORDER_ID",e[e.SET_ORDER_CHECK_ERROR=10]="SET_ORDER_CHECK_ERROR",e[e.SET_SERVER_DRIVEN_ORDER_CHECK_ERROR=11]="SET_SERVER_DRIVEN_ORDER_CHECK_ERROR",e[e.SKIP_ORDER_CHECK_ERROR=12]="SKIP_ORDER_CHECK_ERROR",e[e.CLEAR_ORDER_CHECK_ERROR_STATE=13]="CLEAR_ORDER_CHECK_ERROR_STATE",e[e.SET_SERVER_ERROR=14]="SET_SERVER_ERROR",e[e.CLEAR_SERVER_ERROR=15]="CLEAR_SERVER_ERROR",e[e.REPLACE_ORDER_STATE=16]="REPLACE_ORDER_STATE",e[e.LOAD_EXISTING_ORDER_STATE=17]="LOAD_EXISTING_ORDER_STATE"}(r||(r={}))},56539:(e,t,n)=>{"use strict";n.d(t,{$:()=>f});var r=n(25773),o=(n(27378),n(21675)),i=n(38978),a=n(73367),s=n(3e3),l=n(2968),c=n(93284),u=n(42579),d=n(60339),p=n(40946),g=n(76312),m=n(37249),y=n(10043);const f=(0,g.I)((function _Footer(e){let{optionChain:t,selectedOptionLegs:n}=e;const g=(0,p.T)(),f=(0,d.L)(t),v=null==n?void 0:n.filter((e=>e.positionEffect===u.yR.Open));return 1===(null==v?void 0:v.length)&&v[0].positionEffect===u.yR.Open&&v[0].side===a.Side.Sell&&v[0].optionInstrument.type===u.GL.Call?(0,y.tZ)(o.Dy.Text,{color:i.Wt.Fg2,size:"S"},(0,y.tZ)(c.DH,(0,r.Z)({},l.s.sharesAvailable,{values:{quantity:f}}))):g?(0,y.tZ)(o.Dy.Text,{color:i.Wt.Fg2,size:"S"},(0,y.tZ)(s.vw,{buyingPower:m.WI.dangerouslyGetValueAsString(g.buyingPower)})):null}))},6926:(e,t,n)=>{"use strict";n.d(t,{$:()=>OptionAccountSwitcher});var r,o=n(10043),i=n(27378),a=n(38978),s=n(76596),l=n(29714),c=n(35002),u=n(21675),d=n(45817),p=n(26308),g=n(24498),m=n(67527),y=n(84974),f=n(22903),v=n(49569),h=n(93284),_=n(39989),b=n(12633),C=n(26835),O=n(76312),S=n(50169),E=n(2320);const P={accountRowButton:(0,o.iv)({"&:hover":{backgroundColor:a.ZV.neutral.bg2},alignItems:"center",borderBottom:"1px solid ".concat(a.ZV.neutral.bg3),display:"flex",padding:"16px 24px",width:"100%"},""),button:(0,o.iv)({"&:hover":{backgroundColor:a.ZV.neutral.bg2},borderTop:"1px solid ".concat(a.ZV.neutral.bg3),display:"flex",padding:14,width:"100%"},""),disabledDropdownButton:(0,o.iv)({borderTop:"1px solid ".concat(a.ZV.neutral.bg3),display:"flex",padding:14,width:"100%"},""),disabledRowButton:(0,o.iv)({alignItems:"center",backgroundColor:a.ZV.neutral.bg2,borderBottom:"1px solid ".concat(a.ZV.neutral.bg3),display:"flex",p:{color:a.ZV.neutral.fg3},padding:"16px 24px",width:"100%"},"")},Z=(0,O.I)((e=>{let{endpoint:t,optionLegs:n,positionEffect:O,step:Z}=e;const D=(0,h.og)(),T=(0,b.C$)(),[w,I]=(0,i.useState)(!1),k=(0,i.useRef)(null),[x,{activeAccount:R,setActiveAccount:M},L]=(0,m.X_)((0,g.$p)(),(0,g.DV)(),(0,b.tT)({many:!1,model:_.CW,params:{endpoint:t}})),A=null==L?void 0:L.getAccountsForOrder({optionLegs:n,positionEffect:O}),F=(0,i.useRef)(!1);if((0,i.useEffect)((()=>{!F.current&&R&&f.c.logAppearEvent(y.YB,{component:{component_type:v.t.event_logging.Component.ComponentType.ACCOUNT_SWITCHER},context:{brokerage_account_context:{account_type:null==R?void 0:R.rosettaAccountType}},screen:{name:v.t.event_logging.Screen.Name.OPTION_ORDER_FORM}}),F.current=!0}),[R]),!R||!x||x.size<=1)return null;if(!R.hasOptionsAccess){const e=x.find((e=>e.hasOptionsAccess));if(!e)return null;M(e)}const N=function getDropdownIconName(e,t){if(!t)return;const n=t.find((t=>t.account_number===e.account_number));return null==n?void 0:n.icon}(R,A),B=(0,s.zj)(N),j=(0,E.pY)(Z);return(0,o.tZ)(i.Fragment,null,(0,o.tZ)(l.Y,{innerRef:k,onClick:()=>{I(!w),f.c.logTapEvent(y.YB,{component:{component_type:v.t.event_logging.Component.ComponentType.ACCOUNT_SWITCHER},context:{brokerage_account_context:{account_type:null==R?void 0:R.rosettaAccountType}},screen:{name:v.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})},overrideRootStyles:j?P.disabledDropdownButton:P.button,state:j?"disabled":"default",type:"button"},B&&(0,o.tZ)(c.sg,{color:getIconColor(j),type:B}),(0,o.tZ)("div",{css:(0,o.iv)({marginLeft:a.ZV.size.gutterWidth},"")},(0,o.tZ)(u.Dy.Text,{overrideRootStyles:{color:j?a.ZV.neutral.fg3:"inherit",marginRight:8},size:"S"},(0,o.tZ)(h.DH,R.label))),!j&&(r||(r=(0,o.tZ)(c.sg,{type:"Dropdown16"})))),(0,o.tZ)(d.J,{dangerouslyEnforceZIndex:"".concat(S.Kl+2),gap:2,id:"account-switcher-popover",isOpen:w,onClose:()=>I(!1),placement:"bottom",targetEl:k.current},!L&&(0,o.tZ)(p.X,{callToAction:D.formatMessage(C.s.accountSwitcher.errorCTA),iconType:"Info24",onCallToActionClick:()=>{T.invalidate({model:_.CW,params:{endpoint:t}})},text:D.formatMessage(C.s.accountSwitcher.fetchError)}),(0,o.tZ)("div",null,x.map((e=>{const t=null==A?void 0:A.find((t=>t.account_number===e.account_number)),n=t&&(0,s.zj)(t.icon),r=!!t&&!t.is_selectable;return(0,i.useEffect)((()=>{f.c.logAppearEvent(y.YB,{component:{component_type:v.t.event_logging.Component.ComponentType.ROW,identifier:e.brokerage_account_type},context:{brokerage_account_context:{account_type:R.rosettaAccountType}},screen:{name:v.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})}),[e]),(0,o.tZ)(l.Y,{key:e.account_number,onClick:()=>{!function handleSelect(e){const t=x.find((t=>t.account_number===e));t&&(M(t),I(!1))}(e.account_number),f.c.logTapEvent(y.YB,{component:{component_type:v.t.event_logging.Component.ComponentType.ROW,identifier:e.brokerage_account_type},context:{brokerage_account_switcher_context:{from_account_type:R.rosettaAccountType,to_account_type:e.rosettaAccountType}},screen:{name:v.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})},overrideRootStyles:r?P.disabledRowButton:P.accountRowButton,state:r?"disabled":"default",type:"button"},n&&(0,o.tZ)(c.sg,{color:getIconColor(r),type:n}),(0,o.tZ)("div",{css:(0,o.iv)({flexGrow:1,marginLeft:a.ZV.size.gutterWidth},"")},(0,o.tZ)(u.Dy.Text,{element:"p",size:"S"},(null==t?void 0:t.title)||(0,o.tZ)(h.DH,e.label)),(0,o.tZ)(u.Dy.Text,{color:a.Wt.Fg2,element:"p",size:"S"},null==t?void 0:t.subtitle)),e.account_number===R.account_number&&(0,o.tZ)(c.sg,{color:a.E1.Success,type:"Checkmark24"}))})))))}),null);function OptionAccountSwitcher(e){return e.endpoint?(0,o.tZ)(Z,e):null}function getIconColor(e){return e?a.Wt.Fg3:a.Wt.Fg1}},53008:(e,t,n)=>{"use strict";n.d(t,{hI:()=>useAdjustedMarkPrice,e9:()=>useAdjustedNaturalPrice,kF:()=>i.k,xr:()=>a.x,iw:()=>s.i,Fb:()=>useControlProps,L_:()=>useDebouncedSingleLegMarketability,gm:()=>useDirection,Dq:()=>useInvalidateRelatedOptionOrderRecords,tY:()=>useLimitPrice,op:()=>useLogConfirmOptionLegSelection,_p:()=>useLogEditOptionOrderFormValues,yi:()=>useLogInitialOptionOrderFormLoad,P4:()=>useLogOptionOrderMarketability,Jv:()=>useLogUnmountOptionOrderForm,Cj:()=>useMeasureOrderFormReceiptETR,nq:()=>useMeasureStepTransitionPerformance,hW:()=>useMultiLegMarketability,gw:()=>useOnSelectRatioMode,vM:()=>useOnSubmitOptionOrderForm,pp:()=>useOptionCollateral,EP:()=>useOptionOrder,Gp:()=>E.G,I0:()=>useOptionStrategy,To:()=>useOptionStrategyBonfire,Gm:()=>useOrderQuantity,nE:()=>Jt.n,JQ:()=>useReplaceOrder,Xn:()=>useResetOptionOrderFormStateUponUnmount,sW:()=>useResetOrderFormState,e1:()=>useResetPriceFieldsUponStrategyChange,Nz:()=>useSelectOptionLegs,Ad:()=>useShouldForceUserDefinedLimitPrice,xs:()=>useStopPrice,dv:()=>useUnderlyingQuote,QO:()=>$t.Q,CW:()=>useUnsignedEffect,bM:()=>useUpdateOptionOrderFormStep});var r=n(15373),o=n.n(r);function useAdjustedMarkPrice(e){return String(e.reduce(((e,t)=>e.add(o()(t.optionQuote?t.optionQuote.getSideAdjustedMarkPrice(t.side):0).mul(t.ratioQuantity))),o()(0)))}function useAdjustedNaturalPrice(e){return String(e.reduce(((e,t)=>e.add(o()(t.optionQuote?t.optionQuote.getSideAdjustedNaturalPrice(t.side):0).mul(t.ratioQuantity))),o()(0)))}var i=n(98212),a=n(88182),s=n(4209),l=n(27378),c=n(24498),u=n(30156),d=n(33175),p=n(93284),g=n(7467),m=n(21675),y=n(22170),f=n(21881),v=n(84974),h=n(31504),_=n(49569),b=n(39989),C=n(12633),O=n(56292),S=n(81359),E=n(50629);function useGoBackToEdit(e){const[,t]=(0,E.G)(e);return(0,l.useCallback)((()=>{t({type:O.K.CLEAR_ORDER_CHECK_ERROR_STATE}),t({type:O.K.CLEAR_SERVER_ERROR}),t({step:S.hV.Edit,type:O.K.UPDATE_STEP})}),[t])}var P=n(10043);function CancelPendingCryptoButton(e){let{account:t,context:n,isCanceling:r,setIsCanceling:o}=e;const i=(0,p.og)(),a=(0,C.C$)(),[s,c]=(0,l.useState)({isOpen:!1}),u=useGoBackToEdit(n),d=i.formatMessage({defaultMessage:"Something went wrong",id:"OptionOrderForm.ErrorModal.Header",redOakId:"2766946",status:"approved"}),O=void 0!==s.canceledPendingOrdersCount&&void 0!==s.totalPendingOrdersCount?i.formatMessage({defaultMessage:"We were only able to cancel {canceledPendingOrdersCount} of {totalPendingOrdersCount} of your pending crypto orders. You’ll need to restart your order.",id:"OptionOrderForm.ErrorModal.Body.ErrorWithCount",redOakId:"2766946",status:"approved"},{canceledPendingOrdersCount:s.canceledPendingOrdersCount,totalPendingOrdersCount:s.totalPendingOrdersCount}):i.formatMessage({defaultMessage:"We were unable to cancel all your pending crypto orders. You’ll need to restart your order.",id:"OptionOrderForm.ErrorModal.Body.ErrorWithoutCount",redOakId:"2766946",status:"approved"});return(0,P.tZ)(l.Fragment,null,(0,P.tZ)(y.z,{label:i.formatMessage({defaultMessage:"Yes, cancel crypto orders(s)",id:"OptionOrderForm.CancelPendingCryptoButton",redOakId:"2766946",status:"approved"}),onClick:async()=>{o(!0);try{const e=await f.nm.post("/orders/cancel_all_pending/").send({side_to_cancel:"buy"});await a.invalidate({model:b.QY,params:{accountNumber:t.account_number}}),200===e.status?e.body.canceled_pending_order_count===e.body.total_pending_order_count?u():c({canceledPendingOrdersCount:e.body.canceled_pending_order_count,isOpen:!0,totalPendingOrdersCount:e.body.total_pending_order_count}):c({isOpen:!0})}catch(e){c({isOpen:!0})}finally{o(!1)}},protoLoggingInfo:{action:_.t.event_logging.UserInteractionEventData.Action.CANCEL_ORDER,component:{identifier:"cancel-pending-crypto-button"},screen:{name:_.t.event_logging.Screen.Name.OPTION_ORDER_FORM}},state:r?"loading":"default",type:"button",variant:"primary",width:"full"}),s.isOpen&&(0,P.tZ)(g.u,{onClose:()=>c({isOpen:!1}),width:"standard"},(0,P.tZ)(g.u.Header,{title:d}),(0,P.tZ)(m.Dy.Text,{size:"S"},O),(0,P.tZ)(g.u.Footer,{primaryButton:{label:i.formatMessage({defaultMessage:"Restart your order",id:"OptionOrderForm.ErrorModal.RestartOrderButton",redOakId:"2766946",status:"approved"}),onClick:()=>{(0,h.Fb)(v.YB,{action:_.t.event_logging.UserInteractionEventData.Action.BACK,component:{identifier:"restart-your-order-button"},context:{alert_context:{alert_message:O,alert_title:d}},screen:{name:_.t.event_logging.Screen.Name.OPTION_ORDER_FORM}}),c({isOpen:!1}),u()}}})))}function useUpdateOptionOrderFormStep(e){const[,t]=(0,E.G)(e);return(0,l.useCallback)((e=>{t({step:e,type:O.K.UPDATE_STEP})}),[t])}function ContinueToEditButton(e){let{context:t}=e;const n=(0,p.og)(),r=useUpdateOptionOrderFormStep(t);return(0,P.tZ)(y.z,{label:n.formatMessage({defaultMessage:"Continue",id:"OptionOrderForm.ContinueToEdit",status:"legacy"}),onClick:()=>r(S.hV.Edit),type:"button",width:"full"})}function EnterLimitPriceButton(e){let{context:t,limitPriceRef:n,variant:r}=e;const o=(0,p.og)(),i=useGoBackToEdit(t),a=(0,l.useCallback)((()=>{i(),setTimeout((()=>{n.current&&n.current.focus()}),0)}),[i,n]);return(0,P.tZ)(y.z,{label:o.formatMessage({defaultMessage:"Enter Limit Price",id:"OptionOrderForm.EnterLimitPriceButton",status:"legacy"}),onClick:a,type:"button",variant:r,width:"full"})}function EnterStopPriceButton(e){let{context:t,stopPriceRef:n,variant:r}=e;const o=(0,p.og)(),i=useGoBackToEdit(t),a=(0,l.useCallback)((()=>{i(),setTimeout((()=>{n.current&&n.current.focus()}),0)}),[i,n]);return(0,P.tZ)(y.z,{label:o.formatMessage({defaultMessage:"Edit Order",id:"OptionOrderForm.EnterStopPriceButton",status:"legacy"}),onClick:a,type:"button",variant:r,width:"full"})}function GoBackToEditButton(e){let{context:t,disabled:n,label:r,protoLoggingInfo:o,variant:i}=e;const a=(0,p.og)(),s=useGoBackToEdit(t);return(0,P.tZ)(y.z,{label:null!=r?r:a.formatMessage({defaultMessage:"Go Back",id:"OptionOrderForm.GoBackToEditButton",status:"legacy"}),onClick:s,protoLoggingInfo:o,state:n?"disabled":"default",type:"button",variant:i,width:"full"})}function ResetOrderFormButton(e){let{label:t,onClick:n,variant:r}=e;const o=(0,p.og)();return(0,P.tZ)(y.z,{label:null!=t?t:o.formatMessage({defaultMessage:"Cancel",id:"OptionOrderForm.ResetOrderFormButton",status:"legacy"}),onClick:n,type:"button",variant:r,width:"full"})}function ReviewOrderButton(e){let{disabled:t,step:n}=e;const r=(0,p.og)();return(0,P.tZ)(y.z,{label:r.formatMessage({defaultMessage:"Review Order",id:"OptionOrderForm.ReviewOrderButton",status:"legacy"}),state:getButtonState({disabled:t,step:n}),type:"submit",width:"full"})}function getButtonState(e){let{disabled:t,step:n}=e;return t?"disabled":n===S.hV.Reviewing?"loading":void 0}function useSkipOrderCheckError(e){const[{orderCheckError:t},n]=(0,E.G)(e);return(0,l.useCallback)((()=>{t&&(n({orderCheckError:t,type:O.K.SKIP_ORDER_CHECK_ERROR}),n({step:S.hV.Reviewing,type:O.K.UPDATE_STEP}))}),[n,t])}function SkipErrorButton(e){let{context:t,label:n,variant:r}=e;const o=(0,p.og)(),i=useSkipOrderCheckError(t);return(0,P.tZ)(y.z,{label:null!=n?n:o.formatMessage({defaultMessage:"Continue",id:"OptionOrderForm.SkipErrorButton",status:"legacy"}),onClick:i,type:"button",variant:r,width:"full"})}function SubmitOrderButton(e){let{step:t}=e;const n=(0,p.og)();return(0,P.tZ)(y.z,{label:n.formatMessage({defaultMessage:"Submit",id:"OptionOrderForm.SubmitOrderButton",status:"legacy"}),state:t===S.hV.Submitting?"loading":void 0,type:"submit",width:"full"})}var Z,D=n(97224),T=n(38978),w=n(27548),I=n(19207),k=n(37335),x=n(50169);function SummaryRow(e){let{optionInstrument:t,positionEffect:n,ratioQuantity:r,side:o}=e;return(0,P.tZ)("div",{css:(0,P.iv)({alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:1,borderColor:(0,D.uI)().bg3,display:"flex",height:x.Zv,justifyContent:"space-between"},"")},(0,P.tZ)("div",null,(0,P.tZ)("div",null,(0,P.tZ)(m.Dy.Text,{size:"S"},(0,P.tZ)(p.DH,{defaultMessage:"{strikePrice} {type}",id:"OptionOrderForm.MultiLegOrderSummary.SummaryRow.Title",status:"legacy",values:{strikePrice:(0,P.tZ)(k.C,{value:t.strike_price}),type:(0,P.tZ)(p.DH,w.s.optionType[t.type])}}))),(0,P.tZ)(m.Dy.Text,{color:T.Wt.Fg2,size:"S"},(0,P.tZ)(p.DH,{defaultMessage:"{date} Exp",id:"OptionOrderForm.MultiLegOrderSummary.SummaryRow.Date",status:"legacy",values:{date:(0,P.tZ)(I.X,{value:t.normalizedExpirationDate})}}))),(0,P.tZ)("div",null,r?(0,P.tZ)(p.DH,{defaultMessage:"{side} to {positionEffect} {ratioQuantity, number}",id:"OptionOrderForm.MultiLegOrderSummary.SummaryRow.Action.WithRatio",status:"legacy",values:{positionEffect:(0,P.tZ)(p.DH,w.s.positionEffect[n]),ratioQuantity:r,side:(0,P.tZ)(p.DH,w.s.side[o])}}):(0,P.tZ)(p.DH,{defaultMessage:"{side} to {positionEffect}",id:"OptionOrderForm.MultiLegOrderSummary.SummaryRow.Action.NoRatio",status:"legacy",values:{positionEffect:(0,P.tZ)(p.DH,w.s.positionEffect[n]),side:(0,P.tZ)(p.DH,w.s.side[o])}})))}var R={name:"ti75j2",styles:"margin:0"};function MultiLegOrderSummary(e){let{optionLegs:t}=e;const n=!!t.filter((e=>1!==e.ratioQuantity)).length;return(0,P.tZ)(l.Fragment,null,(0,P.tZ)("h4",{css:R},Z||(Z=(0,P.tZ)(m.Dy.Text,{isBold:!0,size:"S"},(0,P.tZ)(p.DH,{defaultMessage:"Order Summary",id:"OptionOrderForm.MultiLegOrderSummary.Title",status:"legacy"})))),t.map((e=>{let{optionInstrument:t,positionEffect:r,ratioQuantity:o,side:i}=e;return(0,P.tZ)(SummaryRow,{key:t.id,optionInstrument:t,positionEffect:r,ratioQuantity:n?o:void 0,side:i})})))}var M=n(73367),L=n(34051),A=n(44574);function useUnderlyingInstrumentsData(e){const t=(0,C.tT)({many:!0,model:A.k0,params:{active_instruments_only:!1,ids:e.underlying_instruments.map((e=>A.k0.idFromUrl(e.instrument))).join(",")}}).result;return(0,l.useMemo)((()=>t?e.underlying_instruments.map((e=>({instrument:t.find((t=>t.id===A.k0.idFromUrl(e.instrument))),quantity:e.quantity}))):(0,L.List)()),[t,e.underlying_instruments])}var F=n(42579),N=n(25718),B=n(2968),j=n(25773);function useOrderQuantity(e){const[{values:{quantity:t}}]=(0,E.G)(e);return t||"1"}function useOptionOrderObligations(e,t){const n=useOrderQuantity(e),r=useUnderlyingInstrumentsData(t);return(0,l.useMemo)((()=>{const e=r.map((e=>{let{instrument:t,quantity:r}=e;return t?(0,P.tZ)(p.DH,(0,j.Z)({key:t.id},B.s.sharesOfXSentence,{values:{quantity:String(o()(r).times(n)),symbol:t.symbol}})):null})).filter((e=>!!e)).toArray();return t.cash_component&&o()(t.cash_component).gt(0)&&e.push((0,P.tZ)(N.tA,{value:t.cash_component})),e}),[t.cash_component,n,r])}function useMarketPrice(e){var t,n,r,s;let{optionLegs:l}=e;const c=(0,i.k)(l),u=(0,a.x)(l);if(1!==l.length)return String(o()(u).plus(o()(c)).div(2));const d=null!==(t=null===(n=l[0].optionQuote)||void 0===n?void 0:n.getSideAdjustedMarkPrice(l[0].side))&&void 0!==t?t:"0",p=null!==(r=null===(s=l[0].optionQuote)||void 0===s?void 0:s.getSideAdjustedMarkPriceRoundDown(l[0].side))&&void 0!==r?r:"0";return l[0].side===M.Side.Sell?p:d}function useMinTickRoundedPrice(e){let{minTickSize:t,price:n,side:r}=e;return(0,l.useMemo)((()=>{const e=o()(n).abs(),i=e.mod(t);if(i.eq(0))return n;const a=e.minus(i),s=r===M.Side.Buy?String(a.plus(t)):String(a.lte(0)?t:a);return o()(n).lt(0)?String(o()(s).times(-1)):s}),[t,n,r])}function useMinTickRoundedMarketPrice(e){let{optionChain:t,optionLegs:n}=e;const r=useMarketPrice({optionLegs:n}),i=t.getMinTickSize(o()(r).abs().toString());return useMinTickRoundedPrice({minTickSize:1===n.length?i:F.xg,price:r,side:1===n.length?n[0].side:M.Side.Buy})}function useMinTickRoundedNaturalPrice(e){let{optionChain:t,optionLegs:n}=e;const r=useAdjustedNaturalPrice(n),i=t.getMinTickSize(o()(r).abs().toString());return useMinTickRoundedPrice({minTickSize:1===n.length?i:F.xg,price:r,side:1===n.length?n[0].side:M.Side.Buy})}function useLimitPrice(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}=e;const[{values:{limitPrice:a}}]=(0,E.G)(t),s=useMinTickRoundedMarketPrice({optionChain:r,optionLegs:i}),l=useMinTickRoundedNaturalPrice({optionChain:r,optionLegs:i});if(a)return a;const c=o()(n===F.s$.Mark||i.length>1?s:l).abs();return c.eq(0)?r.getMinTickSize(c.toString()):c.toString()}function useUnsignedEffect(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}=e;const a=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}),s=useOrderQuantity(t);return String(o()(s).times(a).times(r.trade_value_multiplier))}var H,U,z,W,q,Y,V,G,K,Q,X,J=n(23371);function BuyToClose(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLeg:i}=e;const a=useOrderQuantity(t),s=useUnsignedEffect({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:[i]}),l=useOptionOrderObligations(t,r);return o()(a).gt(0)&&l.length?(0,P.tZ)(p.DH,{defaultMessage:"You’re paying {totalCost} to buy back {quantity, number} open {quantity, plural,\n        one {contract}\n        other {contracts}\n      } which will release collateral and remove your obligation to\n      {rightToAction} {obligationList} for {strikeCost} each on or before {expirationDate}.",id:"OptionOrderForm.SingleLegOrderSummary.BuyToClose",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(i.optionInstrument.expiration_date)}),obligationList:(0,P.tZ)(N.yX,{conjunction:(0,P.tZ)(p.DH,B.s.conjunctions.and),nodes:l}),quantity:a,rightToAction:i.optionInstrument.type===F.GL.Call?(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Sell]):(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Buy]),strikeCost:(0,P.tZ)(N.tA,{value:i.optionInstrument.strike_price}),totalCost:(0,P.tZ)(N.tA,{value:s})}}):null}function BuyToOpen(e){let{context:t,defaultPricingSetting:n,firstUnderlyingInstrument:r,optionChain:i,optionLeg:a}=e;const s=useOrderQuantity(t),l=useUnsignedEffect({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:[a]});return o()(s).gt(0)&&r?(0,P.tZ)(p.DH,{defaultMessage:"You’re paying {totalCost} for the right to {rightToAction} {totalNumShares, number}\n      {totalNumShares, plural,\n        one {share}\n        other {shares}\n      } of {underlyingSymbol} for {strikePrice} per share by {expirationDate}. If {underlyingSymbol}\n      shares aren’t {strikePrice} or {worthDirection} on {expirationDate}, {quantity, plural,\n        one {this option}\n        other {these options}\n      } will expire worthless.",id:"OptionOrderForm.SingleLegOrderSummary.BuyToOpen",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(a.optionInstrument.expiration_date)}),quantity:s,rightToAction:a.optionInstrument.type===F.GL.Call?(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Buy]):(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Sell]),strikePrice:(0,P.tZ)(N.tA,{value:a.optionInstrument.strike_price}),totalCost:(0,P.tZ)(N.tA,{value:l}),totalNumShares:o()(s).times(i.numUnderlyingShares),underlyingSymbol:r.symbol,worthDirection:a.optionInstrument.type===F.GL.Call?(0,P.tZ)(p.DH,B.s.higherLower.higher):(0,P.tZ)(p.DH,B.s.higherLower.lower)}}):null}function BuyWithStop(e){let{context:t,defaultPricingSetting:n,firstUnderlyingInstrument:r,optionChain:i,optionLeg:a}=e;const s=useOrderQuantity(t),[{values:{stopPrice:l}}]=(0,E.G)(t),c=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:[a]});return o()(s).gt(0)&&r?(0,P.tZ)(p.DH,{defaultMessage:"You are placing a stop limit buy order to\n      {positionEffect} {quantity, number}\n      {quantity, plural,\n          one {contract}\n          other {contracts}\n      }\n      of a {underlyingSymbol} {strikePrice} {rightToAction} expiring on {expirationDate}.\n      When the bid price reaches {stopPrice}, your order will be converted\n      to a limit order at {limitPrice}.",id:"OptionOrderForm.SingleLegOrderSummary.BuyWithStop",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(a.optionInstrument.expiration_date)}),limitPrice:(0,P.tZ)(N.tA,{value:c}),positionEffect:a.positionEffect===F.yR.Open?H||(H=(0,P.tZ)(p.DH,{defaultMessage:"open",id:"OptionOrderForm.SingeLegBuySummary.BuyWithStop.Open",status:"legacy"})):U||(U=(0,P.tZ)(p.DH,{defaultMessage:"close",id:"OptionOrderForm.SingeLegBuySummary.BuyWithStop.Close",status:"legacy"})),quantity:s,rightToAction:a.optionInstrument.type===F.GL.Call?z||(z=(0,P.tZ)(p.DH,{defaultMessage:"call",id:"OptionOrderForm.SingeLegBuySummary.BuyWithStop.Call",status:"legacy"})):W||(W=(0,P.tZ)(p.DH,{defaultMessage:"put",id:"OptionOrderForm.SingeLegBuySummary.BuyWithStop.Put",status:"legacy"})),stopPrice:(0,P.tZ)(N.tA,{value:l}),strikePrice:(0,P.tZ)(N.tA,{value:a.optionInstrument.strike_price}),underlyingSymbol:r.symbol}}):null}function SingleLegBuySummary(e){var t;let{context:n,defaultPricingSetting:r,optionChain:o,optionLeg:i}=e;const[{values:{trigger:a}}]=(0,E.G)(n),s=null===(t=useUnderlyingInstrumentsData(o).get(0))||void 0===t?void 0:t.instrument;return a===M.OrderTrigger.Stop?(0,P.tZ)(BuyWithStop,{context:n,defaultPricingSetting:r,firstUnderlyingInstrument:s,optionChain:o,optionLeg:i}):i.positionEffect===F.yR.Open?(0,P.tZ)(BuyToOpen,{context:n,defaultPricingSetting:r,firstUnderlyingInstrument:s,optionChain:o,optionLeg:i}):(0,P.tZ)(BuyToClose,{context:n,defaultPricingSetting:r,optionChain:o,optionLeg:i})}function SellToClose(e){let{context:t,optionChain:n,optionInstrument:r}=e;const i=r.type===F.GL.Call?(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Buy]):(0,P.tZ)(p.DH,B.s.sideLowerCase[M.Side.Sell]),a=useUnderlyingInstrumentsData(n),s=useOptionOrderObligations(t,n),l=(0,P.tZ)(N.yX,{conjunction:q||(q=(0,P.tZ)(p.DH,{id:"and",status:"legacy"})),nodes:s});return s.length&&a.count()?1===a.count()?(0,P.tZ)(p.DH,{defaultMessage:"You’re selling your right to {rightToAction}\n        {obligationList} for {strikePrice} by {expirationDate}.",id:"Options.OrderSummary.SellToClose.SingleUnderlying",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(r.expiration_date)}),obligationList:l,rightToAction:i,strikePrice:(0,P.tZ)(N.tA,{value:n.getDerivedStrikePrice(r)})}}):(0,P.tZ)(p.DH,{defaultMessage:"You’re selling your right to {rightToAction}\n      {obligationList} for a combined {totalCost} by {expirationDate}.",id:"Options.OrderSummary.SellToClose.MultipleUnderlying",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(r.expiration_date)}),obligationList:l,rightToAction:i,totalCost:(0,P.tZ)(N.tA,{value:String(o()(r.strike_price).times(n.trade_value_multiplier))})}}):null}function SellToOpen(e){let{context:t,defaultPricingSetting:n,firstUnderlyingInstrument:r,optionChain:i,optionLeg:a}=e;const s=useOrderQuantity(t),l=useUnsignedEffect({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:[a]});return o()(s).gt(0)&&r?(0,P.tZ)(p.DH,{defaultMessage:"You’re agreeing to {rightToAction} {totalNumShares, number} {totalNumShares, plural,\n        one {share}\n        other {shares}\n      } of {underlyingSymbol} at {strikePrice} on or before {expirationDate}. If you aren’t asked to\n      {rightToAction} {underlyingSymbol} by then, you’ll keep your collateral and the full {totalCredit}\n      credit.",id:"OptionOrderForm.SingleLegOrderSummary.SellToOpen",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(a.optionInstrument.expiration_date)}),rightToAction:a.optionInstrument.type===F.GL.Call?Y||(Y=(0,P.tZ)(p.DH,{defaultMessage:"sell",id:"OptionOrderForm.OrderSummary.SellToOpen.RightToAction.Sell",status:"legacy"})):V||(V=(0,P.tZ)(p.DH,{defaultMessage:"buy",id:"OptionOrderForm.OrderSummary.SellToOpen.RightToAction.Buy",status:"legacy"})),strikePrice:(0,P.tZ)(N.tA,{value:a.optionInstrument.strike_price}),totalCredit:(0,P.tZ)(N.tA,{value:l}),totalNumShares:o()(s).times(i.numUnderlyingShares),underlyingSymbol:r.symbol}}):null}function SellWithStop(e){let{context:t,defaultPricingSetting:n,firstUnderlyingInstrument:r,optionChain:i,optionLeg:a}=e;const s=useOrderQuantity(t),[{values:{stopPrice:l}}]=(0,E.G)(t),c=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:[a]});return o()(s).gt(0)&&r?(0,P.tZ)(p.DH,{defaultMessage:"You are placing a stop limit sell order to\n      {positionEffectMessage} {quantity, number}\n      {quantity, plural,\n          one {contract}\n          other {contracts}\n      }\n      of a {underlyingSymbol} {strikePrice} {rightToAction} expiring on {expirationDate}.\n      When the ask price reaches {stopPrice}, your order will be converted\n      to a limit order at {limitPrice}.",id:"OptionOrderForm.SingeLegSellSummary.SellWithStop.message",status:"legacy",values:{expirationDate:(0,P.tZ)(I.X,{short:!1,value:(0,J.iM)(a.optionInstrument.expiration_date)}),limitPrice:(0,P.tZ)(N.tA,{value:c}),positionEffectMessage:a.positionEffect===F.yR.Open?G||(G=(0,P.tZ)(p.DH,{defaultMessage:"open",id:"OptionOrderForm.SingeLegSellSummary.SellWithStop.Open",status:"legacy"})):K||(K=(0,P.tZ)(p.DH,{defaultMessage:"close",id:"OptionOrderForm.SingeLegSellSummary.SellWithStop.Close",status:"legacy"})),quantity:s,rightToAction:a.optionInstrument.type===F.GL.Call?Q||(Q=(0,P.tZ)(p.DH,{defaultMessage:"call",id:"OptionOrderForm.SingeLegSellSummary.SellWithStop.Call",status:"legacy"})):X||(X=(0,P.tZ)(p.DH,{defaultMessage:"put",id:"OptionOrderForm.SingeLegSellSummary.SellWithStop.Put",status:"legacy"})),stopPrice:(0,P.tZ)(N.tA,{value:l}),strikePrice:(0,P.tZ)(N.tA,{value:i.getDerivedStrikePrice(a.optionInstrument)}),underlyingSymbol:r.symbol}}):null}function SingleLegSellSummary(e){var t;let{context:n,defaultPricingSetting:r,optionChain:o,optionLeg:i}=e;const[{values:{trigger:a}}]=(0,E.G)(n),s=null===(t=useUnderlyingInstrumentsData(o).get(0))||void 0===t?void 0:t.instrument;return a===M.OrderTrigger.Stop?(0,P.tZ)(SellWithStop,{context:n,defaultPricingSetting:r,firstUnderlyingInstrument:s,optionChain:o,optionLeg:i}):i.positionEffect===F.yR.Open?(0,P.tZ)(SellToOpen,{context:n,defaultPricingSetting:r,firstUnderlyingInstrument:s,optionChain:o,optionLeg:i}):(0,P.tZ)(SellToClose,{context:n,optionChain:o,optionInstrument:i.optionInstrument})}function SingleLegOrderSummary(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLeg:o}=e;return o.side===M.Side.Buy?(0,P.tZ)(SingleLegBuySummary,{context:t,defaultPricingSetting:n,optionChain:r,optionLeg:o}):(0,P.tZ)(SingleLegSellSummary,{context:t,defaultPricingSetting:n,optionChain:r,optionLeg:o})}function OrderSummary(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}=e;return o.length?1===o.length?(0,P.tZ)(SingleLegOrderSummary,{context:t,defaultPricingSetting:n,optionChain:r,optionLeg:o[0]}):(0,P.tZ)(MultiLegOrderSummary,{optionLegs:o}):null}var $,ee=n(82665),te=n(25735);function ServerSideErrorCopy(e){let{serverError:t}=e;const n=function useServerErrorMessage(e){const t=(0,p.og)();return(0,l.useMemo)((()=>{var n;const r=null===(n=e.response)||void 0===n?void 0:n.body;return null!=r&&r.display_error_text?r.display_error_text:null!=r&&r.non_field_errors&&Array.isArray(r.non_field_errors)&&r.non_field_errors.length?r.non_field_errors.join("\n"):null!=r&&r.message?r.message:null!=r&&r.detail?r.detail:null!=r&&r.position_effect?r.position_effect:t.formatMessage({defaultMessage:"Oh no! Something went wrong. Please try again, and {contactUs} if things still aren't working.",id:"OptionOrderForm.ServerSideError.Copy",status:"legacy"},{contactUs:(0,P.tZ)(ee.I,{to:"https://robinhood.com/contact/"},(0,P.tZ)(m.Dy.Text,{color:T.E1.Primary,isBold:!0,size:"S"},$||($=(0,P.tZ)(p.DH,{defaultMessage:"let us know",id:"OptionOrderForm.ServerSideError.ContactUs",status:"legacy"}))))})}),[t,e.response])}(t);return(0,l.useEffect)((()=>{var e,n;(0,te.Y)(te.D.ServerSideError,JSON.stringify({message:t.message,name:t.name,stack:t.stack,text:null!==(e=null===(n=t.response)||void 0===n?void 0:n.text)&&void 0!==e?e:""}))}),[t,n]),(0,P.tZ)(m.Dy.Text,{element:"p",size:"S"},n)}var ne=n(64649),re=n(13221);class AmbiguousDirectionError extends re.default{constructor(){super("AmbiguousDirectionError")}}class BlockingOrdersCancelableError extends re.default{constructor(e){super("BlockingOrdersCancelableError: ".concat(e.join(","))),(0,ne.Z)(this,"cancelableOrders",void 0),this.cancelableOrders=e}}class DayTradesRestrictedError extends re.default{constructor(){super("DayTradesRestrictedError")}}class ETPWarningError extends re.default{constructor(e){super("ETPWarningError"),(0,ne.Z)(this,"etpDetails",void 0),this.etpDetails=e}}class MaxOrderSizeError extends re.default{constructor(e){let{maxNumContracts:t,maxPrice:n,minPrice:r}=e;super("MaxOrderSizeError: max number of contracts ".concat(t,"; maxPrice (").concat(null!=n?n:"","); minPrice (").concat(null!=r?r:"",")")),(0,ne.Z)(this,"maxNumContracts",void 0),(0,ne.Z)(this,"maxPrice",void 0),(0,ne.Z)(this,"minPrice",void 0),this.maxNumContracts=t,this.maxPrice=n,this.minPrice=r}}class MinTickSizeViolationError extends re.default{constructor(e){super("MinTickSizeViolationError: roundedPrice = ".concat(e)),(0,ne.Z)(this,"roundedPrice",void 0),this.roundedPrice=e}}class NoBidError extends re.default{constructor(){super("NoBidError")}}class NotEnoughBuyingPowerShouldCancelCryptoError extends re.default{constructor(e,t){super("NotEnoughBuyingPowerShouldCancelCryptoError: additionalBuyingPowerRequired = ".concat(e,", buyingPowerAfterCancelingCrypto = ").concat(t)),(0,ne.Z)(this,"additionalBuyingPowerRequired",void 0),(0,ne.Z)(this,"buyingPowerAfterCancelingCrypto",void 0),this.additionalBuyingPowerRequired=e,this.buyingPowerAfterCancelingCrypto=t}}class NotEnoughBuyingPowerForCollateralError extends re.default{constructor(){super("NotEnoughBuyingPowerForCollateralError")}}class NotEnoughBuyingPowerForPremiumError extends re.default{constructor(){super("NotEnoughBuyingPowerForPremiumError")}}class NotEnoughContractsToCloseError extends re.default{constructor(e){super("NotEnoughContractsToCloseError: ".concat(NotEnoughContractsToCloseError.legsToString(e))),(0,ne.Z)(this,"legs",void 0),this.legs=e}static legsToString(e){return e.map((e=>"Option Leg ".concat(e.optionInstrument.url," has pending quantity ").concat(e.pendingQuantity," and closable quantity ").concat(e.closableQuantity," and can").concat(e.canCancelPendingOrders?"":"not"," cancel pending orders"))).join("; ")}}class NotEnoughSharesForCollateralError extends re.default{constructor(){super("NotEnoughSharesForCollateralError")}}class PositionClosingOnlyError extends re.default{constructor(e){let{expiresToday:t,hasPosition:n,side:r}=e;super("PositionClosingOnlyError: expires today (".concat(t,"), has position (").concat(n,"), side: ").concat(r)),(0,ne.Z)(this,"expiresToday",void 0),(0,ne.Z)(this,"hasPosition",void 0),(0,ne.Z)(this,"side",void 0),this.expiresToday=t,this.hasPosition=n,this.side=r}}class QuoteUnavailableError extends re.default{constructor(e){super("QuoteUnavailableError: ".concat(e.map((e=>e.url)).join(","))),(0,ne.Z)(this,"optionInstrumentsWithMissingQuote",void 0),this.optionInstrumentsWithMissingQuote=e}}class StopPriceTriggersImmediatelyError extends re.default{constructor(e,t,n){super("StopPriceTriggersImmediatelyError: ".concat(e)),(0,ne.Z)(this,"side",void 0),(0,ne.Z)(this,"askPrice",void 0),(0,ne.Z)(this,"bidPrice",void 0),this.side=e,this.askPrice=t,this.bidPrice=n}}class TradeOnExpirationPDTWarningError extends re.default{constructor(e){super("TradeOnExpirationPDTWarningError"),(0,ne.Z)(this,"context",void 0),this.context=e}}class TriggersPDTError extends re.default{constructor(e){super("TriggersPDTError"),(0,ne.Z)(this,"portfolio",void 0),this.portfolio=e}}class WideBidAskSpreadError extends re.default{constructor(e){super("WideBidAskSpreadError: spread = ".concat(e)),(0,ne.Z)(this,"spread",void 0),this.spread=e}}class ServerDrivenOptionOrderCheckError extends re.default{constructor(e){super("ServerDrivenOptionOrderCheckError: alert = ".concat(JSON.stringify(e))),(0,ne.Z)(this,"alert",void 0),this.alert=e}}var oe,ie,ae,se=n(2320);function useResetOrderFormState(e,t){const[,n]=(0,E.G)(e);return(0,l.useCallback)((()=>{n({state:t(),type:O.K.SET_ORDER_FORM_STATE})}),[n,t])}function useDirection(e){let{context:t,intendedDirection:n,optionChain:r,optionLegs:i}=e;const[{values:{direction:a}}]=(0,E.G)(t),s=useMinTickRoundedMarketPrice({optionChain:r,optionLegs:i});return n||(a||(1===i.length?i[0].side===M.Side.Buy?F.J7.Debit:F.J7.Credit:o()(s).gt(0)?F.J7.Debit:F.J7.Credit))}function useShouldForceUserDefinedLimitPrice(e){let{context:t,intendedDirection:n,optionChain:r,optionLegs:i}=e;const a=i.length>1,s=useMarketPrice({optionLegs:i}),l=o()(s).lt(0),c=useDirection({context:t,intendedDirection:n,optionChain:r,optionLegs:i});return a&&(l&&c===F.J7.Debit||!l&&c===F.J7.Credit)}function Copy(){return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsAmbiguousDirection)}),[]),ae||(ae=(0,P.tZ)("div",null,(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"Are you expecting to receive a credit or pay a debit for this option?",id:"OptionOrderForm.AmbiguousDirectionError.Copy.Question",status:"legacy"})),(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"You’ll get a credit if the options that you’re selling are worth more than the ones you are buying, and you’ll pay a debit if the options that you’re buying are worth more than the ones you are selling.",id:"OptionOrderForm.AmbiguousDirectionError.Copy.Statement",status:"legacy"}))))}function DirectionButton(e){let{context:t,currentDirection:n,direction:r,variant:o}=e;const i=(0,p.og)(),[,a]=(0,E.G)(t),s=useSkipOrderCheckError(t),l=useGoBackToEdit(t);return(0,P.tZ)(y.z,{label:r===F.J7.Credit?i.formatMessage({defaultMessage:"Credit",id:"OptionOrderForm.DirectionButton.Credit",status:"legacy"}):i.formatMessage({defaultMessage:"Debit",id:"OptionOrderForm.DirectionButton.Debit",status:"legacy"}),onClick:function onClick(){a({type:O.K.UPDATE_FORM_VALUES,values:{direction:r}}),r!==n?l():s()},type:"button",variant:o,width:"full"})}var le,ce=n(10959),ue=n(48861),de=n(76175);function useGetBlockingOrdersCancelableErrorProps_Copy(e){let{account:t,error:n,hasMultipleAccounts:r,optionLegs:o}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsBlockWithCancelableOrder)}),[]),1===o.length?(0,P.tZ)(p.DH,{defaultMessage:"If executed, this order may result in a day trade{accountType}, due to your pending “{option}” {side} {numCancelableOrders, plural,\n          one {order}\n          other {orders}\n        }. You can cancel {numCancelableOrders, plural,\n          one {this {side} order}\n          other {these {side} orders}\n        } to avoid a potential day trade.",id:"OptionOrderForm.BlockingOrdersCancelableError.Copy.SingleLeg",status:"legacy",values:{accountType:r?(0,ue.K)({account:t,usePreposition:!0}):"",numCancelableOrders:n.cancelableOrders.count(),option:(0,P.tZ)(de.A,{optionInstrument:o[0].optionInstrument}),side:o[0].side===M.Side.Buy?M.Side.Sell:M.Side.Buy}}):(0,P.tZ)(p.DH,{defaultMessage:"If executed, this order may result in a day trade{account_type}, due to your pending {numCancelableOrders, plural,\n        one {order}\n        other {orders}\n      }. You can cancel {numCancelableOrders, plural,\n        one {this order}\n        other {these orders}\n      } to avoid a potential day trade.",id:"OptionOrderForm.BlockingOrdersCancelableError.Copy.MultiLeg",status:"legacy",values:{accountType:r?(0,ue.K)({account:t,usePreposition:!0}):"",numCancelableOrders:n.cancelableOrders.count()}})}function useGetDayTradesRestrictedErrorProps_Copy(e){let{account:t,hasMultipleAccounts:n}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsDayTradesRestricted)}),[]),(0,P.tZ)(p.DH,{defaultMessage:"Placing this trade may result in another day trade and restrict {accountType} from opening any new positions for 90 days.",id:"OptionOrderForm.DayTradesRestrictedError.Copy",status:"legacy",values:{accountType:n?(0,ue.K)({account:t}):"you"}})}var pe,ge,me,ye=n(61096);function PrimaryButton(e){let{etpDetails:t,skipError:n}=e;const r=(0,p.og)();return(0,P.tZ)(y.z,{label:r.formatMessage({defaultMessage:"Continue",id:"OptionOrderForm.ETPWarning.ContinueButton",status:"legacy"}),onClick:()=>{null==t||t.markWarningAsSeen(),n()},type:"button",variant:"primary",width:"full"})}var fe={name:"mgrjgu",styles:"margin-left:2px"};function useControlProps_useGetETPWarningErrorProps_Copy(){const e=(0,p.og)(),t=(0,ce.k6)();return(0,P.tZ)(l.Fragment,null,me||(me=(0,P.tZ)(p.DH,{defaultMessage:"This is an option on an Exchange-Traded Product, which is generally designed for short-term trading and may not be suitable for all investors.",id:"OptionOrderForm.ETPWarning.Copy",status:"legacy"})),(0,P.tZ)("span",{css:fe},(0,P.tZ)(ye.A,{isLegacyStyle:!0,label:e.formatMessage({defaultMessage:"Learn More",id:"OptionOrderForm.ETPWarning.LearnMore",status:"legacy"}),onClick:()=>t.push("?applink=etp_warning_learn_more"),type:"button"})))}var ve=n(65150),he=n(21676),_e=n(76657),be=n(69400);const Ce=n(27378).lazy((()=>n.e(72975).then(n.bind(n,60292)).then((({OptionsMaritalStatusNumDependentsPage:e})=>({default:e})))));function MaritalDependentsErrorButton(e){let{context:t}=e;const n=(0,p.og)(),[r,o]=(0,l.useState)(!1),i=useGoBackToEdit(t);(0,be.F)((()=>{(0,te.Y)(te.D.OptionsMartialDependents)}));const onClose=()=>{i(),o(!1)};return(0,P.tZ)(l.Fragment,null,(0,P.tZ)(he.z,{label:n.formatMessage({defaultMessage:"Continue",id:"OptionOrderForm.MartialDependentsError.ContinueButton",status:"legacy"}),onClick:()=>o(!0),type:"button",width:"full"}),r&&(0,P.tZ)(_e.D,{onClose,shouldShowCloseButton:!0},(0,P.tZ)(Ce,{onClose:async()=>{await(0,ve.Z)(3e3),onClose()}})))}var Oe;var Se,Ee,Pe,Ze,De,Te,we,Ie=n(1460);function useGetMaxOrderSizeErrorProps_Copy(e){let{error:t}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsMaxOrderSize)}),[]),t.maxPrice?(0,P.tZ)(p.DH,{defaultMessage:"You can only order up to {maxNumContracts} contracts if the limit price is less than {maxPrice}. To open a larger position, you’ll need to place multiple orders.",id:"OptionOrderForm.MaxOrderSizeError.Copy.MaxPrice",status:"legacy",values:{maxNumContracts:(0,P.tZ)(Ie.FormattedNumber,{value:t.maxNumContracts}),maxPrice:(0,P.tZ)(N.tA,{value:t.maxPrice})}}):(0,P.tZ)(p.DH,{defaultMessage:"You can only order up to {maxNumContracts} contracts if the limit price is more than {minPrice}. To open a larger position, you’ll need to place multiple orders.",id:"OptionOrderForm.MaxOrderSizeError.Copy.MinPrice",status:"legacy",values:{maxNumContracts:(0,P.tZ)(Ie.FormattedNumber,{value:t.maxNumContracts}),minPrice:(0,P.tZ)(N.tA,{value:t.minPrice})}})}function useGetMinTickSizeViolationErrorProps_Copy(e){let{context:t,defaultPricingSetting:n,error:r,optionChain:i,optionLegs:a}=e;const s=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:a}),c=o()(s).gt(i.cutoffPrice),u=c?i.minTickSizeAboveCutoff:i.minTickSizeBelowCutoff;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsMinTickSize)}),[]),(0,P.tZ)(p.DH,{defaultMessage:"{symbol} options {aboveOrBelow} {cutoffPrice} trade in {increment} cent increments. Do you want to update your limit price from {price} to {roundedPrice}?",id:"OptionOrderForm.MinTickSizeViolationError.Copy",status:"legacy",values:{aboveOrBelow:c?Pe||(Pe=(0,P.tZ)(p.DH,{defaultMessage:"above",id:"OptionOrderForm.MinTickSizeViolationError.Copy.Above",status:"legacy"})):Ze||(Ze=(0,P.tZ)(p.DH,{defaultMessage:"below",id:"OptionOrderForm.MinTickSizeViolationError.Copy.Below",status:"legacy"})),cutoffPrice:(0,P.tZ)(N.tA,{value:i.cutoffPrice}),increment:o()(u||0).times(100).toString(),price:(0,P.tZ)(N.tA,{value:s}),roundedPrice:(0,P.tZ)(N.tA,{value:r.roundedPrice}),symbol:i.symbol}})}function useControlProps_useGetNoBidErrorProps_Copy(){return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsNoBidWarning)}),[]),we||(we=(0,P.tZ)(p.DH,{defaultMessage:"There’s no one else in the market offering to buy this option. Are you sure you want to place this order?",id:"OptionOrderForm.NoBidError.Copy",status:"legacy"}))}var ke,xe,Re,Me,Le,Ae,Fe,Ne,Be,je,He,Ue,ze,We,qe,Ye,Ve,Ge,Ke,Qe,Xe,Je,$e,et=n(39984);function useGetNotEnoughBuyingPowerForCollateralErrorProps_Copy(e){let{account:t,hasMultipleAccounts:n}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsNotEnoughBuyingPowerForCollateral)}),[]),(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough buying power{accountType} to place this order.",id:"OptionOrderForm.NotEnoughBuyingPowerForCollateralError.Copy",status:"legacy",values:{accountType:n?(0,ue.K)({account:t,usePreposition:!0}):""}})}function useGetNotEnoughBuyingPowerForPremiumErrorProps_Copy(e){let{account:t,hasMultipleAccounts:n}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsNotEnoughBuyingPowerForPremium)}),[]),(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough buying power{accountType} to place this order.",id:"OptionOrderForm.NotEnoughBuyingPowerForPremiumError.Copy",status:"legacy",values:{accountType:n?(0,ue.K)({account:t,usePreposition:!0}):""}})}function useGetNotEnoughBuyingPowerShouldCancelCryptoErrorProps_Copy(e){let{error:t}=e;(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsNotEnoughBuyingPowerShouldCancelCrypto)}),[]);const{additionalBuyingPowerRequired:n,buyingPowerAfterCancelingCrypto:r}=t;return(0,P.tZ)("div",null,(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"You need {additionalBuyingPowerRequired} more to place this order.",id:"OptionOrderForm.NotEnoughBuyingPowerShouldCancelCryptoError.Copy.Line1",redOakId:"2766946",status:"approved",values:{additionalBuyingPowerRequired:(0,P.tZ)(N.tA,{value:n})}})),(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"We’ll {actionSuggestion} to bring your buying power to {buyingPowerAfterCancelingCrypto} so you can continue with your current order.",id:"OptionOrderForm.NotEnoughBuyingPowerShouldCancelCryptoError.Copy.Line2",redOakId:"2766946",status:"approved",values:{actionSuggestion:Me||(Me=(0,P.tZ)(m.Dy.Text,{isBold:!0,size:"S"},(0,P.tZ)(p.DH,{defaultMessage:"cancel all your pending crypto orders",id:"OptionOrderForm.NotEnoughBuyingPowerShouldCancelCryptoError.Copy.actionSuggestion",redOakId:"2766946",status:"approved"}))),buyingPowerAfterCancelingCrypto:(0,P.tZ)(N.tA,{value:r})}})),Le||(Le=(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"You can also edit your order.",id:"OptionOrderForm.NotEnoughBuyingPowerShouldCancelCryptoError.Copy.Line3",redOakId:"2766946",status:"approved"}))))}function useGetNotEnoughContractsToCloseErrorProps_Copy(e){let{account:t,canCancel:n,error:r,hasMultipleAccounts:o}=e;if((0,l.useEffect)((()=>{(0,te.Y)(n?te.D.OptionsNotEnoughSharesToCloseCanCancel:te.D.OptionsNotEnoughSharesToClose)}),[n]),!r.legs.length)return null;const i=(0,P.tZ)(ErrorReason,{account:t,error:r,hasMultipleAccounts:o});return n?(0,P.tZ)(p.DH,{defaultMessage:"{reason} We’re currently holding {quantity, number} {quantity, plural,\n        one {contract}\n        other {contracts}\n      } for your pending orders{accountType}. You can cancel these pending orders to close more contracts.",id:"OptionOrderForm.NotEnoughContractsToClose.Copy",status:"legacy",values:{accountType:o?(0,ue.K)({account:t,usePreposition:!0}):"",quantity:r.legs.reduce(((e,t)=>{let{pendingQuantity:n}=t;return e+Number(n)}),0),reason:i}}):i}function ErrorReason(e){let{account:t,error:n,hasMultipleAccounts:r}=e;if(!n.legs.length)return null;if(1===n.legs.length){const e=n.legs[0];return(0,P.tZ)(p.DH,{defaultMessage:"You only have {quantity, number} open {quantity, plural,\n            one {contract}\n            other {contracts}\n          } of {symbol}{accountType} to {sideAction}.",id:"OptionOrderForm.NotEnoughContractsToClose.Copy.SingleLeg",status:"legacy",values:{accountType:r?(0,ue.K)({account:t,usePreposition:!0}):"",quantity:e.closableQuantity,sideAction:e.side===M.Side.Buy?"buy back":"sell",symbol:e.optionInstrument.chain_symbol}})}return(0,P.tZ)(p.DH,{defaultMessage:"You can only {list}.",id:"OptionOrderForm.NotEnoughContractsToClose.Copy.MultiLeg",status:"legacy",values:{list:(0,P.tZ)(N.yX,{conjunction:Ne||(Ne=(0,P.tZ)(p.DH,{defaultMessage:"and",id:"Conjunction.And",status:"legacy"})),nodes:n.legs.map(((e,n)=>{let{closableQuantity:o,optionInstrument:i,side:a}=e;return(0,P.tZ)(p.DH,{key:n,defaultMessage:"{sideAction} {quantity, number} {quantity, plural, one {contract} other {contracts} } of {optionLabel}{accountType}",id:"OptionOrderForm.NotEnoughContractsToClose.Copy.MultiLeg.Part",status:"legacy",values:{accountType:r?(0,ue.K)({account:t,usePreposition:!0}):"",optionLabel:(0,P.tZ)(de.A,{optionInstrument:i}),quantity:o,sideAction:a===M.Side.Buy?"buy back":"sell"}})}))})}})}function useGetNotEnoughSharesForCollateralErrorProps_Copy(e){var t;let{account:n,context:r,hasMultipleAccounts:i,optionChain:a,optionLegs:s}=e;const c=null===(t=a.underlying_instruments.first(void 0))||void 0===t?void 0:t.instrument,u=(0,C.tT)({disabled:!c,model:A.k0,params:{id:A.k0.idFromUrl(null!=c?c:"")}}),d=useOrderQuantity(r),g=i?(0,ue.K)({account:n,usePreposition:!0}):"";return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsNotEnoughSharesForCollateral)}),[]),1===s.length?1===a.underlying_instruments.count()&&u.result?o()(d).eq(1)?(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares of {underlyingSymbol}{accountType} for the collateral needed to sell {option}.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.SingleLeg.SingleUnderlying.QuantityOne",status:"legacy",values:{accountType:g,option:(0,P.tZ)(de.A,{optionInstrument:s[0].optionInstrument}),underlyingSymbol:u.result.symbol}}):(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares of {underlyingSymbol} {accountType} for the collateral needed to sell {quantity, number} contracts of {option}.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.SingleLeg.SingleUnderlying.MultiQuantity",status:"legacy",values:{accountType:g,option:(0,P.tZ)(de.A,{optionInstrument:s[0].optionInstrument}),quantity:d,underlyingSymbol:u.result.symbol}}):o()(d).eq(1)?(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares {accountType} for the collateral needed to sell {option}.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.SingleLeg.MultiUnderlying.QuantityOne",status:"legacy",values:{accountType:g,option:(0,P.tZ)(de.A,{optionInstrument:s[0].optionInstrument})}}):(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares {accountType} for the collateral needed to sell {quantity, number} contracts of {option}.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.SingleLeg.MultiUnderlying.MultiQuantity",status:"legacy",values:{accountType:g,option:(0,P.tZ)(de.A,{optionInstrument:s[0].optionInstrument}),quantity:d}}):1===a.underlying_instruments.count()&&u.result?(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares of {underlyingSymbol} {accountType} for the collateral needed to place this order.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.MultiLeg.SingleUnderlying",status:"legacy",values:{accountType:g,underlyingSymbol:u.result.symbol}}):(0,P.tZ)(p.DH,{defaultMessage:"You don’t have enough shares of the underlying stocks {accountType} for the collateral needed to place this order.",id:"OptionOrderForm.NotEnoughSharesForCollateralError.MultiLeg.MultiUnderlying",status:"legacy",values:{accountType:g}})}function Status(e){let{error:t}=e;return t.expiresToday?je||(je=(0,P.tZ)(p.DH,{defaultMessage:"Option Expiring Today",id:"OptionOrderForm.PositionClosingOnlyError.Title",status:"legacy"})):t.hasPosition?He||(He=(0,P.tZ)(p.DH,{defaultMessage:"Position Closing Only",id:"OptionOrderForm.PositionClosingOnlyError.PCO",status:"legacy"})):Ue||(Ue=(0,P.tZ)(p.DH,{defaultMessage:"Option Not Supported",id:"OptionOrderForm.PositionClosingOnlyError.NotSupported",status:"legacy"}))}function useGetPositionClosingOnlyErrorProps_Copy(e){let{error:t}=e;return(0,l.useEffect)((()=>{t.expiresToday&&(0,te.Y)(te.D.OptionsPositionClosingOnlyDayOfExpiration),t.hasPosition&&(0,te.Y)(te.D.OptionsPositionClosingOnlyDay)}),[t.expiresToday,t.hasPosition]),t.expiresToday?t.hasPosition?t.side===M.Side.Buy?ze||(ze=(0,P.tZ)(p.DH,{defaultMessage:"You can’t buy additional contracts of an option on the day that it expires.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.ExpiresToday.HasPosition.Buy",status:"legacy"})):We||(We=(0,P.tZ)(p.DH,{defaultMessage:"You can’t sell additional contracts of an option on the day that it expires.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.ExpiresToday.HasPosition.Sell",status:"legacy"})):t.side===M.Side.Buy?qe||(qe=(0,P.tZ)(p.DH,{defaultMessage:"You can’t buy contracts of an option on the day that it expires.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.ExpiresToday.NoPosition.Buy",status:"legacy"})):Ye||(Ye=(0,P.tZ)(p.DH,{defaultMessage:"You can’t sell contracts of an option on the day that it expires.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.ExpiresToday.NoPosition.Sell",status:"legacy"})):t.hasPosition?t.side===M.Side.Buy?Ve||(Ve=(0,P.tZ)(p.DH,{defaultMessage:"You can close out your position in this option, but you cannot purchase additional contracts.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.NotExpiresToday.HasPosition.Buy",status:"legacy"})):Ge||(Ge=(0,P.tZ)(p.DH,{defaultMessage:"You can close out your position in this option, but you cannot sell additional contracts.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.NotExpiresToday.HasPosition.Sell",status:"legacy"})):Ke||(Ke=(0,P.tZ)(p.DH,{defaultMessage:"This option is not supported on Robinhood.",id:"OptionOrderForm.PositionClosingOnlyError.Copy.NotSupported",status:"legacy"}))}function useGetQuoteUnavailableErrorProps_Copy(e){let{error:t}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsQuoteUnavailable)}),[]),t.optionInstrumentsWithMissingQuote.length?1===t.optionInstrumentsWithMissingQuote.length?(0,P.tZ)(p.DH,{defaultMessage:"We can’t fetch the current price of {option}. Please choose a limit price to place your order.",id:"OptionOrderForm.QuoteUnavailableError.SingleMissingQuote",status:"legacy",values:{option:(0,P.tZ)(de.A,{optionInstrument:t.optionInstrumentsWithMissingQuote[0]})}}):Xe||(Xe=(0,P.tZ)(p.DH,{defaultMessage:"We can’t fetch the current price of some of the options you are trying to trade. Please choose a limit price to place your order.",id:"OptionOrderForm.QuoteUnavailableError.MultiMissingQuote",status:"legacy"})):null}function useGetStopPriceTriggersImmediatelyErrorProps_Copy(e){let{error:t}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsStopPriceCheck)}),[]),t.side===M.Side.Buy?(0,P.tZ)(p.DH,{defaultMessage:"Your stop price is at or below the current bid price of {bidPrice} at {orderTime} so your order will likely trigger immediately. Are you sure you want to continue?",id:"OptionOrderForm.StopPriceTriggersImmediatelyError.BuyCopy",status:"legacy",values:{bidPrice:(0,P.tZ)(N.tA,{value:o()(t.bidPrice).abs().toString()}),orderTime:(0,P.tZ)(Ie.FormattedTime,{timeZone:J.iz,timeZoneName:"short",value:Date.now()})}}):(0,P.tZ)(p.DH,{defaultMessage:"Your stop price is at or above the current ask price of {askPrice} at {orderTime} so your order will likely trigger immediately. Are you sure you want to continue?",id:"OptionOrderForm.StopPriceTriggersImmediatelyError.SellCopy",status:"legacy",values:{askPrice:(0,P.tZ)(N.tA,{value:o()(t.askPrice).abs().toString()}),orderTime:(0,P.tZ)(Ie.FormattedTime,{timeZone:J.iz,timeZoneName:"short",value:Date.now()})}})}var tt=n(63620);function CurrentNumberDayTradesMade(e){let{accountType:t,dayTrades:n}=e;const r=n.numDayTrades;return 1!==r&&2!==r||!n.earliestExpiryDate?null:(0,P.tZ)(p.DH,{defaultMessage:" Over the past 5 trading days, you made {numDayTrades} day trades {accountType}. If you make 4 day trades within 5 trading days, you will be flagged as a pattern day trader.",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.CurrentNumberDayTradesMade",status:"legacy",values:{accountType:t,numDayTrades:r}})}var nt,rt,ot=n(40564),it=n(64169),at=n(23104),st=n(42364),lt=n(93816);function ExpiringDate(e){let{optionInstrument:t}=e;const n=(0,st.mX)(),r=(0,at.useSelector)((e=>(0,lt.cj)(e)));return t.expiresOnGivenDate(n)?nt||(nt=(0,P.tZ)(p.DH,{defaultMessage:"today",id:"OptionInstrument.ExpiresToday",status:"legacy"})):t.expiration_date===r.date&&(0,ot.Z)(t.normalizedExpirationDate)?rt||(rt=(0,P.tZ)(p.DH,{defaultMessage:"tomorrow",id:"OptionInstrument.ExpiresTomorrow",status:"legacy"})):(0,it.Z)(n,t.normalizedExpirationDate)?(0,P.tZ)(Ie.FormattedDate,{day:"numeric",month:"long",value:t.normalizedExpirationDate}):(0,P.tZ)(Ie.FormattedDate,{value:t.normalizedExpirationDate,weekday:"long"})}let ct;!function(e){e.ThreeDayTrades="three_day_trades",e.SingleLeg="single_leg",e.MultiLeg="multi_leg"}(ct||(ct={}));const ut={contractExpires:{[S.NG.Single]:(0,p.b2)({defaultMessage:"This contract expires",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ContractExpires.Single",status:"legacy"}),[S.NG.All]:(0,p.b2)({defaultMessage:"These contracts expire",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ContractExpires.All",status:"legacy"}),[S.NG.Some]:(0,p.b2)({defaultMessage:"Some of these contracts expire",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ContractExpires.Some",status:"legacy"})},ifClause:{[S.NG.Single]:(0,p.b2)({defaultMessage:"If your position is",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.IfClause.Single",status:"legacy"}),[S.NG.All]:(0,p.b2)({defaultMessage:"If any of these contracts are",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.IfClause.All",status:"legacy"}),[S.NG.Some]:(0,p.b2)({defaultMessage:"If any of those contracts are",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.IfClause.Some",status:"legacy"})},thenClause:{[ct.ThreeDayTrades]:(0,p.b2)({defaultMessage:"you'll be flagged as a pattern day trader",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ThenClause.ThreeDayTrades",status:"legacy"}),[ct.SingleLeg]:(0,p.b2)({defaultMessage:"it'll count as a day trade",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ThenClause.SingleLeg",status:"legacy"}),[ct.MultiLeg]:(0,p.b2)({defaultMessage:"they'll count as day trades",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.ThenClause.MultiLeg",status:"legacy"})}};function TradeOnExpirationPDTWarningButton(e){let{buttonTitle:t,error:n,label:r,onClick:o,variant:i}=e;return(0,P.tZ)(y.z,{label:r,loggingInfo:{button_description:(0,se.If)(n.context),button_group_title:"friday_trading_pdt_warning",button_title:t},onClick:e=>null==o?void 0:o(e),type:"button",variant:i,width:"full"})}function ContinueButton(e){let{error:t,onClick:n,variant:r}=e;const o=(0,p.og)();return(0,P.tZ)(TradeOnExpirationPDTWarningButton,{buttonTitle:"continue",error:t,label:o.formatMessage({defaultMessage:"Continue",id:"TradeOnExpirationPDTWarningButton.Continue",status:"legacy"}),onClick:n,variant:r})}function DisableProtectionButton(e){let{error:t,variant:n}=e;const r=(0,p.og)(),o=(0,ce.k6)();return(0,P.tZ)(TradeOnExpirationPDTWarningButton,{buttonTitle:"disable_protection",error:t,label:r.formatMessage({defaultMessage:"Disable PDT Protection",id:"TradeOnExpirationPDTWarningButton.DisableProtection",status:"legacy"}),onClick:()=>{o.push("/account/settings/investing")},variant:n})}function EditOrderButton(e){let{error:t,onClick:n,variant:r}=e;const o=(0,p.og)();return(0,P.tZ)(TradeOnExpirationPDTWarningButton,{buttonTitle:"edit_order",error:t,label:o.formatMessage({defaultMessage:"Edit Order",id:"TradeOnExpirationPDTWarningButton.EditOrder",status:"legacy"}),onClick:n,variant:r})}var dt,pt,gt,mt,yt,ft;function useGetTradeOnExpirationPDTWarningProps_Copy(e){let{account:t,error:n,hasMultipleAccounts:r}=e;(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsTradeOnExpirationPDT)}),[]);const o=n.context.dayTrades.numDayTrades,i=(0,se.Hq)(n.context.numLegs,n.context.numSameDayExpiringLegs);let a=ct.ThreeDayTrades;3!==o&&(a=1===n.context.numLegs?ct.SingleLeg:ct.MultiLeg);const s=r?(0,ue.K)({account:t,usePreposition:!0}):"";return n.context.optionInstrument?(0,P.tZ)("div",null,(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"{ContractExpires} {ExpiringDate}. {IfClause} closed during our sellout process, {ThenClause}",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.Copy.Opening",status:"legacy",values:{ContractExpires:(0,P.tZ)(p.DH,ut.contractExpires[i]),ExpiringDate:(0,P.tZ)(ExpiringDate,{optionInstrument:n.context.optionInstrument}),IfClause:(0,P.tZ)(p.DH,ut.ifClause[i]),ThenClause:(0,P.tZ)(p.DH,{defaultMessage:"".concat(ut.thenClause[a].defaultMessage,"{accountType}."),id:ut.thenClause[a].id,status:"legacy",values:{accountType:s}})}}),pt||(pt=(0,P.tZ)("br",null)),gt||(gt=(0,P.tZ)("br",null)),(0,P.tZ)(CurrentNumberDayTradesMade,{accountType:s,dayTrades:n.context.dayTrades}),mt||(mt=(0,P.tZ)(ee.I,{to:"https://robinhood.com/us/en/support/articles/pattern-day-trading/"},(0,P.tZ)(p.DH,{defaultMessage:" Learn More",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.LearnMore",status:"legacy"})))),3===o&&(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"While flagged, you can only place day trades if {accountType} portfolio value is over {minValue} at the end of the previous trading day.",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.WhileFlagged",status:"legacy",values:{accountType:r?(0,ue.K)({account:t}):"",minValue:yt||(yt=(0,P.tZ)(N.tA,{value:tt.MINIMUM_EQUITY_FOR_PDT}))}}),n.context.account.sweep_enrolled&&(ft||(ft=(0,P.tZ)(p.DH,{defaultMessage:" You also won't earn interest on uninvested cash.",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.NoInterest",status:"legacy"}))))):null}var vt,ht,_t,bt,Ct,Ot=n(74129);function useGetTriggersPDTErrorProps_Copy(e){let{account:t,hasMultipleAccounts:n}=e;const r=(0,p.og)();return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsTriggersPDT)}),[]),(0,P.tZ)("div",null,(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"Pattern Day Trade Protection prevents you from placing this trade because you could be flagged as a pattern day trader{accountType}. You can disable this protection on the {settingsPageLink}.",id:"OptionOrderForm.TriggersPDTError.Copy.Opening",status:"legacy",values:{accountType:n?(0,ue.K)({account:t,usePreposition:!0}):"",settingsPageLink:(0,P.tZ)(ye.A,{href:"/account/settings",isLegacyStyle:!0,label:r.formatMessage({defaultMessage:"settings page",id:"OptionOrderForm.TriggersPDTError.SettingsPageLink",status:"legacy"}),target:"_blank",type:"anchor"})}})),(0,P.tZ)("p",null,(0,P.tZ)(p.DH,{defaultMessage:"If you are flagged as a pattern day trader, you may only continue to day trade in this account if you maintain a portfolio value (excl. crypto) of {minValue} or more.{uninvestedCash}{learnMoreLink}",id:"OptionOrderForm.TriggersPDTError.Copy.Closing",status:"legacy",values:{learnMoreLink:ht||(ht=(0,P.tZ)(Ot.b,null)),minValue:_t||(_t=(0,P.tZ)(N.tA,{value:tt.MINIMUM_EQUITY_FOR_PDT})),uninvestedCash:t.sweep_enrolled?" You also won't earn interest on uninvested cash.":""}})))}function useGetWideBidAskSpreadErrorProps_Copy(e){let{isSingleLeg:t,spread:n}=e;return(0,l.useEffect)((()=>{(0,te.Y)(te.D.OptionsWideSpread)}),[]),t?(0,P.tZ)(p.DH,{defaultMessage:"This option has a {spread} bid-ask spread. You may want to enter your own limit price to increase the likelihood of your order getting filled.",id:"OptionOrderForm.WideBidAskSpreadError.SingleLeg",status:"legacy",values:{spread:(0,P.tZ)(N.tA,{value:n})}}):(0,P.tZ)(p.DH,{defaultMessage:"These options have a {spread} bid-ask spread. You may want to enter your own limit price to increase the likelihood of your order getting filled.",id:"OptionOrderForm.WideBidAskSpreadError.MultiLeg",status:"legacy",values:{spread:(0,P.tZ)(N.tA,{value:n})}})}function useControlProps(e){var t,n,r,o,i,a,s;let{account:g,context:m,defaultPricingSetting:f,getInitialOrderFormState:v,intendedDirection:h,limitPriceRef:b,optionChain:C,optionLegs:Z,stopPriceRef:D}=e;const[{orderCheckError:T,serverError:w,step:I,values:{limitPrice:k}}]=(0,E.G)(m),x=(0,c.MS)(),R=useResetOrderFormState(m,v),L=function useGetAmbiguousDirectionErrorProps(e){var t,n;let{context:r,intendedDirection:o,optionChain:i,optionLegs:a}=e;const s=useDirection({context:r,intendedDirection:o,optionChain:i,optionLegs:a}),c=s===F.J7.Debit?F.J7.Credit:F.J7.Debit;return(0,l.useCallback)((()=>({copy:oe||(oe=(0,P.tZ)(Copy,null)),primaryButton:t||(t=(0,P.tZ)(DirectionButton,{context:r,currentDirection:s,direction:s,variant:"primary"})),secondaryButton:n||(n=(0,P.tZ)(DirectionButton,{context:r,currentDirection:s,direction:c,variant:"secondary"})),status:ie||(ie=(0,P.tZ)(p.DH,{defaultMessage:"Credit Or Debit?",id:"OptionOrderForm.AmbiguousDirectionError.Title",status:"legacy"}))})),[r,s,c])}({context:m,intendedDirection:h,optionChain:C,optionLegs:Z}),A=function useGetBlockingOrdersCancelableErrorProps(e){var t;let{account:n,context:r,hasMultipleAccounts:o,optionLegs:i}=e;const a=(0,ce.k6)(),s=(0,p.og)();return(0,l.useCallback)((e=>({copy:(0,P.tZ)(useGetBlockingOrdersCancelableErrorProps_Copy,{account:n,error:e,hasMultipleAccounts:o,optionLegs:i}),primaryButton:(0,P.tZ)(y.z,{label:s.formatMessage({defaultMessage:"View orders",id:"Button.ViewOrders",redOakId:"2649590",status:"approved"}),onClick:()=>{a.push("/options/history")},type:"button",variant:"primary",width:"full"}),secondaryButton:t||(t=(0,P.tZ)(GoBackToEditButton,{context:r,variant:"secondary"})),status:le||(le=(0,P.tZ)(p.DH,{defaultMessage:"This may result in a day trade",id:"OptionOrderForm.BlockingOrdersCancelableError.Title",status:"legacy"}))})),[n,r,o,a,s,i])}({account:g,context:m,hasMultipleAccounts:x,optionLegs:Z}),B=function useGetDayTradesRestrictedErrorProps(e){var t,n;let{account:r,context:o,hasMultipleAccounts:i}=e;const a=(0,p.og)();return(0,l.useCallback)((()=>({copy:t||(t=(0,P.tZ)(useGetDayTradesRestrictedErrorProps_Copy,{account:r,hasMultipleAccounts:i})),primaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:o,variant:"primary"})),scary:!0,secondaryButton:(0,P.tZ)(SkipErrorButton,{context:o,label:a.formatMessage({defaultMessage:"Continue And accept restriction",id:"OptionOrderForm.AcceptPCORestrictionButton",status:"legacy"}),variant:"secondary"}),status:(0,P.tZ)(p.DH,{defaultMessage:"{accountType} is restricted from day trading",id:"OptionOrderForm.DayTradesRestrictedError.Title",status:"legacy",values:{accountType:i?(0,ue.K)({account:r,capitalize:!0}):"Your account"}})})),[r,o,i,a])}({account:g,context:m,hasMultipleAccounts:x}),j=function useGetMaxOrderSizeErrorProps(e,t){var n,r;return(0,l.useCallback)((o=>({copy:(0,P.tZ)(useGetMaxOrderSizeErrorProps_Copy,{error:o}),primaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:e,variant:"primary"})),scary:!0,secondaryButton:r||(r=(0,P.tZ)(ResetOrderFormButton,{onClick:t,variant:"secondary"})),status:Se||(Se=(0,P.tZ)(p.DH,{defaultMessage:"Order Over Contract Limit",id:"OptionOrderForm.MaxOrderSizeError.Title",status:"legacy"}))})),[e,t])}(m,R),H=function useGetMinTickSizeViolationErrorProps(e){var t;let{context:n,defaultPricingSetting:r,optionChain:o,optionLegs:i}=e;const a=(0,p.og)(),[,s]=(0,E.G)(n),c=useGoBackToEdit(n);return(0,l.useCallback)((e=>({copy:(0,P.tZ)(useGetMinTickSizeViolationErrorProps_Copy,{context:n,defaultPricingSetting:r,error:e,optionChain:o,optionLegs:i}),primaryButton:(0,P.tZ)(y.z,{label:a.formatMessage({defaultMessage:"Update to {roundedPrice}",id:"Button.UpdatePrice",status:"legacy"},{roundedPrice:(0,N.T4)(e.roundedPrice,{intl:a})}),onClick:()=>{c(),s({type:O.K.UPDATE_FORM_VALUES,values:{limitPrice:e.roundedPrice}})},type:"button",variant:"primary",width:"full"}),secondaryButton:t||(t=(0,P.tZ)(GoBackToEditButton,{context:n,variant:"secondary"})),status:Ee||(Ee=(0,P.tZ)(p.DH,{defaultMessage:"Order Price Requirement",id:"OptionOrderForm.MinTickSizeViolationError.Title",status:"legacy"}))})),[n,r,s,c,a,o,i])}({context:m,defaultPricingSetting:f,optionChain:C,optionLegs:Z}),U=function useGetNoBidErrorProps(e){var t,n;return(0,l.useCallback)((()=>({copy:De||(De=(0,P.tZ)(useControlProps_useGetNoBidErrorProps_Copy,null)),primaryButton:t||(t=(0,P.tZ)(SkipErrorButton,{context:e,variant:"primary"})),secondaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:e,variant:"secondary"})),status:Te||(Te=(0,P.tZ)(p.DH,{defaultMessage:"No Other Buyers",id:"OptionOrderForm.NoBidError.Title",status:"legacy"}))})),[e])}(m),z=(0,d.E)(u.V.cryptoTexasPendingOrdersWeb),W=function useGetNotEnoughBuyingPowerShouldCancelCryptoErrorProps(e){var t;let{account:n,context:r}=e;const o=(0,p.og)(),[i,a]=(0,l.useState)(!1);return(0,l.useCallback)((e=>({copy:(0,P.tZ)(useGetNotEnoughBuyingPowerShouldCancelCryptoErrorProps_Copy,{error:e}),primaryButton:t||(t=(0,P.tZ)(CancelPendingCryptoButton,{account:n,context:r,isCanceling:i,setIsCanceling:a})),secondaryButton:(0,P.tZ)(GoBackToEditButton,{context:r,disabled:i,label:o.formatMessage({defaultMessage:"Edit order",id:"OptionOrderForm.EditOrderButton",redOakId:"2766946",status:"approved"}),protoLoggingInfo:{action:_.t.event_logging.UserInteractionEventData.Action.BACK,component:{identifier:"go-back-to-edit-button"},screen:{name:_.t.event_logging.Screen.Name.OPTION_ORDER_FORM}},variant:"secondary"}),status:Re||(Re=(0,P.tZ)(p.DH,{defaultMessage:"Free up buying power for this order?",id:"OptionOrderForm.NotEnoughBuyingPowerShouldCancelCryptoError.Title",redOakId:"2766946",status:"approved"}))})),[n,r,o,i])}({account:g,context:m}),q=function useGetNotEnoughBuyingPowerForCollateralErrorProps(e){var t,n;let{account:r,context:o,hasMultipleAccounts:i}=e;const a=useGoBackToEdit(o);return(0,l.useCallback)((()=>({copy:t||(t=(0,P.tZ)(useGetNotEnoughBuyingPowerForCollateralErrorProps_Copy,{account:r,hasMultipleAccounts:i})),primaryButton:(0,P.tZ)(et.D,{cancelReviewing:a,toAccount:r.deeplinkAccountTransferType}),secondaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:o,variant:"secondary"})),status:ke||(ke=(0,P.tZ)(p.DH,{defaultMessage:"Not enough buying power",id:"OptionOrderForm.NotEnoughBuyingPowerForCollateralError.Title",status:"legacy"}))})),[i,r,o,a])}({account:g,context:m,hasMultipleAccounts:x}),Y=function useGetNotEnoughBuyingPowerForPremiumErrorProps(e){var t,n;let{account:r,context:o,hasMultipleAccounts:i}=e;const a=useGoBackToEdit(o);return(0,l.useCallback)((()=>({copy:t||(t=(0,P.tZ)(useGetNotEnoughBuyingPowerForPremiumErrorProps_Copy,{account:r,hasMultipleAccounts:i})),primaryButton:(0,P.tZ)(et.D,{cancelReviewing:a,toAccount:r.deeplinkAccountTransferType}),secondaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:o,variant:"secondary"})),status:xe||(xe=(0,P.tZ)(p.DH,{defaultMessage:"Not enough buying power",id:"OptionOrderForm.NotEnoughBuyingPowerForPremiumError.Title",status:"legacy"}))})),[i,r,o,a])}({account:g,context:m,hasMultipleAccounts:x}),V=function useGetNotEnoughContractsToCloseErrorProps(e){var t,n;let{account:r,context:o,hasMultipleAccounts:i,resetOrderFormState:a}=e;return(0,l.useCallback)((e=>{const s=e.legs.every((e=>e.canCancelPendingOrders));return{copy:(0,P.tZ)(useGetNotEnoughContractsToCloseErrorProps_Copy,{account:r,canCancel:s,error:e,hasMultipleAccounts:i}),primaryButton:t||(t=(0,P.tZ)(GoBackToEditButton,{context:o,variant:"primary"})),secondaryButton:n||(n=(0,P.tZ)(ResetOrderFormButton,{onClick:a,variant:"secondary"})),status:s?Ae||(Ae=(0,P.tZ)(p.DH,{defaultMessage:"Not enough shares",id:"OptionOrderForm.NotEnoughContractsToClose.Title.NotEnoughShares",status:"legacy"})):Fe||(Fe=(0,P.tZ)(p.DH,{defaultMessage:"Not enough contracts",id:"OptionOrderForm.NotEnoughContractsToClose.Title.NotEnoughOptions",status:"legacy"}))}}),[r,o,i,a])}({account:g,context:m,hasMultipleAccounts:x,resetOrderFormState:R}),G=function useGetNotEnoughSharesForCollateralErrorProps(e){var t,n,r;let{account:o,context:i,hasMultipleAccounts:a,optionChain:s,optionLegs:c,resetOrderFormState:u}=e;return(0,l.useCallback)((()=>({copy:t||(t=(0,P.tZ)(useGetNotEnoughSharesForCollateralErrorProps_Copy,{account:o,context:i,hasMultipleAccounts:a,optionChain:s,optionLegs:c})),primaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:i,variant:"primary"})),secondaryButton:r||(r=(0,P.tZ)(ResetOrderFormButton,{onClick:u,variant:"secondary"})),status:Be||(Be=(0,P.tZ)(p.DH,{defaultMessage:"Not enough shares",id:"OptionOrderForm.NotEnoughSharesForCollateralError.Title",status:"legacy"}))})),[o,i,a,s,c,u])}({account:g,context:m,hasMultipleAccounts:x,optionChain:C,optionLegs:Z,resetOrderFormState:R}),K=function useGetPositionClosingOnlyErrorProps(e,t){var n,r;return(0,l.useCallback)((o=>({copy:(0,P.tZ)(useGetPositionClosingOnlyErrorProps_Copy,{error:o}),primaryButton:n||(n=(0,P.tZ)(GoBackToEditButton,{context:e,variant:"primary"})),secondaryButton:r||(r=(0,P.tZ)(ResetOrderFormButton,{onClick:t,variant:"secondary"})),status:(0,P.tZ)(Status,{error:o})})),[e,t])}(m,R),Q=function useGetQuoteUnavailableErrorProps(e,t){var n,r;return(0,l.useCallback)((o=>({copy:(0,P.tZ)(useGetQuoteUnavailableErrorProps_Copy,{error:o}),primaryButton:n||(n=(0,P.tZ)(EnterLimitPriceButton,{context:e,limitPriceRef:t,variant:"primary"})),secondaryButton:r||(r=(0,P.tZ)(GoBackToEditButton,{context:e,variant:"secondary"})),status:Qe||(Qe=(0,P.tZ)(p.DH,{defaultMessage:"Price Unavailable",id:"OptionOrderForm.QuoteUnavailableError.Title",status:"legacy"}))})),[e,t])}(m,b),X=function useGetStopPriceTriggersImmediatelyErrorProps(e,t){var n,r;return(0,l.useCallback)((o=>({copy:(0,P.tZ)(useGetStopPriceTriggersImmediatelyErrorProps_Copy,{error:o}),primaryButton:n||(n=(0,P.tZ)(EnterStopPriceButton,{context:e,stopPriceRef:t,variant:"primary"})),secondaryButton:r||(r=(0,P.tZ)(SkipErrorButton,{context:e,variant:"secondary"})),status:o.side===M.Side.Buy?Je||(Je=(0,P.tZ)(p.DH,{defaultMessage:"Low Stop Price",id:"OptionOrderForm.StopPriceTriggersImmediatelyError.BuyTitle",status:"legacy"})):$e||($e=(0,P.tZ)(p.DH,{defaultMessage:"High Stop Price",id:"OptionOrderForm.StopPriceTriggersImmediatelyError.SellTitle",status:"legacy"}))})),[e,t])}(m,D),J=function useGetTradeOnExpirationPDTWarningProps(e){let{account:t,context:n,hasMultipleAccounts:r}=e;const o=useGoBackToEdit(n),i=useSkipOrderCheckError(n);return(0,l.useCallback)((e=>{const n=e.context.dayTrades.numDayTrades,a=!e.context.isExemptFromPDTRules&&3===n;return{copy:(0,P.tZ)(useGetTradeOnExpirationPDTWarningProps_Copy,{account:t,error:e,hasMultipleAccounts:r}),primaryButton:a?(0,P.tZ)(EditOrderButton,{error:e,onClick:o,variant:"primary"}):(0,P.tZ)(ContinueButton,{error:e,onClick:i,variant:"primary"}),scary:a,secondaryButton:a?(0,P.tZ)(DisableProtectionButton,{error:e,variant:"secondary"}):(0,P.tZ)(EditOrderButton,{error:e,onClick:o,variant:"secondary"}),status:dt||(dt=(0,P.tZ)(p.DH,{defaultMessage:"Pattern day trade warning",id:"OptionOrderForm.TradeOnExpirationPDTWarningError.PDTWarning",status:"legacy"}))}}),[t,o,r,i])}({account:g,context:m,hasMultipleAccounts:x}),$=function useGetTriggersPDTErrorProps(e){var t;let{account:n,context:r,hasMultipleAccounts:o}=e;const i=(0,ce.k6)(),a=(0,p.og)();return(0,l.useCallback)((e=>{var s;return{copy:t||(t=(0,P.tZ)(useGetTriggersPDTErrorProps_Copy,{account:n,hasMultipleAccounts:o})),primaryButton:(0,P.tZ)(GoBackToEditButton,{context:r,label:a.formatMessage({defaultMessage:"Cancel",id:"OptionOrderForm.GoBackToEditButton",status:"legacy"}),variant:"primary"}),scary:!(null!==(s=e.portfolio)&&void 0!==s&&s.isExemptFromPDTRules),secondaryButton:(0,P.tZ)(y.z,{label:a.formatMessage({defaultMessage:"Disable PDT Protection",id:"OptionOrderForm.ViewAccountSettingsButton",status:"legacy"}),onClick:()=>{i.push("/account/settings/investing")},type:"button",variant:"secondary",width:"full"}),status:vt||(vt=(0,P.tZ)(p.DH,{defaultMessage:"Pattern day trade warning",id:"OptionOrderForm.TriggersPDTError.Title",status:"legacy"}))}}),[n,r,o,i,a])}({account:g,context:m,hasMultipleAccounts:x}),ee=function useGetWideBidAskSpreadErrorProps(e,t){var n,r;return(0,l.useCallback)(((o,i)=>({copy:(0,P.tZ)(useGetWideBidAskSpreadErrorProps_Copy,{isSingleLeg:1===o.length,spread:i.spread}),primaryButton:n||(n=(0,P.tZ)(EnterLimitPriceButton,{context:e,limitPriceRef:t,variant:"primary"})),secondaryButton:r||(r=(0,P.tZ)(SkipErrorButton,{context:e,variant:"secondary"})),status:bt||(bt=(0,P.tZ)(p.DH,{defaultMessage:"Wide Bid-Ask Spread",id:"OptionOrderForm.WideBidAskSpreadError.Title",status:"legacy"}))})),[e,t])}(m,b),te=function useGetETPWarningErrorProps(e){var t;const n=useSkipOrderCheckError(e);return(0,l.useCallback)((r=>({copy:pe||(pe=(0,P.tZ)(useControlProps_useGetETPWarningErrorProps_Copy,null)),primaryButton:(0,P.tZ)(PrimaryButton,{etpDetails:r.etpDetails,skipError:n}),secondaryButton:t||(t=(0,P.tZ)(GoBackToEditButton,{context:e,variant:"secondary"})),status:ge||(ge=(0,P.tZ)(p.DH,{defaultMessage:"Heads-Up",id:"OptionOrderForm.ETPWarning.Title",status:"legacy"}))})),[e,n])}(m),ne=function useGetMaritalDependentsErrorProps(e){var t;return()=>({copy:Oe||(Oe=(0,P.tZ)(p.DH,{defaultMessage:"Please update your marital status and number of dependents in order to open new options positions.",id:"OptionOrderForm.ServerSideError.MissingMaritalDependents",status:"legacy"})),primaryButton:t||(t=(0,P.tZ)(MaritalDependentsErrorButton,{context:e}))})}(m),re=useShouldForceUserDefinedLimitPrice({context:m,intendedDirection:h,optionChain:C,optionLegs:Z});return(0,l.useMemo)((()=>{return I===S.hV.ContractSelection?{copy:void 0,primaryButton:t||(t=(0,P.tZ)(ContinueToEditButton,{context:m})),scary:void 0,secondaryButton:void 0,status:void 0}:(0,se.x_)(I)?{copy:void 0,primaryButton:(0,P.tZ)(ReviewOrderButton,{disabled:re&&""===k,step:I}),scary:void 0,secondaryButton:void 0,status:void 0}:T instanceof AmbiguousDirectionError?L():T instanceof BlockingOrdersCancelableError?A(T):T instanceof DayTradesRestrictedError?B():T instanceof ETPWarningError?te(T):T instanceof MaxOrderSizeError?j(T):T instanceof MinTickSizeViolationError?H(T):T instanceof NoBidError?U():T instanceof NotEnoughBuyingPowerShouldCancelCryptoError&&null!=z&&z.isMember()?W(T):T instanceof NotEnoughBuyingPowerForCollateralError?q():T instanceof NotEnoughBuyingPowerForPremiumError?Y():T instanceof NotEnoughContractsToCloseError?V(T):T instanceof NotEnoughSharesForCollateralError?G():T instanceof PositionClosingOnlyError?K(T):T instanceof QuoteUnavailableError?Q(T):T instanceof StopPriceTriggersImmediatelyError?X(T):T instanceof TradeOnExpirationPDTWarningError?J(T):T instanceof TriggersPDTError?$(T):T instanceof WideBidAskSpreadError?ee(Z,T):w?"missing_marital_or_dependents_info"===(null===(e=w.response)||void 0===e||null===(l=e.body)||void 0===l?void 0:l.error_code)?ne():{copy:n||(n=(0,P.tZ)(ServerSideErrorCopy,{serverError:w})),primaryButton:r||(r=(0,P.tZ)(GoBackToEditButton,{context:m,variant:"primary"})),scary:void 0,secondaryButton:o||(o=(0,P.tZ)(ResetOrderFormButton,{onClick:R,variant:"secondary"})),status:Ct||(Ct=(0,P.tZ)(p.DH,{defaultMessage:"Error",id:"OptionOrderForm.ServerSideError",status:"legacy"}))}:{copy:i||(i=(0,P.tZ)(OrderSummary,{context:m,defaultPricingSetting:f,optionChain:C,optionLegs:Z})),primaryButton:a||(a=(0,P.tZ)(SubmitOrderButton,{step:I})),scary:void 0,secondaryButton:s||(s=(0,P.tZ)(GoBackToEditButton,{context:m,variant:"secondary"})),status:void 0};var e,l}),[I,T,z,w,m,f,C,Z,re,k,L,A,B,te,j,H,U,W,q,Y,V,G,K,Q,X,J,$,ee,R,ne])}var St=n(66726),Et=n.n(St),Pt=n(10974);function useSingleLegMarketability(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}=e;const a=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}),s=i[0];if(1===i.length&&null!=s&&s.optionQuote&&!(null===s.optionQuote.low_fill_rate_buy_price||null===s.optionQuote.high_fill_rate_buy_price||null===s.optionQuote.low_fill_rate_sell_price||null===s.optionQuote.high_fill_rate_sell_price||s.optionQuote.low_fill_rate_buy_price>=s.optionQuote.high_fill_rate_buy_price||s.optionQuote.low_fill_rate_sell_price<=s.optionQuote.high_fill_rate_sell_price))return s.side===M.Side.Buy&&o()(a).lte(s.optionQuote.low_fill_rate_buy_price)||s.side===M.Side.Sell&&o()(a).gte(s.optionQuote.low_fill_rate_sell_price)?_.t.option.MarketabilityType.MARKETABILITY_LOW:s.side===M.Side.Buy&&o()(a).gt(s.optionQuote.low_fill_rate_buy_price)&&o()(a).lt(s.optionQuote.high_fill_rate_buy_price)||s.side===M.Side.Sell&&o()(a).gt(s.optionQuote.high_fill_rate_sell_price)&&o()(a).lt(s.optionQuote.low_fill_rate_sell_price)?_.t.option.MarketabilityType.MARKETABILITY_MEDIUM:s.side===M.Side.Buy&&o()(a).gte(s.optionQuote.high_fill_rate_buy_price)||s.side===M.Side.Sell&&o()(a).lte(s.optionQuote.high_fill_rate_sell_price)?_.t.option.MarketabilityType.MARKETABILITY_HIGH:void 0}function useDebouncedSingleLegMarketability(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}=e;const i=useSingleLegMarketability({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}),a=(0,Pt.D)(i),s=(0,Pt.D)(n),[c,u]=(0,l.useState)(i),d=(0,l.useMemo)((()=>s!==n?u:Et()(u,500)),[s,n]);return(0,l.useEffect)((()=>{a!==i&&d(i)}),[d,i,a]),c}var Zt=n(5606),Dt=n(42925),Tt=n(16684);function useInvalidateRelatedOptionOrderRecords(e){let{account:t,legs:n,order:r}=e;const o=(0,Pt.D)(null==r?void 0:r.state),i=(0,C.C$)();(0,l.useEffect)((()=>{o!==(null==r?void 0:r.state)&&(i.invalidate({model:b.QY,params:{accountNumber:t.account_number}}),i.invalidate({many:!0,model:b.z9}),i.invalidate({many:!0,model:b.z9,params:{account_numbers:t.account_number}}),i.invalidate({many:!0,model:b.JY,params:{account_numbers:t.account_number}}),i.invalidate({many:!0,model:b.JY}),i.invalidate({many:!0,model:Dt.PortfolioRecord}),i.invalidate({model:Tt.A,params:{accountNumber:t.account_number,instrument_type:Zt.b.options}}),i.invalidate({model:Tt.A,params:{accountNumber:t.account_number,instrument_type:Zt.b.pendingOptions}}),r&&Promise.all(r.legs.map((async e=>i.invalidate({many:!0,model:b.z9,params:{filter_on_nonzero:!0,option_ids:b.p8.idFromUrl(e.option)}})))),n&&Promise.all(n.map((async e=>{i.invalidate({many:!0,model:b.JY,params:{strategy_code:e.optionInstrument.short_strategy_code}}),i.invalidate({many:!0,model:b.JY,params:{strategy_code:e.optionInstrument.long_strategy_code}}),i.invalidate({many:!0,model:b.JY,params:{account_numbers:t.account_number,strategy_code:e.optionInstrument.short_strategy_code}}),i.invalidate({many:!0,model:b.JY,params:{account_numbers:t.account_number,strategy_code:e.optionInstrument.long_strategy_code}})}))))}),[t.account_number,r,n,o,i])}function useLogOptionOrderMarketability(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}=e;const[{refId:i,values:{limitPrice:a}}]=(0,E.G)(t),s=useSingleLegMarketability({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}),c=(0,Pt.D)(s);(0,l.useEffect)((()=>{a&&c!==s&&s&&(0,h.MI)(v.YB,{context:{options_context:{marketability:s,option_order_ref_id:i}},event_type:_.t.event_logging.UserInteractionEventData.EventType.TYPE,screen:{name:_.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})}),[a,s,c,i])}var wt=n(22903);function useAdjustedMarkPriceRoundDown(e){return String(e.reduce(((e,t)=>e.add(o()(t.optionQuote?t.optionQuote.getSideAdjustedMarkPriceRoundDown(t.side):0).mul(t.ratioQuantity))),o()(0)))}function useMinTickRoundedAdjustedMarkPrice(e,t){const n=useAdjustedMarkPrice(e);return useMinTickRoundedPrice({minTickSize:1===e.length?t.getMinTickSize(o()(n).abs().toString()):F.xg,price:n,side:1===e.length?e[0].side:M.Side.Buy})}function useMinTickRoundedAdjustedMarkPriceRoundDown(e,t){const n=useAdjustedMarkPriceRoundDown(e);return useMinTickRoundedPrice({minTickSize:1===e.length?t.getMinTickSize(o()(n).abs().toString()):F.xg,price:n,side:1===e.length?e[0].side:M.Side.Buy})}function useStopPrice(e){let{context:t,optionChain:n,optionLegs:r,defaultPricingSetting:i=F.s$.Mark}=e;const[{values:{stopPrice:a}}]=(0,E.G)(t),s=useMinTickRoundedMarketPrice({optionChain:n,optionLegs:r}),l=useMinTickRoundedNaturalPrice({optionChain:n,optionLegs:r});return a||(i===F.s$.Mark||r.length>1?o()(s).abs().toString():o()(l).abs().toString())}function useOptionOrderPayload(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c}=e;const[{refId:u,skippedOrderCheckErrors:d,values:{source:p,timeInForce:g,trigger:m,type:y}}]=(0,E.G)(n),f=useDirection({context:n,intendedDirection:o,optionChain:s,optionLegs:c}),v=useLimitPrice({context:n,defaultPricingSetting:r,optionChain:s,optionLegs:c}),h=(0,i.k)(c),_=(0,a.x)(c),b=useStopPrice({context:n,optionChain:s,optionLegs:c}),C=useOrderQuantity(n);return(0,l.useMemo)((()=>({account:t.url,client_ask_at_submission:h,client_bid_at_submission:_,direction:f,form_source:p,legs:c.map((e=>{let{optionInstrument:t,positionEffect:n,ratioQuantity:r,side:o}=e;return{option:t.url,position_effect:n,ratio_quantity:r,side:o}})),override_day_trade_checks:d.some((e=>e instanceof DayTradesRestrictedError)),price:v,quantity:C,ref_id:u,stop_price:m===M.OrderTrigger.Stop?b:void 0,time_in_force:g,trigger:m,type:y})),[t.url,h,_,f,c,v,C,u,d,p,b,g,m,y])}function useLogConfirmOptionLegSelection(e){let{account:t,context:n,defaultPricingSetting:r,optionChain:o,optionLegs:s}=e;const[{existingOrderId:c,step:u}]=(0,E.G)(n),d=(0,Pt.D)(u),p=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:void 0,optionChain:o,optionLegs:s}),g=useAdjustedMarkPrice(s),m=useMinTickRoundedAdjustedMarkPrice(s,o),y=useAdjustedMarkPriceRoundDown(s),f=useMinTickRoundedAdjustedMarkPriceRoundDown(s,o),h=(0,i.k)(s),_=(0,a.x)(s),b=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:o,optionLegs:s});(0,l.useEffect)((()=>{d===S.hV.ContractSelection&&u===S.hV.Edit&&wt.c.logConfirmOptionLegSelectionEvent(v.YB,p,{adjusted_mark_price:g,adjusted_mark_price_min_tick:m,adjusted_mark_price_round_down:y,adjusted_mark_price_round_down_min_tick:f,ask_price:h,bid_price:_,chain_symbol:o.symbol,default_price_setting:r,entered_price:"",existing_order_id:null!=c?c:"",marketability:b,num_legs:s.length,source:S.dG.OptionChain})}),[f,m,g,y,u,d,p,h,_,b,o.symbol,c,s.length,r])}var It=n(56141),kt=n.n(It);var xt=n(11719),Rt=n.n(xt);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useMultiLegMarketabilityPayload(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}=e;const s=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}),[{values:{limitPrice:c}}]=(0,E.G)(n),u=useShouldForceUserDefinedLimitPrice({context:n,intendedDirection:o,optionChain:i,optionLegs:a}),d=(0,l.useMemo)((()=>(0,se.PO)({optionLegs:a,orderPayload:s})),[a,s]),p=a.length>1,g=d.every((e=>void 0!==e.leg_metadata.option_quote)),m=!p||u&&""===c||!g;return(0,l.useMemo)((()=>{if(!m)return _objectSpread(_objectSpread({},s),{},{legs:d,metadata:{marketability_request_id:Rt().v4()}})}),[d,s,m])}async function fetchMarketability(e){return f.s0.post("/options/orders/marketability/").send(e)}function useMultiLegMarketability(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}=e;const[s,c]=(0,l.useState)(void 0),u=useMultiLegMarketabilityPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}),d=function useLogMarketabilityComponentDisppear(e){const[{refId:t}]=(0,E.G)(e);return(0,l.useCallback)((e=>{let{marketability:n,requestId:r}=e;(0,h.MI)(v.YB,{action:_.t.event_logging.UserInteractionEventData.Action.CLEAR_STALE_DATA,component:{component_type:_.t.event_logging.Component.ComponentType.OPTION_ORDER_MARKETABILITY_TAG},context:{options_context:{marketability:n,marketability_request_id:r,option_order_ref_id:t}},event_type:_.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,screen:{name:_.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})}),[t])}(n),p=(0,Pt.D)(u),g=!kt()(u,p),m=(0,l.useRef)(void 0),y=(0,l.useMemo)((()=>Et()((async e=>{const{body:t}=await fetchMarketability(e),n=function convertOptionOrderMarketability(e){switch(e){case"marketability_low":return _.t.option.MarketabilityType.MARKETABILITY_LOW;case"marketability_medium":return _.t.option.MarketabilityType.MARKETABILITY_MEDIUM;case"marketability_high":return _.t.option.MarketabilityType.MARKETABILITY_HIGH;default:return}}(t.marketability);void 0!==n&&(c({marketability:n,requestId:t.marketability_request_id}),m.current&&clearTimeout(m.current)),m.current=setTimeout((()=>{void 0!==(null==s?void 0:s.marketability)&&(d({marketability:s.marketability,requestId:s.requestId}),c(void 0))}),2e3)}),150)),[d,s]);return(0,l.useEffect)((()=>{u&&g&&y(u)}),[y,u,g]),[null==s?void 0:s.marketability,null==s?void 0:s.requestId]}function useLogInitialOptionOrderFormLoad(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c,source:u}=e;const d=(0,l.useRef)(new Set),[{existingOrderId:p}]=(0,E.G)(n),g=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c}),m=useAdjustedMarkPrice(c),y=useMinTickRoundedAdjustedMarkPrice(c,s),f=useAdjustedMarkPriceRoundDown(c),h=useMinTickRoundedAdjustedMarkPriceRoundDown(c,s),_=(0,i.k)(c),b=(0,a.x)(c),C=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:s,optionLegs:c}),O=useMultiLegMarketabilityPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c});(0,l.useEffect)((()=>{d.current.has(g.ref_id)||(O&&fetchMarketability(O),wt.c.logInitialOptionOrderFormLoadEvent(v.YB,g,{account_type:t.rosettaAccountType,adjusted_mark_price:m,adjusted_mark_price_min_tick:y,adjusted_mark_price_round_down:f,adjusted_mark_price_round_down_min_tick:h,ask_price:_,bid_price:b,chain_symbol:s.symbol,default_price_setting:r,entered_price:"",existing_order_id:null!=p?p:"",marketability:C,marketability_request_id:O?O.metadata.marketability_request_id:void 0,num_legs:c.length,source:u}),d.current.add(g.ref_id))}),[h,y,m,f,_,b,p,s.symbol,c.length,g,u,C,r,O,t.rosettaAccountType])}const Mt=Et()(wt.c.logEditOptionOrderFormValuesEvent,1e3);function useLogEditOptionOrderFormValues(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c,source:u}=e;const d=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c}),[{existingOrderId:p,refId:g,values:m}]=(0,E.G)(n),y=(0,Pt.D)(g),f=(0,l.useRef)(void 0),h=useAdjustedMarkPrice(c),_=useMinTickRoundedAdjustedMarkPrice(c,s),b=useAdjustedMarkPriceRoundDown(c),C=useMinTickRoundedAdjustedMarkPriceRoundDown(c,s),O=(0,i.k)(c),S=(0,a.x)(c),P=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:s,optionLegs:c});(0,l.useEffect)((()=>{f.current&&y===g&&!(0,se.og)(m,f.current)&&Mt(v.YB,d,{adjusted_mark_price:h,adjusted_mark_price_min_tick:_,adjusted_mark_price_round_down:b,adjusted_mark_price_round_down_min_tick:C,ask_price:O,bid_price:S,chain_symbol:s.symbol,default_price_setting:r,entered_price:m.limitPrice||"",existing_order_id:null!=p?p:"",marketability:P,num_legs:c.length,source:u}),f.current=m}),[C,_,h,b,O,S,p,P,s.symbol,c.length,d,y,g,u,m,r])}n(56817);function useLogUnmountOptionOrderForm_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useLogUnmountOptionOrderForm(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c,order:u,source:d}=e;const[{existingOrderId:p}]=(0,E.G)(n),g=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:c}),m=useAdjustedMarkPrice(c),y=useMinTickRoundedAdjustedMarkPrice(c,s),f=useAdjustedMarkPriceRoundDown(c),h=useMinTickRoundedAdjustedMarkPriceRoundDown(c,s),_=(0,i.k)(c),b=(0,a.x)(c),C=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:s,optionLegs:c});(0,l.useEffect)((()=>()=>{u?wt.c.logUnmountOptionOrderFormEvent(v.YB,function useLogUnmountOptionOrderForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useLogUnmountOptionOrderForm_ownKeys(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useLogUnmountOptionOrderForm_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({account:t.url},u.loggingPayload),{adjusted_mark_price:m,adjusted_mark_price_min_tick:y,adjusted_mark_price_round_down:f,adjusted_mark_price_round_down_min_tick:h,ask_price:_,bid_price:b,chain_symbol:s.symbol,entered_price:"",existing_order_id:u.id,marketability:C,num_legs:c.length,source:d}):wt.c.logUnmountOptionOrderFormEvent(v.YB,g,{adjusted_mark_price:m,adjusted_mark_price_min_tick:y,adjusted_mark_price_round_down:f,adjusted_mark_price_round_down_min_tick:h,ask_price:_,bid_price:b,chain_symbol:s.symbol,default_price_setting:r,entered_price:"",existing_order_id:null!=p?p:"",marketability:C,num_legs:c.length,source:d})}),[])}var Lt=n(43476);function useMeasureOrderFormReceiptETR(){const e=(0,l.useRef)(new Lt.j(_.t.event_logging.WebEventData.ETRSource.SOURCE_OPTION_ORDER_SUBMISSION));(0,l.useEffect)((()=>{const t=e.current;return t.start(),()=>{t.forcefullyStop()}}),[e])}var At=n(48406),Ft=n(34026);function useMeasureStepTransitionPerformance(e){let{context:t,optionChain:n}=e;const[{orderCheckError:r,serverError:o,step:i}]=(0,E.G)(t),a=(0,Pt.D)(i);l.useEffect((()=>{a!==S.hV.Reviewing&&i===S.hV.Reviewing&&Ft.S.mark(At.w.OptionOrderFormReviewingStarted),a!==S.hV.Reviewed&&i===S.hV.Reviewed&&(Ft.S.mark(At.w.OptionOrderFormReviewingEnded),Ft.S.measure(_.t.event_logging.PerformanceMetricEventData.Name.OPTIONS_ORDER_REVIEW,At.w.OptionOrderFormReviewingStarted,At.w.OptionOrderFormReviewingEnded,{context:{options:{chain_id:n.id,chain_symbol:n.symbol}},source:_.t.event_logging.PerformanceMetricEventData.Source.SOURCE_OPTION_ORDER_FORM,status:r?_.t.event_logging.PerformanceMetricEventData.Status.FAILED:_.t.event_logging.PerformanceMetricEventData.Status.COMPLETED})),a!==S.hV.Submitting&&i===S.hV.Submitting&&Ft.S.mark(At.w.OptionOrderFormSubmittingStarted),a!==S.hV.Submitted&&i===S.hV.Submitted&&(Ft.S.mark(At.w.OptionOrderFormSubmittingEnded),Ft.S.measure(_.t.event_logging.PerformanceMetricEventData.Name.OPTIONS_ORDER_SUBMIT,At.w.OptionOrderFormSubmittingStarted,At.w.OptionOrderFormSubmittingEnded,{context:{options:{chain_id:n.id,chain_symbol:n.symbol}},source:_.t.event_logging.PerformanceMetricEventData.Source.SOURCE_OPTION_ORDER_FORM,status:o?_.t.event_logging.PerformanceMetricEventData.Status.FAILED:_.t.event_logging.PerformanceMetricEventData.Status.COMPLETED}))}),[n.id,n.symbol,r,a,o,i])}function useOnSelectRatioMode(e){const[,t]=(0,E.G)(e);return(0,l.useCallback)((e=>{t({ratioMode:e,type:O.K.UPDATE_RATIO_MODE})}),[t])}var Nt=n(4849);var Bt,jt,Ht=n(36549),Ut=n(53906);const zt={amount:"0",currency_code:"USD"};let Wt=(0,C.OF)((jt=class CryptoAllPendingOrdersValueRecord extends((0,Ut.u)(zt,"CryptoAllPendingOrdersValueRecord")){static idField(){return"singleton"}static url(){return this.urlRoot}},(0,ne.Z)(jt,"urlPath","/orders/get_all_pending_orders_value/"),Bt=jt))||Bt;var qt=n(31806);const Yt=.24;var Vt=n(37249);var Gt=n(94762),Kt=n(31559);function useOptionCollateral(e){let{account:t,context:n,defaultPricingSetting:r,disabled:o,intendedDirection:i,optionChain:a,optionLegs:s}=e;const[{step:l}]=(0,E.G)(n),c=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:i,optionChain:a,optionLegs:s});return delete c.client_bid_at_submission,delete c.client_ask_at_submission,(0,C.tT)({disabled:o||!(0,se.pY)(l),model:b.Kv,params:{order:JSON.stringify(c)}})}function useReviewOptionOrder(e){var t,n,r,s,p;let{account:g,context:m,defaultPricingSetting:y,intendedDirection:f,optionChain:h,optionLegs:_}=e;const P=!!(0,Nt.n)(u.V.optionsServerDrivenOrderChecks),[{skippedOrderCheckErrors:Z,step:D},T]=(0,E.G)(m),w=useUpdateOptionOrderFormStep(m),I=null===(t=(0,c.DV)().result)||void 0===t?void 0:t.activeAccount,k=useOptionCollateral({account:g,context:m,defaultPricingSetting:y,disabled:P,intendedDirection:f,optionChain:h,optionLegs:_}),x=function useOptionTradeCheck(e){let{account:t,context:n,defaultPricingSetting:r,disabled:o,intendedDirection:i,optionChain:a,optionLegs:s}=e;const[{step:l}]=(0,E.G)(n),c=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:i,optionChain:a,optionLegs:s});return(0,C.tT)({disabled:o||!(0,se.pY)(l),model:b.wQ,params:{order:JSON.stringify(c)}})}({account:g,context:m,defaultPricingSetting:y,disabled:P,intendedDirection:f,optionChain:h,optionLegs:_}),R=null!==(n=null===(r=x.result)||void 0===r?void 0:r.blocking_orders.map((e=>b.VZ.idFromUrl(e))).join(","))&&void 0!==n?n:"",L=(0,C.tT)({disabled:P||!R,many:!0,model:b.VZ,params:{account_numbers:null==I?void 0:I.account_number,ids:R}}),N=(0,C.tT)({disabled:P,model:b.QY,params:{accountNumber:g.account_number}}),B=(0,C.tT)({disabled:P||!_.length,many:!0,model:b.z9,params:{account_numbers:null==I?void 0:I.account_number,option_ids:_.map((e=>e.optionInstrument.id))}}),j=(0,C.tT)({disabled:P,model:Dt.DayTradesRecord,params:{accountNumber:g.account_number}}),H=(0,C.tT)({disabled:P,model:b.di,params:{account_number:g.account_number}}),U=(0,C.tT)({disabled:P,model:Dt.MarginSettingsRecord,params:{accountNumber:g.account_number}}),z=(0,C.tT)({disabled:P,model:Dt.PortfolioRecord,params:{accountNumber:g.account_number}}),W=null===(s=(0,d.E)(u.V.cryptoTexasPendingOrdersWeb,!0))||void 0===s?void 0:s.isMember(),q=(0,C.tT)({disabled:P||!W,model:Ht.X}),Y=(0,C.tT)({disabled:P||!W,model:Wt}),V=null===(p=useUnderlyingInstrumentsData(h).get(0))||void 0===p?void 0:p.instrument,G=(0,C.tT)({disabled:P||!(null!=V&&V.id&&null!=V&&V.isEtf),model:A.t3,params:{instrument_id:null==V?void 0:V.id}}),K=function useCheckAmbiguousDirection(e){let{context:t,intendedDirection:n,optionLegs:r}=e;const s=o()((0,a.x)(r)),c=o()((0,i.k)(r)),[{values:{direction:u}}]=(0,E.G)(t);return(0,l.useCallback)((()=>{if(n||u)return;if(!(r.length>1))return;const e=s.gt(0)&&c.gt(0),t=s.lt(0)&&c.lt(0);if(!e&&!t)throw new AmbiguousDirectionError}),[c,s,u,n,r.length])}({context:m,intendedDirection:f,optionLegs:_}),Q=function useCheckBlockingOrdersCancelable(){return(0,l.useCallback)(((e,t)=>{if(null!=t&&t.blocked&&null!=e&&e.count()&&e.every((e=>e.isCancelable)))throw new BlockingOrdersCancelableError(t.blocking_orders)}),[])}(),X=function useCheckDayTradesRestricted(){return(0,l.useCallback)((e=>{if((null==e?void 0:e.reason)===qt.k.DayTrade)throw new DayTradesRestrictedError}),[])}(),J=function useCheckMaxOrderSize(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}=e;const a=useOrderQuantity(t),s=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i});return(0,l.useCallback)((()=>{if(!i.length)return;const e=i.filter((e=>e.positionEffect===F.yR.Open)).reduce(((e,t)=>e.add(o()(t.ratioQuantity).times(o()(a)))),o()(0));if(o()(s).lte(Yt)){if(e.gt(500))throw new MaxOrderSizeError({maxNumContracts:500,maxPrice:.25})}else if(e.gt(200))throw new MaxOrderSizeError({maxNumContracts:200,minPrice:Yt})}),[s,i,a])}({context:m,defaultPricingSetting:y,optionChain:h,optionLegs:_}),$=function useCheckMinTickSizeViolation(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}=e;const a=useLimitPrice({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:i}),s=useMinTickRoundedPrice({minTickSize:1===i.length?r.getMinTickSize(a):F.xg,price:a,side:1===i.length?i[0].side:M.Side.Buy});return(0,l.useCallback)((()=>{if(1!==i.length)return;const e=r.getMinTickSize(a);if(o()(a).mod(e).gt(0))throw new MinTickSizeViolationError(s)}),[a,s,r,i.length])}({context:m,defaultPricingSetting:y,optionChain:h,optionLegs:_}),ee=function useCheckNoBid(e){return(0,l.useCallback)((()=>{if(1===e.length&&e[0].optionQuote&&e[0].side===M.Side.Buy&&e[0].positionEffect===F.yR.Open&&o()(e[0].optionQuote.bid_price).gt(0)&&0===e[0].optionQuote.bid_size)throw new NoBidError}),[e])}(_),te=function useCheckNotEnoughBuyingPowerShouldCancelCrypto(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:i,optionChain:a,optionLegs:s}=e;const c=useDirection({context:n,intendedDirection:i,optionChain:a,optionLegs:s}),u=useUnsignedEffect({context:n,defaultPricingSetting:r,optionChain:a,optionLegs:s});return(0,l.useCallback)((e=>{let{collateral:n,cryptoAllPendingOrdersValueRecord:r,identiAddressResidential:i,optionsBuyingPower:a}=e;if(t.isRetirementAccount)return;if("US"!==(null==i?void 0:i.country)||"TX"!==(null==i?void 0:i.region))return;if(c!==F.J7.Debit||!n||!a||!r)return;if(s.every((e=>e.positionEffect===F.yR.Close)))return;const l=o()((a?a.buyingPower:Vt.WI.fromRawUSD(0)).amount),d=n.cash.infinite?"0":n.cash.amount,p=n.cash.direction===F.J7.Debit?l.minus(d):l.plus(d);if(o()(u).lte(p))return;const g=o()((null!=r?r:Vt.WI.fromRawUSD(0)).amount),m=o()(u).minus(p),y=p.plus(g);if(y.gte(o()(u)))throw new NotEnoughBuyingPowerShouldCancelCryptoError(m.toString(),y.toString())}),[t.isRetirementAccount,c,s,u])}({account:g,context:m,defaultPricingSetting:y,intendedDirection:f,optionChain:h,optionLegs:_}),ne=function useCheckNotEnoughBuyingPowerForCollateral(e){let{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:i,optionLegs:a}=e;const s=useDirection({context:t,intendedDirection:r,optionChain:i,optionLegs:a}),c=useUnsignedEffect({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:a});return(0,l.useCallback)(((e,t)=>{if(s!==F.J7.Credit||!e||!t)return;const n=o()(e.cash.amount||0).times(F.jY[e.cash.direction]);if(!n.gt(0))return;const r=(null==t?void 0:t.buyingPower)||Vt.WI.fromRawUSD(0),i=o()(c).times(F.jY[s]),a=o()(r.amount).minus(n);if(i.gt(a))throw new NotEnoughBuyingPowerForCollateralError}),[s,c])}({context:m,defaultPricingSetting:y,intendedDirection:f,optionChain:h,optionLegs:_}),re=function useCheckNotEnoughBuyingPowerForPremium(e){let{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:i,optionLegs:a}=e;const s=useDirection({context:t,intendedDirection:r,optionChain:i,optionLegs:a}),c=useUnsignedEffect({context:t,defaultPricingSetting:n,optionChain:i,optionLegs:a});return(0,l.useCallback)(((e,t)=>{if(s!==F.J7.Debit||!e||!t)return;if(a.every((e=>e.positionEffect===F.yR.Close)))return;const n=o()((t?t.buyingPower:Vt.WI.fromRawUSD(0)).amount),r=e.cash.infinite?"0":e.cash.amount,i=e.cash.direction===F.J7.Debit?n.minus(r):n.plus(r);if(o()(c).gt(i))throw new NotEnoughBuyingPowerForPremiumError}),[s,a,c])}({context:m,defaultPricingSetting:y,intendedDirection:f,optionChain:h,optionLegs:_}),oe=function useCheckNotEnoughContractsToClose(e,t){const n=useOrderQuantity(e);return(0,l.useCallback)((e=>{const r=t.map((t=>{if(t.positionEffect!==F.yR.Close)return;const r=null==e?void 0:e.find((e=>e.option===t.optionInstrument.url&&e.adjustedQuantity>0)),i=(0,se.A7)({position:r,positionEffect:t.positionEffect,side:t.side});if(!i)return;const a=i.getPendingQuantity(t.side),s=o()(i.adjustedQuantity).minus(a);return o()(n).gt(s)?{canCancelPendingOrders:o()(n).lte(i.adjustedQuantity),closableQuantity:String(s),optionInstrument:t.optionInstrument,pendingQuantity:a,side:t.side}:void 0})).filter((e=>!!e));if(r.length>0)throw new NotEnoughContractsToCloseError(r)}),[t,n])}(m,_),ie=function useCheckNotEnoughSharesForCollateral(e){let{context:t,intendedDirection:n,optionChain:r,optionLegs:o}=e;const i=useDirection({context:t,intendedDirection:n,optionChain:r,optionLegs:o});return(0,l.useCallback)((e=>{if(i===F.J7.Credit&&e&&e.cash.infinite)throw new NotEnoughSharesForCollateralError}),[i])}({context:m,intendedDirection:f,optionChain:h,optionLegs:_}),ae=function useCheckPositionClosingOnly(e){return(0,l.useCallback)((t=>{e.forEach((e=>{const n=null==t?void 0:t.find((t=>t.option===e.optionInstrument.url&&t.adjustedQuantity>0));if(e.positionEffect===F.yR.Open&&e.optionInstrument.tradability===M.Tradability.PositionClosingOnly)throw new PositionClosingOnlyError({expiresToday:e.optionInstrument.expiresOnGivenDate(new Date),hasPosition:!!n,side:e.side})}))}),[e])}(_),le=function useCheckQuoteUnavailable(e,t){const[{values:n}]=(0,E.G)(e);return(0,l.useCallback)((()=>{if(n.limitPrice)return;const e=t.filter((e=>!e.optionQuote));if(e.length)throw new QuoteUnavailableError(e.map((e=>e.optionInstrument)))}),[t,n.limitPrice])}(m,_),ce=function useCheckStopPriceTriggersImmediately(e){let{context:t,optionChain:n,optionLegs:r}=e;const[{values:{trigger:s}}]=(0,E.G)(t),c=(0,a.x)(r),u=(0,i.k)(r),d=useStopPrice({context:t,optionChain:n,optionLegs:r});return(0,l.useCallback)((()=>{if(s!==M.OrderTrigger.Stop||1!==r.length)return;const e=r[0].side;if(e===M.Side.Buy&&o()(c).gte(d))throw new StopPriceTriggersImmediatelyError(e,u,c);if(e===M.Side.Sell&&o()(c).abs().lte(d))throw new StopPriceTriggersImmediatelyError(e,c,u)}),[u,c,r,d,s])}({context:m,optionChain:h,optionLegs:_}),ue=function useCheckTradeOnExpirationPDTWarning(e,t){const n=(0,at.useSelector)(lt.cj),r=(0,at.useSelector)(lt._p);return(0,l.useCallback)((o=>{let{dayTrades:i,marginSettings:a,optionSettings:s,portfolio:l}=o;const c=new Date,u=t.filter((e=>e.positionEffect===F.yR.Open)).filter((e=>e.optionInstrument.expiresOnGivenDate(c)&&(0,Gt.default)(c,e.optionInstrument.selloutDateTime)||e.optionInstrument.expiration_date===n.date&&r));if(!u.length||!s||s.trading_on_expiration_state!==Kt.F.Enabled||!a||!a.day_trades_protection||!i||i.numDayTrades>3||!l||l.isExemptFromPDTRules&&3!==i.numDayTrades)return;const d=u[0],p={account:e,dayTrades:i,isExemptFromPDTRules:l.isExemptFromPDTRules,numLegs:t.length,numSameDayExpiringLegs:u.length,optionInstrument:d.optionInstrument};throw v.YB.logEvent({event:{category:"screen_transition",data:{screen_depth:0,screen_description:(0,se.If)(p),screen_name:"friday_trading_pdt_warning"},event:"appear"}}),new TradeOnExpirationPDTWarningError(p)}),[e,r,n.date,t])}(g,_),de=function useCheckETPWarning(){return(0,l.useCallback)((e=>{if(null!=e&&e.shouldTriggerETPWarning())throw new ETPWarningError(e)}),[])}(),pe=function useCheckTriggersPDT(){return(0,l.useCallback)(((e,t)=>{if(null!=e&&e.blocked&&(null==e?void 0:e.reason)===qt.k.TriggersPDT)throw new TriggersPDTError(t)}),[])}(),ge=function useCheckWideBidAskSpread(e,t){const[{values:{limitPrice:n}}]=(0,E.G)(e),r=(0,a.x)(t),s=(0,i.k)(t);return(0,l.useCallback)((()=>{const e=o()(s).minus(r);if(!n&&e.gt(.5))throw new WideBidAskSpreadError(e.toString())}),[s,r,n])}(m,_);(0,l.useEffect)((()=>{if(!(D===S.hV.Reviewing&&P||D!==S.hV.Reviewing||L.loading||k.loading||j.loading||G.loading||U.loading||N.loading||B.loading||H.loading||z.loading||x.loading||W&&(Y.loading||q.loading)))try{K(),Q(L.result,x.result),X(x.result),de(G.result),J(),$(),ee(),W&&te({collateral:k.result,cryptoAllPendingOrdersValueRecord:Y.result,identiAddressResidential:q.result,optionsBuyingPower:N.result}),ne(k.result,N.result),re(k.result,N.result),oe(B.result),ie(k.result),ae(B.result),le(),ce(),ue({dayTrades:j.result,marginSettings:U.result,optionSettings:H.result,portfolio:z.result}),pe(x.result,z.result),ge()}catch(e){Z.every((t=>t.constructor!==e.constructor))&&T({orderCheckError:e,type:O.K.SET_ORDER_CHECK_ERROR})}finally{w(S.hV.Reviewed)}}),[L.loading,L.result,K,Q,X,de,J,$,ee,ne,re,oe,ie,ae,le,ce,ue,pe,ge,k.loading,k.result,j.loading,j.result,G.loading,G.result,T,U.loading,U.result,B.loading,B.result,H.loading,H.result,N.loading,N.result,z.loading,z.result,Z,D,x.loading,x.result,w,Y.loading,Y.result,q.loading,q.result,te,W,P])}var Qt=n(40946);function useWaitForOrderCheckPayload_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useWaitForOrderCheckPayload_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useWaitForOrderCheckPayload_ownKeys(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useWaitForOrderCheckPayload_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useRunServerDrivenOrderChecks(e){let{account:t,context:n,defaultPricingSetting:r,disabled:o,intendedDirection:i,optionChain:a,optionLegs:s}=e;const[,c]=(0,E.G)(n),u=useUpdateOptionOrderFormStep(n),d=function useWaitForOrderCheckPayload(e){let{account:t,context:n,defaultPricingSetting:r,disabled:o,intendedDirection:i,optionChain:a,optionLegs:s}=e;const c=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:i,optionChain:a,optionLegs:s}),u=(0,Qt.T)(o);return(0,l.useMemo)((()=>useWaitForOrderCheckPayload_objectSpread(useWaitForOrderCheckPayload_objectSpread({},c),{},{legs:(0,se.PO)({optionLegs:s,orderPayload:c}),metadata:{options_buying_power:u?Vt.WI.dangerouslyGetValueAsString(u.buyingPower):""}})),[s,u,c])}({account:t,context:n,defaultPricingSetting:r,disabled:o,intendedDirection:i,optionChain:a,optionLegs:s});return(0,l.useCallback)((async()=>{try{const e=await f.s0.post("/options/orders/review").send(d);200===e.status&&e.body.alert&&c({serverDrivenOrderCheckError:new ServerDrivenOptionOrderCheckError(e.body.alert),type:O.K.SET_SERVER_DRIVEN_ORDER_CHECK_ERROR})}finally{u(S.hV.Reviewed)}}),[c,d,u])}var Xt=n(67527);function useLogSubmitOptionOrderSuccess_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useLogSubmitOptionOrderSuccess(e){let{account:t,defaultPricingSetting:n,optionChain:r,source:o}=e;return(0,l.useCallback)((e=>{wt.c.logSubmitOptionOrderSuccessEvent(v.YB,function useLogSubmitOptionOrderSuccess_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useLogSubmitOptionOrderSuccess_ownKeys(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useLogSubmitOptionOrderSuccess_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({account:t.url},e.loggingPayload),{adjusted_mark_price:"",adjusted_mark_price_min_tick:"",adjusted_mark_price_round_down:"",adjusted_mark_price_round_down_min_tick:"",ask_price:"",bid_price:"",chain_symbol:r.symbol,default_price_setting:n,entered_price:"",existing_order_id:e.id,marketability:void 0,num_legs:e.legs.size,source:o})}),[t.url,r.symbol,o,n])}function useOnSubmitOptionOrderForm(e){let{account:t,context:n,defaultPricingSetting:r,hasPosition:o,intendedDirection:s,isWatching:d,optionChain:p,optionLegs:g,source:m}=e;const[{step:y}]=(0,E.G)(n),f=useUpdateOptionOrderFormStep(n);useReviewOptionOrder({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:p,optionLegs:g});const h=function useSubmitOptionOrder(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a,source:s}=e;const[,u]=(0,E.G)(n),d=useUpdateOptionOrderFormStep(n),p=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}),[,g]=(0,C.Db)(b.VZ.createOptionOrder),m=useLogSubmitOptionOrderSuccess({account:t,defaultPricingSetting:r,optionChain:i,source:s}),{activeAccount:y}=(0,Xt.X_)((0,c.DV)());return(0,l.useCallback)((async()=>{d(S.hV.Submitting);try{const e=await g(p,y);u({order:e,type:O.K.SET_ORDER_ID}),m(e)}catch(e){u({serverError:e,type:O.K.SET_SERVER_ERROR})}finally{d(S.hV.Submitted)}}),[y,g,u,m,p,d])}({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:p,optionLegs:g,source:m}),_=function useLogReviewOptionOrder(e){let{account:t,context:n,defaultPricingSetting:r,hasPosition:o,intendedDirection:s,isWatching:c,optionChain:u,optionLegs:d,source:p}=e;const g=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:u,optionLegs:d}),[{existingOrderId:m,values:{limitPrice:y=""}}]=(0,E.G)(n),f=useAdjustedMarkPrice(d),h=useMinTickRoundedAdjustedMarkPrice(d,u),_=useAdjustedMarkPriceRoundDown(d),b=useMinTickRoundedAdjustedMarkPriceRoundDown(d,u),C=(0,i.k)(d),O=(0,a.x)(d),S=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:u,optionLegs:d}),P=useMultiLegMarketabilityPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:u,optionLegs:d});return(0,l.useCallback)((()=>{P&&fetchMarketability(P),wt.c.logReviewOptionOrderEvent(v.YB,g,{account_type:t.rosettaAccountType,adjusted_mark_price:f,adjusted_mark_price_min_tick:h,adjusted_mark_price_round_down:_,adjusted_mark_price_round_down_min_tick:b,ask_price:C,bid_price:O,chain_symbol:u.symbol,default_price_setting:r,entered_price:y,existing_order_id:null!=m?m:"",has_position:o,is_watching:c,marketability:S,marketability_request_id:P?P.metadata.marketability_request_id:void 0,num_legs:d.length,source:p})}),[g,t,f,h,_,b,C,O,u.symbol,r,y,m,o,c,S,P,d.length,p])}({account:t,context:n,defaultPricingSetting:r,hasPosition:o,intendedDirection:s,isWatching:d,optionChain:p,optionLegs:g,source:m}),P=function useLogSubmitOptionOrder(e){let{account:t,context:n,defaultPricingSetting:r,hasPosition:o,intendedDirection:s,isWatching:c,optionChain:u,optionLegs:d,source:p}=e;const g=useOptionOrderPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:u,optionLegs:d}),[{existingOrderId:m,values:{limitPrice:y=""}}]=(0,E.G)(n),f=useAdjustedMarkPrice(d),h=useMinTickRoundedAdjustedMarkPrice(d,u),_=useAdjustedMarkPriceRoundDown(d),b=useMinTickRoundedAdjustedMarkPriceRoundDown(d,u),C=(0,i.k)(d),O=(0,a.x)(d),S=useSingleLegMarketability({context:n,defaultPricingSetting:r,optionChain:u,optionLegs:d}),P=useMultiLegMarketabilityPayload({account:t,context:n,defaultPricingSetting:r,intendedDirection:s,optionChain:u,optionLegs:d});return(0,l.useCallback)((()=>{P&&fetchMarketability(P),wt.c.logSubmitOptionOrderEvent(v.YB,g,{account_type:t.rosettaAccountType,adjusted_mark_price:f,adjusted_mark_price_min_tick:h,adjusted_mark_price_round_down:_,adjusted_mark_price_round_down_min_tick:b,ask_price:C,bid_price:O,chain_symbol:u.symbol,default_price_setting:r,entered_price:y,existing_order_id:null!=m?m:"",has_position:o,is_watching:c,marketability:S,marketability_request_id:P?P.metadata.marketability_request_id:void 0,num_legs:d.length,source:p})}),[t,g,f,h,_,b,C,O,u.symbol,r,y,m,o,c,S,P,d.length,p])}({account:t,context:n,defaultPricingSetting:r,hasPosition:o,intendedDirection:s,isWatching:d,optionChain:p,optionLegs:g,source:m}),Z=function useIsValidOptionOrderFormValues(e){return!!useOrderQuantity(e)}(n),D=!!(0,Nt.n)(u.V.optionsServerDrivenOrderChecks),T=useRunServerDrivenOrderChecks({account:t,context:n,defaultPricingSetting:r,disabled:!D,intendedDirection:s,optionChain:p,optionLegs:g});return(0,l.useCallback)((async e=>{e.preventDefault(),Z&&(y===S.hV.Edit?(_(),f(S.hV.Reviewing),D&&T()):y===S.hV.Reviewed&&(P(),h()))}),[D,Z,_,P,T,y,h,f])}function useOptionOrder(e){const[{orderId:t}]=(0,E.G)(e);return(0,C.tT)({disabled:!t,model:b.VZ,params:{id:t}})}var Jt=n(64949);function useReplaceOrder(e,t){const[,n]=(0,E.G)(e);return(0,l.useCallback)((()=>{n({order:t,type:O.K.REPLACE_ORDER_STATE})}),[n,t])}function useResetOptionOrderFormStateUponUnmount(e,t){const n=useResetOrderFormState(e,t);(0,l.useEffect)((()=>()=>{n()}),[n])}function useResetPriceFieldsUponStrategyChange(e,t){const n=(0,Pt.D)(t.length),[,r]=(0,E.G)(e);(0,l.useEffect)((()=>{n!==t.length&&r({type:O.K.UPDATE_FORM_VALUES,values:{limitPrice:"",stopPrice:""}})}),[r,t,n])}function useOptionStrategy(e){return(0,C.tT)({disabled:!e.length,model:b.b4,params:{legs:(0,L.List)(e.map((e=>{let{optionInstrument:t,positionEffect:n,ratioQuantity:r,side:o}=e;return{option:t.url,position_effect:n,ratio_quantity:r,side:o}})))}})}function useOptionStrategyBonfire(e){return(0,C.tT)({disabled:!e.length,model:b.rI,params:{legs:(0,L.List)(e.map((e=>{let{optionInstrument:t,positionEffect:n,ratioQuantity:r,side:o}=e;return{option:t.url,position_effect:n,ratio_quantity:r,side:o}})))}})}function useSelectOptionLegs(e){const[,t]=(0,E.G)(e);return(0,l.useCallback)((e=>{t({optionLegSelections:e,type:O.K.SELECT_OPTION_LEGS})}),[t])}function useUnderlyingQuote(e){var t;const n=null===(t=e.underlying_instruments.first(void 0))||void 0===t?void 0:t.instrument;return(0,C.tT)({disabled:!n,model:A.Z9,params:{instrumentId:(0,C.Hz)(null!=n?n:"")}}).result}var $t=n(86710)},98212:(e,t,n)=>{"use strict";n.d(t,{k:()=>useAskPrice});var r=n(15373),o=n.n(r),i=n(73367);function useAskPrice(e){return String(e.reduce(((e,t)=>t.optionQuote?t.side===i.Side.Buy?e.add(o()(t.optionQuote.ask_price).times(t.ratioQuantity)):e.minus(o()(t.optionQuote.bid_price).times(t.ratioQuantity)):e),o()(0)))}},88182:(e,t,n)=>{"use strict";n.d(t,{x:()=>useBidPrice});var r=n(15373),o=n.n(r),i=n(73367);function useBidPrice(e){return String(e.reduce(((e,t)=>t.optionQuote?t.side===i.Side.Buy?e.add(o()(t.optionQuote.bid_price).times(t.ratioQuantity)):e.minus(o()(t.optionQuote.ask_price).times(t.ratioQuantity)):e),o()(0)))}},4209:(e,t,n)=>{"use strict";n.d(t,{i:()=>useCollateralDetails});var r,o,i=n(34051),a=(n(27378),n(25718)),s=n(93284),l=n(42579),c=n(10043);function CollateralLabel(e){let{direction:t}=e;return t===l.J7.Debit?r||(r=(0,c.tZ)(s.DH,{defaultMessage:"Collateral",id:"CollateralLabel.Debit",status:"legacy"})):o||(o=(0,c.tZ)(s.DH,{defaultMessage:"Released Collateral",id:"CollateralLabel.Credit",status:"legacy"}))}function useCollateralDetails(e){const t=null!=e&&e.hasCashCollateral?i.List.of({field:(0,c.tZ)(a.tA,{value:e.cash.infinite?null:e.cash.amount}),label:(0,c.tZ)(CollateralLabel,{direction:e.cash.direction})}):(0,i.List)(),n=null!=e&&e.hasEquityCollateral?e.equities.map((e=>({field:(0,c.tZ)(a.qL,{quantity:e.quantity,symbol:e.symbol}),label:(0,c.tZ)(CollateralLabel,{direction:e.direction})}))):(0,i.List)();return t.concat(n)}},56817:(e,t,n)=>{"use strict";n.d(t,{E:()=>useLogOrderStateChange});var r=n(64649),o=n(27378),i=n(10974),a=n(84974),s=n(22903),l=n(98212),c=n(88182);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useLogOrderStateChange(e){let{account:t,defaultPricingSetting:n,optionChain:u,optionLegs:d,order:p,source:g}=e;const m=(0,i.D)(null==p?void 0:p.state),y=(0,l.k)(d),f=(0,c.x)(d);(0,o.useEffect)((()=>{p&&m!==p.state&&s.c.logOptionOrderStateChangeEvent(a.YB,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({account:t.url},p.loggingPayload),{adjusted_mark_price:"",adjusted_mark_price_min_tick:"",adjusted_mark_price_round_down:"",adjusted_mark_price_round_down_min_tick:"",ask_price:y,bid_price:f,chain_symbol:u.symbol,current_order_state:p.state,default_price_setting:n,entered_price:"",existing_order_id:p.id,marketability:void 0,num_legs:p.legs.size,prev_order_state:m,source:g})}),[t.url,y,f,u.symbol,p,m,g,n])}},50629:(e,t,n)=>{"use strict";n.d(t,{G:()=>useOptionOrderFormContext});var r=n(27378);function useOptionOrderFormContext(e){const t=(0,r.useContext)(e);if(!t)throw new Error("OptionOrderForm context must be wrapped in provider");return t}},56811:(e,t,n)=>{"use strict";n.d(t,{A:()=>usePersistedValues});var r=n(99788);function usePersistedValues(){return(0,r.z)("order-form-persisted-values",{positionEffect:void 0})}},64949:(e,t,n)=>{"use strict";n.d(t,{n:()=>usePositionEffect});var r=n(27378),o=n(56292),i=n(50629),a=n(56811);function usePositionEffect(e){const[{INTERNAL_positionEffect:t},n]=(0,i.G)(e),[s,l]=(0,a.A)(),c=(0,r.useCallback)((e=>{n({positionEffect:e,type:o.K.UPDATE_INTERNAL_POSITION_EFFECT}),l({positionEffect:e})}),[n,l]);return[s.positionEffect||t,c]}},86710:(e,t,n)=>{"use strict";n.d(t,{Q:()=>useUnselectOptionLeg});var r=n(27378),o=n(56292),i=n(50629);function useUnselectOptionLeg(e){const[,t]=(0,i.G)(e);return(0,r.useCallback)((e=>{t({optionInstrument:e,type:o.K.UNSELECT_OPTION_LEG})}),[t])}},32365:(e,t,n)=>{"use strict";n.d(t,{$_:()=>r.$,O5:()=>NewOptionOrderFormContext,g5:()=>OptionOrderForm,dG:()=>u.dG,hV:()=>u.hV,eJ:()=>OrderTypeMenu,fh:()=>u.fh,A7:()=>y.A7,pY:()=>y.pY,x_:()=>y.x_,Wn:()=>initializeOptionOrderFormState,gw:()=>c.gw,Gp:()=>c.Gp,nE:()=>c.nE,Nz:()=>c.Nz,QO:()=>c.QO,bM:()=>c.bM});var r=n(56539),o=n(27378),i=n(66386),a=n(56817),s=n(95470),l=n(15238),c=n(53008),u=n(81359),d=n(10043),p=n(27865),g=n(63783),m=n(50169),y=n(2320);function CollateralFields(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}=e;const[{step:s}]=(0,c.Gp)(n),u=(0,c.pp)({account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}),f=(0,c.iw)(u.result),v=(0,y.x_)(s)||f.isEmpty();return(0,d.tZ)(g.iC,{collapsed:v},(0,d.tZ)("div",{css:(0,d.iv)({paddingRight:m.q3},"")},f.map(((e,t)=>{let{field:n,label:r}=e;return(0,d.tZ)(p.p,{key:t,field:n,label:(0,d.tZ)("div",{"data-testid":l.c.Options.OrderForm.CollateralRowLabel},r),multiLine:!0})}))))}var f,v=n(50629),h=n(10974),_=n(56292),b=n(51243),C=n(35002),O=n(38978),S=n(73367),E=n(25718),P=n(11397),Z=n(86710),D=n(45116),T=n(21675),w=n(93284),I=n(27548),k=n(19207),x=n(37335);function Label(e){let{optionInstrument:t,side:n}=e;return(0,d.tZ)(o.Fragment,null,(0,d.tZ)("div",null,(0,d.tZ)(w.DH,{defaultMessage:"{strikePrice} {type}",id:"OptionChainDetail.orderForm.legSelectionLabel",status:"legacy",values:{strikePrice:(0,d.tZ)(x.C,{value:t.strike_price}),type:(0,d.tZ)(w.DH,I.s.optionType[t.type])}})),(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"{expiration} • {side}",id:"OptionChainDetail.orderForm.caption",status:"legacy",values:{expiration:(0,D.Z)(t.normalizedExpirationDate)?f||(f=(0,d.tZ)(w.DH,{defaultMessage:"Expires Today",id:"OptionChainDetail.orderForm.caption.expiresToday",status:"legacy"})):(0,d.tZ)(w.DH,{defaultMessage:"{date} Exp",id:"OptionChainDetail.orderForm.caption.notExpiresToday",status:"legacy",values:{date:(0,d.tZ)(k.X,{value:t.normalizedExpirationDate})}}),side:(0,d.tZ)(w.DH,I.s.side[n])}}))))}var R=n(73561);function RatioQuantityField(e){let{context:t,optionLeg:{optionInstrument:n,ratioQuantity:r}}=e;const[i,a]=(0,o.useState)(String(r)),s=function useOnUpdateRatioQuantity(e,t){const[,n]=(0,v.G)(e);return(0,o.useCallback)((e=>{n({optionInstrument:t,ratioQuantity:e,type:_.K.UPDATE_RATIO_QUANTITY})}),[n,t])}(t,n);return(0,d.tZ)(R.Y,{max:String(9),maxDecimalPlaces:0,min:String(1),onBlur:e=>{""===e.target.value&&(a(String(1)),s(1))},onChange:e=>{let{value:t}=e;Number(t)>=1&&Number(t)<=9&&s(Number(t)),a(t)},value:i})}var M={name:"1qufaux",styles:"margin-right:auto;min-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap"},L={name:"1ibxulo",styles:"align-items:center;display:flex;height:24px;justify-content:center;width:24px"};function LegSelectionRow(e){var t;let{canEditRatioQuantity:n,context:r,defaultPricingSetting:o,disableLegUnselection:i,optionLeg:a}=e;const s=(0,Z.Q)(r),l=null===(t=a.optionQuote)||void 0===t?void 0:t.getDefaultPrice({defaultPricingSetting:o,side:a.side});return(0,d.tZ)("div",{css:(0,d.iv)({alignItems:"center",display:"flex",minHeight:m.Zv},""),role:"listitem"},(0,d.tZ)(g.iC,{collapsed:!n,horizontal:!0},(0,d.tZ)("div",{css:(0,d.iv)({marginRight:m.q3,width:3*m.q3},"")},(0,d.tZ)(RatioQuantityField,{context:r,optionLeg:a}))),(0,d.tZ)("div",{css:M},(0,d.tZ)(Label,{optionInstrument:a.optionInstrument,side:a.side})),(0,d.tZ)("div",{css:["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;",i&&{marginRight:12},""]},l&&(0,d.tZ)(E.tA,{value:a.side===S.Side.Buy?l:-1*Number(l)})),!i&&(0,d.tZ)(b.FC,null,(e=>{let{hoverableClassName:t}=e;return(0,d.tZ)(P.k,{"aria-label":"Remove",className:t,css:L,onClick:()=>{s(a.optionInstrument)}},(0,d.tZ)(C.sg,{color:O.E1.Primary,type:"Close12"}))})))}function ContractSelectionFormFields(e){let{context:t,defaultPricingSetting:n,disableLegUnselection:r,optionLegs:i}=e;const[{ratioMode:a},s]=(0,v.G)(t),l=(0,h.D)(a),c=(0,h.D)(i.length);return(0,o.useEffect)((()=>{l&&l!==u.fh.Normal&&a===u.fh.Normal&&s({type:_.K.SET_ALL_RATIO_QUANTITIES_TO_ONE})}),[s,l,a]),(0,o.useEffect)((()=>{c&&c!==i.length&&1===i.length&&(s({ratioMode:u.fh.Normal,type:_.K.UPDATE_RATIO_MODE}),s({type:_.K.SET_ALL_RATIO_QUANTITIES_TO_ONE}))}),[s,i.length,c,a]),(0,d.tZ)("section",{"aria-label":"Contracts",role:"list"},i.map((e=>(0,d.tZ)(ContractSelectionFormField,{key:e.optionInstrument.id,context:t,defaultPricingSetting:n,disableLegUnselection:r,optionLeg:e,ratioMode:a}))))}function ContractSelectionFormField(e){let{context:t,defaultPricingSetting:n,disableLegUnselection:r,optionLeg:o,ratioMode:i}=e;return(0,d.tZ)(LegSelectionRow,{canEditRatioQuantity:i===u.fh.Custom,context:t,defaultPricingSetting:n,disableLegUnselection:r,optionLeg:o})}var A=n(93509),F=n(76312),N=n(19019),B=n(49569),j=n(84974),H=n(31504);var U,z=n(10959),W=n(7467),q=n(90731),Y=n(61096);const V=(0,w.B2)({[B.t.option.MarketabilityType.MARKETABILITY_LOW]:{defaultMessage:"Low fill likelihood",id:"MarketabilityLearnMoreModalTitle.Low",status:"legacy"},[B.t.option.MarketabilityType.MARKETABILITY_MEDIUM]:{defaultMessage:"Medium fill likelihood",id:"MarketabilityLearnMoreModalTitle.Medium",status:"legacy"},[B.t.option.MarketabilityType.MARKETABILITY_HIGH]:{defaultMessage:"High fill likelihood",id:"MarketabilityLearnMoreModalTitle.High",status:"legacy"}}),G={[B.t.option.MarketabilityType.MARKETABILITY_LOW]:(0,w.B2)({paragraph1:{defaultMessage:"Our model has estimated that your order has a low likelihood of being filled, based on your limit price. You may consider adjusting the price of your order if you want to increase the likelihood of it being filled.",id:"MarketabilityLearnMoreModalContent.Low.Paragraph1",status:"legacy"}}),[B.t.option.MarketabilityType.MARKETABILITY_MEDIUM]:(0,w.B2)({paragraph1:{defaultMessage:"Our model has estimated that your order has a medium likelihood of being filled, based on your limit price. You may consider adjusting the price of your order if you want to increase the likelihood of it being filled.",id:"MarketabilityLearnMoreModalContent.Medium.Paragraph1",status:"legacy"}}),[B.t.option.MarketabilityType.MARKETABILITY_HIGH]:(0,w.B2)({paragraph1:{defaultMessage:"Our model has estimated that your order has a high likelihood of being filled, based on your limit price.",id:"MarketabilityLearnMoreModalContent.High.Paragraph1",status:"legacy"}})};function MarketabilityLearnMoreModal(e){let{marketability:t,onClose:n}=e;const r=(0,w.og)(),i=(0,z.k6)();return(0,o.useEffect)((()=>{(0,H.MI)(j.YB,{context:{source_screen:{identifier:"OptionOrderForm"}},event_type:B.t.event_logging.UserInteractionEventData.EventType.SCREEN_TRANSITION_APPEAR,screen:{identifier:"OptionOrderMarketabilityBottomSheet"}})}),[]),(0,d.tZ)(W.u,{onClose:n,width:"wide"},(0,d.tZ)(W.u.Header,{title:r.formatMessage(V[t])}),(0,d.tZ)(T.Dy.Text,{element:"p",size:"S"},r.formatMessage(G[t].paragraph1)),U||(U=(0,d.tZ)("br",null)),(0,d.tZ)(T.Dy.Text,{element:"p",size:"S"},r.formatMessage({defaultMessage:"Fill likelihood is calculated based on historical options data drawn from attributes like: bid, ask, order size, last sale price, date, and time. Keep in mind that fill likelihood is only an estimate and may depend on a number of factors not accounted for in our model. Fill likelihood is informational only, and is not a recommendation to buy or sell any security.",id:"MarketabilityLearnMoreModalContent.Paragraph2",status:"legacy"})),(0,d.tZ)("div",{css:(0,d.iv)({marginTop:m.q3,textAlign:"center"},"")},(0,d.tZ)(Y.A,{label:r.formatMessage({defaultMessage:"Learn more about the model",id:"MarketabilityLearnMore.TextButton",status:"legacy"}),onClick:()=>{n(),i.push((0,q.b)("4e20eUXqTG2yaxD2Piro0J","modal"))},type:"button"})))}const K=(0,w.B2)({[B.t.option.MarketabilityType.MARKETABILITY_LOW]:{defaultMessage:"Low fill likelihood",id:"MarketabilityInfoTag.Low",status:"legacy"},[B.t.option.MarketabilityType.MARKETABILITY_MEDIUM]:{defaultMessage:"Medium fill likelihood",id:"MarketabilityInfoTag.Medium",status:"legacy"},[B.t.option.MarketabilityType.MARKETABILITY_HIGH]:{defaultMessage:"High fill likelihood",id:"MarketabilityInfoTag.High",status:"legacy"}});function MarketabilityInfoTag(e){let{context:t,marketability:n,requestId:r}=e;const i=(0,w.og)(),[a,s]=(0,o.useState)(!1);!function useLogMarketabilityComponentAppear(e){let{componentType:t,context:n,marketability:r,requestId:i}=e;const[{refId:a}]=(0,v.G)(n);(0,o.useEffect)((()=>{(0,H.MI)(j.YB,{component:{component_type:t},context:{options_context:{marketability:r,marketability_request_id:i,option_order_ref_id:a}},event_type:B.t.event_logging.UserInteractionEventData.EventType.APPEAR,screen:{name:B.t.event_logging.Screen.Name.OPTION_ORDER_FORM}})}),[t,r,a,i])}({componentType:B.t.event_logging.Component.ComponentType.OPTION_ORDER_MARKETABILITY_TAG,context:t,marketability:n,requestId:r});let l="InfoFilled16";return n===B.t.option.MarketabilityType.MARKETABILITY_MEDIUM?l="Info16":n===B.t.option.MarketabilityType.MARKETABILITY_HIGH&&(l="Checkmark16"),(0,d.tZ)(o.Fragment,null,(0,d.tZ)(N._,{backgroundColor:O.Wt.Bg2,foregroundColor:O.Wt.Fg1,icon:l,onClick:()=>{s(!0)},overrideRootStyles:{marginBottom:18,marginTop:8},text:i.formatMessage(K[n]),type:"custom"}),a&&(0,d.tZ)(MarketabilityLearnMoreModal,{marketability:n,onClose:()=>{s(!1)}}))}const Q=(0,F.I)((e=>{var t;let{account:n,context:r,defaultPricingSetting:i,intendedDirection:a,optionChain:s,optionLegs:l}=e;const[u,p]=(0,c.hW)({account:n,context:r,defaultPricingSetting:i,intendedDirection:a,optionChain:s,optionLegs:l});return(0,o.useMemo)((()=>u?t||(t=(0,d.tZ)(MarketabilityInfoTag,{context:r,marketability:u,requestId:p})):null),[u,p])}),null);function SingleLegMarketabilityInfoTag(e){let{context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}=e;const i=(0,c.L_)({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o});return(0,c.P4)({context:t,defaultPricingSetting:n,optionChain:r,optionLegs:o}),i?(0,d.tZ)(MarketabilityInfoTag,{context:t,marketability:i}):null}function MarketabilityBanner(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}=e;const[{step:s,values:{timeInForce:l,trigger:p}}]=(0,c.Gp)(n);return(0,A.K)()!==S.MarketSession.Reg||p===S.OrderTrigger.Stop||s!==u.hV.Edit||0===a.length?null:1===a.length?(0,d.tZ)(SingleLegMarketabilityInfoTag,{context:n,defaultPricingSetting:r,optionChain:i,optionLegs:a}):l!==S.TimeInForce.GTC&&a.length>1?(0,d.tZ)(Q,{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:i,optionLegs:a}):null}var X=n(25773),J=n(53782),$=n(81092);const ee=["context","defaultPricingSetting","intendedDirection","limitPriceRef","optionChain","optionLegs"];var te={name:"m0jwvv",styles:"width:80px"};function LimitPriceField(e){var t;let{context:n,defaultPricingSetting:r,intendedDirection:i,limitPriceRef:a,optionChain:s,optionLegs:l}=e,u=(0,J.Z)(e,ee);const p=(0,w.og)(),[{step:g,values:m},f]=(0,c.Gp)(n),v=(0,c.tY)({context:n,defaultPricingSetting:r,optionChain:s,optionLegs:l}),h=(0,o.useCallback)((e=>{let{value:t}=e;f({type:_.K.UPDATE_FORM_VALUES,values:{limitPrice:t}})}),[f]),b=(0,c.Ad)({context:n,intendedDirection:i,optionChain:s,optionLegs:l}),C=v?(0,E.T4)(v,{intl:p}):void 0;return(0,d.tZ)("div",{css:te},(0,d.tZ)($.L,(0,X.Z)({innerRef:a,maxDecimalPlaces:2,onChange:h,placeholder:b?"":C,state:(0,y.pY)(g)?"disabled":"default",value:null!==(t=m.limitPrice)&&void 0!==t?t:""},u)))}var ne,re=n(15373),oe=n.n(re),ie=n(42579);function LimitPriceLabel(e){let{context:t,intendedDirection:n,optionChain:r,optionLegs:o}=e;const i=(0,c.xr)(o),a=(0,c.kF)(o),s=(0,c.gm)({context:t,intendedDirection:n,optionChain:r,optionLegs:o}),l=s===ie.J7.Debit?i:oe()(a).times(-1),u=s===ie.J7.Debit?a:oe()(i).times(-1);return(0,d.tZ)("div",null,ne||(ne=(0,d.tZ)("div",null,(0,d.tZ)(w.DH,{defaultMessage:"Limit Price",id:"OptionOrderForm.EditFormFields.LimitPriceLabel",status:"legacy"}))),(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"Bid {signedBid} • Ask {signedAsk}",id:"OptionOrderForm.EditFormFields.SpreadLabel",status:"legacy",values:{signedAsk:(0,d.tZ)(E.tA,{value:String(u)}),signedBid:(0,d.tZ)(E.tA,{value:String(l)})}}))))}const ae=["context"];var se,le={name:"m0jwvv",styles:"width:80px"};function QuantityField(e){let{context:t}=e,n=(0,J.Z)(e,ae);const[{step:r,values:{quantity:i}},a]=(0,c.Gp)(t),s=(0,o.useCallback)((e=>{let{value:t}=e;a({type:_.K.UPDATE_FORM_VALUES,values:{quantity:t}})}),[a]);return(0,d.tZ)("div",{css:le},(0,d.tZ)(R.Y,(0,X.Z)({maxDecimalPlaces:0,min:"1",onChange:s,placeholder:"1",required:!1,state:(0,y.pY)(r)?"disabled":"default",value:null!=i?i:""},n)))}function QuantityLabel(e){let{optionChain:t}=e;return(0,d.tZ)("div",null,se||(se=(0,d.tZ)("div",null,(0,d.tZ)(w.DH,{defaultMessage:"Contracts",id:"OptionOrderForm.EditFormFields.QuantityLabel",status:"legacy"}))),(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"{numShares, number} {numShares, plural,\n            one {Share}\n            other {Shares}\n            } Each",id:"OptionOrderForm.EditFormFields.NumSharesEach",status:"legacy",values:{numShares:t.trade_value_multiplier}}))))}var ce,ue=n(24498);function SelectedAccountRow(e){let{account:t}=e;const n=(0,ue.MS)();return t&&n?(0,d.tZ)(p.p,{field:(0,d.tZ)(w.DH,{defaultMessage:t.label.defaultMessage,id:"OptionOrderForm.FormFields.SelectedAccount",status:"legacy"}),label:ce||(ce=(0,d.tZ)(w.DH,{defaultMessage:"Account",id:"OptionOrderForm.FormFields.SelectedAccountLabel",status:"legacy"}))}):null}const de=["context","defaultPricingSetting","optionChain","optionLegs","stopPriceRef"];var pe={name:"m0jwvv",styles:"width:80px"};function StopPriceField(e){var t;let{context:n,defaultPricingSetting:r,optionChain:i,optionLegs:a,stopPriceRef:s}=e,l=(0,J.Z)(e,de);const u=(0,w.og)(),[{step:p,values:g},m]=(0,c.Gp)(n),f=(0,c.xs)({context:n,defaultPricingSetting:r,optionChain:i,optionLegs:a}),v=(0,o.useCallback)((e=>{let{value:t}=e;m({type:_.K.UPDATE_FORM_VALUES,values:{stopPrice:t}})}),[m]);return(0,d.tZ)("div",{css:pe},(0,d.tZ)($.L,(0,X.Z)({ref:s,maxDecimalPlaces:2,onChange:v,placeholder:f?(0,E.T4)(f,{intl:u}):void 0,state:(0,y.pY)(p)?"disabled":"default",value:null!==(t=g.stopPrice)&&void 0!==t?t:""},l)))}var ge=n(80964);const me={[S.TimeInForce.GFD]:(0,w.B2)({caption:{defaultMessage:"If your order doesn't execute, it'll expire at market close.",id:"OptionOrderForm.TimeInForceField.GFD.Caption",status:"legacy"},label:{defaultMessage:"Good for Day",id:"OptionOrderForm.TimeInForceField.GFD.Label",status:"legacy"}}),[S.TimeInForce.GTC]:(0,w.B2)({caption:{defaultMessage:"If your order doesn't execute, it'll expire in 90 days.",id:"OptionOrderForm.TimeInForceField.GTC.Caption",status:"legacy"},label:{defaultMessage:"Good till Canceled",id:"OptionOrderForm.TimeInForceField.GTC.Label",status:"legacy"}})};function TimeInForceField(e){let{context:t}=e;const n=(0,w.og)(),[{step:r,values:{timeInForce:i}},a]=(0,c.Gp)(t),s=(0,o.useCallback)((e=>{a({type:_.K.UPDATE_FORM_VALUES,values:{timeInForce:e.value}})}),[a]),l=[S.TimeInForce.GFD,S.TimeInForce.GTC].map((e=>({caption:n.formatMessage(me[e].caption),label:n.formatMessage(me[e].label),value:e})));return(0,d.tZ)(ge.S,{"aria-label":"Expires",menuWidth:m.Ii,onChange:s,options:l,overrideRootStyles:{width:136},state:(0,y.pY)(r)?"disabled":"default",value:i})}var ye,fe,ve;function EditFormFields(e){let{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,isNewLayout:i,limitPriceRef:a,optionChain:s,optionLegs:l,stopPriceRef:u}=e;const[{step:g,values:{trigger:m}}]=(0,c.Gp)(n);return(0,d.tZ)("div",null,(0,y.pY)(g)&&(0,d.tZ)(SelectedAccountRow,{account:t}),(0,d.tZ)(p.p,{field:(0,d.tZ)(QuantityField,{context:n,id:ve.Quantity}),htmlFor:ve.Quantity,label:(0,d.tZ)(QuantityLabel,{optionChain:s})}),(0,d.tZ)(p.p,{field:(0,d.tZ)(LimitPriceField,{context:n,defaultPricingSetting:r,id:ve.LimitPrice,intendedDirection:o,limitPriceRef:a,optionChain:s,optionLegs:l}),htmlFor:ve.LimitPrice,label:(0,d.tZ)(LimitPriceLabel,{context:n,intendedDirection:o,optionChain:s,optionLegs:l}),multiLine:i}),(0,d.tZ)(MarketabilityBanner,{account:t,context:n,defaultPricingSetting:r,intendedDirection:o,optionChain:s,optionLegs:l}),m===S.OrderTrigger.Stop&&(0,d.tZ)(p.p,{field:(0,d.tZ)(StopPriceField,{context:n,defaultPricingSetting:r,id:ve.StopPrice,optionChain:s,optionLegs:l,stopPriceRef:u}),htmlFor:ve.StopPrice,label:ye||(ye=(0,d.tZ)(w.DH,{defaultMessage:"Stop Price",id:"OptionOrderForm.FormFields.StopPrice",status:"legacy"}))}),(0,d.tZ)(p.p,{field:(0,d.tZ)(TimeInForceField,{context:n}),label:fe||(fe=(0,d.tZ)(w.DH,{defaultMessage:"Expires",id:"OptionOrderForm.FormFields.TimeInForce",status:"legacy"}))}))}function FormFields(e){let{account:t,context:n,defaultPricingSetting:r,disableLegUnselection:o,intendedDirection:i,isNewLayout:a,limitPriceRef:s,optionChain:l,optionLegs:c,stopPriceRef:p}=e;const[{step:g}]=(0,v.G)(n);return g===u.hV.ContractSelection?(0,d.tZ)(ContractSelectionFormFields,{context:n,defaultPricingSetting:r,disableLegUnselection:o,optionLegs:c}):(0,d.tZ)(EditFormFields,{account:t,context:n,defaultPricingSetting:r,intendedDirection:i,isNewLayout:a,limitPriceRef:s,optionChain:l,optionLegs:c,stopPriceRef:p})}!function(e){e.LimitPrice="OptionOrderForm-LimitPrice-FormField",e.StopPrice="OptionOrderForm-StopPrice-FormField",e.Quantity="OptionOrderForm-Quantity-FormField"}(ve||(ve={}));var he=n(6926),_e=n(79161),be=n(88650),Ce=n(76365),Oe=n(71301),Se=n(37249);const Ee=207,Pe=141,Ze=20;function adjustLabelPosition(e,t,n){const r=(null!=n?n:0)/2;return t<r-Ze||t<1?r-Ze:t>e-r?e-r:t}function ActiveChartSlider(e){var t,n,r,i;let{chartWidth:a,label:s,selectedPrice:l,x:c}=e;const u=(0,o.useRef)(null),p=(0,o.useRef)(null),g=adjustLabelPosition(a,c,"function"==typeof(null===(t=u.current)||void 0===t?void 0:t.getBBox)?null===(n=u.current)||void 0===n?void 0:n.getBBox().width:0),m=adjustLabelPosition(a,c,"function"==typeof(null===(r=p.current)||void 0===r?void 0:r.getBBox)?null===(i=p.current)||void 0===i?void 0:i.getBBox().width:0);return(0,d.tZ)("g",null,(0,d.tZ)("line",{opacity:1,stroke:O.ZV.neutral.fg1,strokeWidth:1,x1:c,x2:c,y1:0,y2:Pe}),(0,d.tZ)("text",{ref:u,alignmentBaseline:"baseline",fill:O.ZV.neutral.fg1,textAnchor:"middle",x:g,y:-36},s),(0,d.tZ)("text",{ref:p,alignmentBaseline:"baseline",fill:O.ZV.neutral.fg1,fontWeight:"bold",textAnchor:"middle",x:m,y:-16},l))}function ChartPoint(e){let t,{chartWidth:n,isActive:r=!1,x:o,y:i,y0:a}=e;return o<0||o>n||i<0||i>Pe?null:(t=i>a?O.ZV.semantic.negative.base:i<a?O.ZV.semantic.positive.base:O.ZV.neutral.fg1,(0,d.tZ)("circle",{cx:o,cy:i,fill:t,r:r?4:3}))}var De,Te,we;function ChartYAxis(e){let{profitDownRect:t,profitUpRect:n}=e;return(0,d.tZ)("div",{css:(0,d.iv)({lineHeight:"".concat(20,"px"),position:"relative",width:"".concat(8,"px")},"")},n&&(0,d.tZ)("div",{css:(0,d.iv)({position:"absolute",top:"\n              calc(".concat((Number(n.height)/2).toFixed(2),"% - 12px)\n            ")},"")},De||(De=(0,d.tZ)(T.Dy.Text,{size:"S"},"+"))),n&&t&&(0,d.tZ)("div",{css:(0,d.iv)({position:"absolute",top:"\n              calc(".concat(n.height,"% - 12px)\n            ")},"")},Te||(Te=(0,d.tZ)(T.Dy.Text,{size:"S"},"0"))),t&&(0,d.tZ)("div",{css:(0,d.iv)({position:"absolute",top:"\n              calc(".concat((Number(t.y)+Number(t.height)/2).toFixed(2),"% - 12px)\n            ")},"")},we||(we=(0,d.tZ)(T.Dy.Text,{size:"S"},"-"))))}function InactiveChartSlider(e){let{x:t}=e;return(0,d.tZ)("g",null,(0,d.tZ)("line",{opacity:.2,stroke:O.ZV.neutral.fg1,strokeWidth:1,x1:t,x2:t,y1:0,y2:Pe}))}function ProfitLossShadedArea(e){let{areas:t,scaleX:n,scaleY:r}=e;return(0,d.tZ)(o.Fragment,null,t.map((e=>function convertAreaIntoSvgCoordinates(e){return e.map((e=>e.points.map((e=>({x:Number(e.underlying_price.amount),y:Number(e.profit_or_loss.amount)}))).map((e=>[n(e.x),r(e.y)].join(","))).join(" ")))}(e).map(((e,t)=>(0,d.tZ)("polygon",{key:"positive-area-".concat(t),fill:"white",points:e}))))))}function ProfitLossSparklines(e){let{lineFunction:t,sparklines:n}=e;return(0,d.tZ)(o.Fragment,null,n.map(((e,n)=>{var r;return(0,d.tZ)("path",{key:"sparkline-".concat(n),d:null!==(r=t(e))&&void 0!==r?r:void 0,stroke:"white",strokeWidth:1.5})})))}function useScalingFunction(e){let{domainEnd:t,domainStart:n,rangeEnd:r,rangeStart:i,scaleFunction:a}=e;return(0,o.useMemo)((()=>a().domain([n,t]).range([i,r])),[t,n,r,i,a])}var Ie=n(60727);let ke;var xe;let Re;!function(e){e.Breakeven="Breakeven",e.MaxProfit="MaxProfit",e.MaxLoss="MaxLoss",e.StrikePrice="StrikePrice",e.CurrentPrice="CurrentPrice"}(ke||(ke={})),function(e){e.linear="linear"}(xe||(xe={})),function(e){e.PositiveInfinity="positive_infinity",e.NegativeInfinity="negative_infinity",e.Finite="finite",e.Unavailable="unavailable"}(Re||(Re={}));var Me,Le;var Ae={name:"bjn8wh",styles:"position:relative"},Fe={name:"1d3w5wq",styles:"width:100%"};function OptionsProfitLossChartImplementation(e){let{isStale:t,optionLegs:n,optionProfitAndLossChart:r,selectedPrice:i,setPriceReturnLabels:a,underlyingPrice:s,underlyingSymbol:c,width:u=Ee}=e;const{limit_at_infinity:p,limit_at_zero:g,max_x:y,max_y:f,min_x:v,min_y:_,negative_areas:b,negative_sparklines:C,positive_areas:S,positive_sparklines:E,prices_of_interest:P}=r,Z=E.map((e=>e.points)),D=C.map((e=>e.points)),T=Z.concat(D),I=T.reduce(((e,t)=>e.concat(t)),[]).sort(((e,t)=>Number(e.underlying_price.amount)-Number(t.underlying_price.amount))).filter(((e,t,n)=>t===n.findIndex((t=>t.underlying_price.amount===e.underlying_price.amount)))),k=(0,w.og)(),x=n.map((e=>({expirationDate:e.optionInstrument.expiration_date,quantity:e.quantity,side:e.side,strikePrice:Number(e.optionInstrument.strike_price),type:e.optionInstrument.type}))),R=(0,h.D)(x),[M,L]=o.useState(void 0),A=o.useRef(null),F=o.useRef(!1),N=O.ZV.semantic.positive.base,B=O.ZV.semantic.negative.base,H=O.ZV.semantic.positive.light,U=O.ZV.semantic.negative.light,z=function useProfitLossFunction(e){return(0,o.useMemo)((()=>t=>{var n,r,o,i,a,s;if(0===e.length)return 0;if(t<=Number(e[0].underlying_price.amount))return Number(e[0].profit_or_loss.amount);if(t>=Number(e[e.length-1].underlying_price.amount))return Number(e[e.length-1].profit_or_loss.amount);let l,c;for(let n=0;n<e.length;n+=1)if(t>Number(e[n].underlying_price.amount)&&t<Number(e[n+1].underlying_price.amount)){l=e[n],c=e[n+1];break}return l&&c?Number(null===(n=l)||void 0===n?void 0:n.profit_or_loss.amount)+(t-Number(null===(r=l)||void 0===r?void 0:r.underlying_price.amount))*(Number(null===(o=c)||void 0===o?void 0:o.profit_or_loss.amount)-Number(null===(i=l)||void 0===i?void 0:i.profit_or_loss.amount))/(Number(null===(a=c)||void 0===a?void 0:a.underlying_price.amount)-Number(null===(s=l)||void 0===s?void 0:s.underlying_price.amount)):0}),[e])}(I),{profitDownRect:W,profitUpRect:q}=o.useMemo((()=>function retrieveProfitDirectionRectangles(e,t){if(t<e)return{profitDownRect:void 0,profitUpRect:void 0};if(e>=0)return{profitDownRect:void 0,profitUpRect:{height:"100",width:"100",x:"0",y:"0"}};if(t<=0)return{profitDownRect:{height:"100",width:"100",x:"0",y:"0"},profitUpRect:void 0};const n=(t-0)/(t-e)*100;return{profitDownRect:{height:(100-n).toFixed(2),width:"100",x:"0",y:n.toFixed(2)},profitUpRect:{height:n.toFixed(2),width:"100",x:"0",y:"0"}}}(Number(_.amount),Number(f.amount))),[_,f]),Y={profit_or_loss:Se.WI.fromRawUSD(z(s)),type:ke.CurrentPrice,underlying_price:Se.WI.fromRawUSD(s)},V=useScalingFunction({domainEnd:Number(y.amount),domainStart:Number(v.amount),rangeEnd:u-1,rangeStart:0,scaleFunction:be.scaleLinear}),G=useScalingFunction({domainEnd:Number(f.amount),domainStart:Number(_.amount),rangeEnd:0,rangeStart:140,scaleFunction:be.scaleLinear}),K=(0,Ce.line)().x((e=>V(Number(e.underlying_price.amount)))).y((e=>G(Number(e.profit_or_loss.amount))));function findClosestPointToDataX(e){var t;if(!V)return;const n=P.concat([Y]).map((t=>{const n=V(Number(t.underlying_price.amount)),r=V(e);return{distance:Math.abs(n-r),point:t}})),r=Math.min(...n.map((e=>e.distance)));return r<=4?null===(t=n.find((e=>e.distance===r)))||void 0===t?void 0:t.point:void 0}function convertProfitAndLossLimit(e){var t;return e.type===Re.PositiveInfinity?1/0:e.type===Re.NegativeInfinity?-1/0:Number(null===(t=e.profit_or_loss)||void 0===t?void 0:t.amount)}o.useEffect((()=>{JSON.stringify(x)!==JSON.stringify(R)&&(F.current=!1)}),[x,R]),function useDefaultSliderPosition(e){let{profitLossFunction:t,selectedDataX:n,setPriceReturnLabels:r,underlyingPrice:i}=e;o.useEffect((()=>{n||r({price:i,profitLossReturn:t(i)})}),[t,n,i,r])}({profitLossFunction:z,selectedDataX:M,setPriceReturnLabels:a,underlyingPrice:s});const Q=M?findClosestPointToDataX(M):void 0,X=M?function clampedDataXToBounds(e){return e<Number(v.amount)?Number(v.amount):e>Number(y.amount)?Number(y.amount):e}(M):void 0,J=Q?Number(Q.underlying_price.amount):X,$=null!=J?J:s;return(0,d.tZ)(Oe.u2,{loggingData:{screen_name:"options_pl_chart"},refId:JSON.stringify(x)},(0,d.tZ)("div",{css:(0,d.iv)({borderBottom:"1px dotted ".concat(O.ZV.neutral.fg1),borderTop:"1px dotted ".concat(O.ZV.neutral.fg1),boxSizing:"content-box",columnGap:m.q3,display:"grid",filter:t?"grayscale(1)":void 0,gridTemplateColumns:"".concat(8,"px 1fr"),height:"".concat(Pe,"px")},"")},(0,d.tZ)(ChartYAxis,{profitDownRect:W,profitUpRect:q}),(0,d.tZ)("div",{css:Ae,"data-testid":l.c.Options.ProfitLossChart,onMouseLeave:function onMouseLeave(){L(void 0)},onMouseMove:function onMouseMove(e){var t;if(!z||void 0===V||void 0===G)return;const n=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect();if(!n)return;if(F.current||(!function logPLChartInteraction(){(0,Ie.TX)(j.YB,{button_group_title:"options_pl_chart",button_title:"first_scrub"})}(),F.current=!0),e.clientX>n.x-Ze&&e.clientX<n.x)return void a({price:-1/0,profitLossReturn:convertProfitAndLossLimit(g)});if(e.clientX>n.x+n.width&&e.clientX<n.x+n.width+Ze)return void a({price:1/0,profitLossReturn:convertProfitAndLossLimit(p)});const r=(0,be.scaleLinear)().domain([n.x,n.x+n.width]).range([0,u-1])(e.clientX),o=V.invert(r),i=findClosestPointToDataX(o),s=i?Number(i.underlying_price.amount):o,l=i?Number(i.profit_or_loss.amount):z(s);L(s),a({price:s,profitLossReturn:l})}},(0,d.tZ)("div",{css:(0,d.iv)({height:"100%",left:-20,position:"absolute",width:Ze},"")}),(0,d.tZ)("div",{css:(0,d.iv)({height:"100%",position:"absolute",right:-20,width:Ze},"")}),(0,d.tZ)("svg",{ref:A,clipPath:"url(#boundingRectangleClipPath)",css:Fe,viewBox:"0 0 ".concat(u," ").concat(Pe)},(0,d.tZ)("clipPath",{id:"boundingRectangleClipPath"},(0,d.tZ)("rect",{height:197,width:u+Ze+8,x:-24,y:-56})),(0,d.tZ)("mask",{id:"areaMask"},Me||(Me=(0,d.tZ)("rect",{fill:"black",height:"100%",width:"100%",x:"0",y:"0"})),(0,d.tZ)(ProfitLossShadedArea,{areas:S,scaleX:V,scaleY:G}),(0,d.tZ)(ProfitLossShadedArea,{areas:b,scaleX:V,scaleY:G})),(0,d.tZ)("mask",{id:"lineMask"},Le||(Le=(0,d.tZ)("rect",{fill:"black",height:"100%",width:"100%",x:"0",y:"0"})),(0,d.tZ)(ProfitLossSparklines,{lineFunction:K,sparklines:T})),(0,d.tZ)("g",null,q&&(0,d.tZ)("rect",{fill:H,height:"".concat(q.height,"%"),mask:"url(#areaMask)",width:"".concat(q.width,"%"),x:"".concat(q.x,"%"),y:"".concat(q.y,"%")}),W&&(0,d.tZ)("rect",{fill:U,height:"".concat(W.height,"%"),mask:"url(#areaMask)",width:"".concat(W.width,"%"),x:"".concat(W.x,"%"),y:"".concat(W.y,"%")})),(0,d.tZ)("g",null,q&&(0,d.tZ)("rect",{fill:N,height:"".concat(q.height,"%"),mask:"url(#lineMask)",width:"".concat(q.width,"%"),x:"".concat(q.x,"%"),y:"".concat(q.y,"%")}),W&&(0,d.tZ)("rect",{fill:B,height:"".concat(W.height,"%"),mask:"url(#lineMask)",width:"".concat(W.width,"%"),x:"".concat(W.x,"%"),y:"".concat(W.y,"%")})),q&&W&&(0,d.tZ)("rect",{fill:O.ZV.neutral.fg1,height:1,width:"100%",x:"".concat(W.x,"%"),y:"".concat(W.y,"%")}),(0,d.tZ)("g",null,P.filter((e=>e!==Q)).map(((e,t)=>(0,d.tZ)(ChartPoint,{key:"point-".concat(t),chartWidth:u,x:V(Number(e.underlying_price.amount)),y:G(Number(e.profit_or_loss.amount)),y0:G(0)})))),$!==s&&(0,d.tZ)(InactiveChartSlider,{x:V(s)}),$&&(0,d.tZ)("g",null,(0,d.tZ)(ActiveChartSlider,{chartWidth:u,label:k.formatMessage({defaultMessage:"".concat(c," Price ").concat($===s?"Now":"at Exp"),id:"OptionsProfitLossChart.Slider.Label.SymbolPrice",status:"legacy"}),selectedPrice:i,x:V($)})),Q&&Q.type!==ke.CurrentPrice&&(0,d.tZ)(ChartPoint,{chartWidth:u,isActive:!0,x:V(Number(Q.underlying_price.amount)),y:G(Number(Q.profit_or_loss.amount)),y0:G(0)})))))}const Ne=o.memo(OptionsProfitLossChartImplementation);var Be,je,He=n(18535);var Ue={name:"1dl6exc",styles:"display:grid;justify-items:center;padding:43px 0 24px 0;row-gap:27px;text-align:center"};function ChartError(){return(0,d.tZ)("div",{css:Ue},Be||(Be=(0,d.tZ)(He.S,{isDisabled:!0,pictogram:"Warning"})),(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},je||(je=(0,d.tZ)(w.DH,{defaultMessage:"Oops, it looks like something went wrong",id:"OptionOrderForm.ProfitLossChart.Error",status:"legacy"}))))}var ze,We=n(51356);var qe={name:"122p604",styles:"display:grid;justify-items:center;padding:43px 0 24px 0;row-gap:27px"};function ChartLoader(){return(0,d.tZ)("div",{css:qe},(0,d.tZ)(We.q,{color:O.Wt.Fg1}),(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},ze||(ze=(0,d.tZ)(w.DH,{defaultMessage:"Loading the P/L chart",id:"OptionOrderForm.ProfitLossChart.Loader",status:"legacy"}))))}function ChartLoadingOverlay(){return(0,d.tZ)("div",{css:(0,d.iv)({alignItems:"center",background:O.ZV.neutral.bg1,display:"flex",height:"100%",justifyContent:"center",left:0,opacity:.8,position:"absolute",top:0,width:"100%"},"")},(0,d.tZ)(We.q,{color:O.Wt.Fg1}))}function ChartStaleOverlay(){return(0,d.tZ)("div",{css:(0,d.iv)({alignItems:"center",background:O.ZV.neutral.bg1,display:"flex",height:"100%",justifyContent:"center",left:0,opacity:.8,position:"absolute",top:0,width:"100%"},"")})}var Ye=n(85545),Ve=n(41153),Ge=n(95662);const Ke=(0,F.I)((function _DisclosureTooltip(e){let{triggerRef:t}=e;const n=function usePLChartDisclosure(){var e;return null===(e=(0,Ge.t)("disclosure","5y689xUwiho6zXxWidXY8J").result)||void 0===e?void 0:e.content}();return(0,d.tZ)(Ve.t,{dangerouslyUseLegacyZIndex:!0,placement:"bottom-right-corner",trigger:"click",triggerRef:t},(0,d.tZ)("div",{css:(0,d.iv)({display:"flex",justifyContent:"center",width:468})},n&&(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,d.tZ)(Ye.U,{source:n}))))}));function DisclosureSubtitle(){const e=o.createRef(),t=(0,w.og)();return(0,d.tZ)("div",{css:(0,d.iv)({display:"flex",marginTop:2*m.q3,textAlign:"center"},"")},(0,d.tZ)(T.Dy.Text,{color:O.Wt.Fg2,size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"Learn about the P/L chart, its risks and limitations. {fullDisclosure}",id:"OptionOrderForm.ProfitLossChart.Disclosure",status:"legacy",values:{fullDisclosure:(0,d.tZ)("span",{ref:e},(0,d.tZ)(Y.A,{isLegacyStyle:!0,label:t.formatMessage({defaultMessage:"Full Disclosure",id:"OptionOrderForm.ProfitLossChart.Disclosure.FullDisclosureButton",status:"legacy"}),type:"button"}))}})),(0,d.tZ)(Ke,{triggerRef:e}))}var Qe,Xe,Je=n(89521),$e=n(66808),et=n(13696);function AxisDescriptionSection(){return(0,d.tZ)(o.Fragment,null,(0,d.tZ)("div",{css:(0,d.iv)({display:"grid",gap:m.q3},"")},Qe||(Qe=(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"The horizontal X-axis represents the stock price at expiration date.",id:"OptionsProfitLossChartTooltip.XAxis",status:"legacy"})))),Xe||(Xe=(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"The vertical Y-axis represents the potential profit (+) and loss (-) range. Anything above zero represents theoretical profit while the area below represents theoretical loss.",id:"OptionsProfitLossChartTooltip.YAxis",status:"legacy"}))))))}var tt=n(97224);function Divider(){const e=(0,tt.uI)();return(0,d.tZ)("div",{css:(0,d.iv)({borderColor:e.bg3,borderTopStyle:"solid",borderTopWidth:1,height:1},"")})}var nt=n(93243),rt=n(6018);function ExampleChartSection(){const e=(0,rt.V)(),[t,r]=o.useState(void 0);return o.useEffect((()=>{!async function lazyLoadLottieJson(){r(e?await n.e(60711).then(n.t.bind(n,90038,19)):await n.e(23192).then(n.t.bind(n,75646,19)))}()}),[e]),t?(0,d.tZ)(nt.Z,{options:{animationData:t},style:{height:"inherit",width:"100%"}}):null}var ot,it,at,st,lt,ct,ut={name:"1vr7vmn",styles:"align-items:center;display:flex"};function Definition(e){let{descriptionMessages:t,title:n,token:r}=e;return(0,d.tZ)("div",null,(0,d.tZ)("div",{css:ut},(0,d.tZ)(C.sg,{color:r,type:"Dot16"}),(0,d.tZ)(T.Dy.Text,{isBold:!0,size:"S"},n)),t.map(((e,t)=>(0,d.tZ)("p",{key:"pl-tooltip-".concat(t)},(0,d.tZ)(T.Dy.Text,{size:"S"},(0,d.tZ)(w.DH,e))))))}function OutputDefinitionsSection(){return(0,d.tZ)("div",{css:(0,d.iv)({display:"grid",gap:2*m.q3},"")},(0,d.tZ)(Definition,{descriptionMessages:[{defaultMessage:"This is the maximum potential profit of the selected options strategy at expiration.",id:"OptionsProfitLossChartTooltip.MaxProfit.Description",status:"legacy"}],title:ot||(ot=(0,d.tZ)(w.DH,{defaultMessage:"(Theoretical) Max Profit",id:"OptionsProfitLossChartTooltip.MaxProfit.Title",status:"legacy"})),token:O.E1.Positive}),(0,d.tZ)(Definition,{descriptionMessages:[{defaultMessage:"Assuming the position is held to expiration, this is the price where the underlying security must be above or below in order to be profitable at expiration.",id:"OptionsProfitLossChartTooltip.Breakeven.Description1",status:"legacy"},{defaultMessage:"This calculation takes into account any premium paid or collected in order to establish the position.",id:"OptionsProfitLossChartTooltip.Breakeven.Description2",status:"legacy"}],title:it||(it=(0,d.tZ)(w.DH,{defaultMessage:"Breakeven",id:"OptionsProfitLossChartTooltip.Breakeven.Title",status:"legacy"})),token:O.Wt.Fg1}),(0,d.tZ)(Definition,{descriptionMessages:[{defaultMessage:"This is the maximum potential loss of the selected options strategy at expiration.",id:"OptionsProfitLossChartTooltip.MaxLoss.Description1",status:"legacy"},{defaultMessage:"If you’re looking for a bit more info on different options strategies using the P/L chart, be sure to check out our {helpCenterLink}.",id:"OptionsProfitLossChartTooltip.MaxLoss.Description2",status:"legacy",values:{helpCenterLink:at||(at=(0,d.tZ)(Y.A,{href:"https://robinhood.com/support/articles/profit-loss-chart",isLegacyStyle:!0,label:"Help Center article",type:"anchor"}))}}],title:st||(st=(0,d.tZ)(w.DH,{defaultMessage:"(Theoretical) Max Loss",id:"OptionsProfitLossChartTooltip.MaxLoss.Title",status:"legacy"})),token:O.E1.Negative}))}var dt,pt,gt,mt,yt,ft={name:"1anvgbp",styles:"display:grid;gap:4px"};function TitleAndDescriptionSection(){return(0,d.tZ)("div",{css:ft},lt||(lt=(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{isBold:!0,size:"M"},(0,d.tZ)(w.DH,{defaultMessage:"P/L chart",id:"OptionsProfitLossChartTooltip.Title",status:"legacy"})))),ct||(ct=(0,d.tZ)("div",null,(0,d.tZ)(T.Dy.Text,{size:"S"},(0,d.tZ)(w.DH,{defaultMessage:"The P/L (Profit & Loss) chart visually represents an option strategy’s theoretical profits or losses at expiration.",id:"OptionsProfitLossChartTooltip.Description",status:"legacy"})))))}var vt;!function(e){e.XYAxis="XY Axis",e.Outputs="Outputs"}(vt||(vt={}));const ht=(0,w.B2)({[vt.XYAxis]:{defaultMessage:"XY Axis",id:"OptionsProfitLossChartTooltip.XYAxis.Label",status:"legacy"},[vt.Outputs]:{defaultMessage:"Outputs",id:"OptionsProfitLossChartTooltip.Outputs.Label",status:"legacy"}});function OptionsProfitLossChartTooltip(){const e=(0,w.og)(),[t,n]=o.useState(vt.XYAxis);return(0,d.tZ)(Oe.u2,{loggingData:{screen_depth:0,screen_description:"",screen_name:"options_pl_learn_more"}},(0,d.tZ)("div",{css:(0,d.iv)({display:"grid",gap:2*m.q3,padding:2*m.q3,width:m.Ii+4*m.q3},"")},dt||(dt=(0,d.tZ)(TitleAndDescriptionSection,null)),pt||(pt=(0,d.tZ)(Divider,null)),gt||(gt=(0,d.tZ)(ExampleChartSection,null)),(0,d.tZ)("div",{css:(0,d.iv)({columnGap:m.hc,display:"grid",gridAutoFlow:"column"},"")},Object.values(vt).map((r=>(0,d.tZ)(et.S,{key:r,label:e.formatMessage(ht[r]),onClick:()=>n(r),overrideRootStyles:{justifyContent:"center",width:"100%"},state:t===r?"active":"default",type:"button"})))),(0,d.tZ)("div",{css:(0,d.iv)({paddingBottom:2*m.q3},"")},t===vt.XYAxis&&(mt||(mt=(0,d.tZ)(AxisDescriptionSection,null))),t===vt.Outputs&&(yt||(yt=(0,d.tZ)(OutputDefinitionsSection,null))))))}var _t,bt;var Ct={name:"1vr7vmn",styles:"align-items:center;display:flex"};function Header(e){let{price:t,profitLossReturn:n}=e;const r=(0,w.og)();let i=O.Wt.Fg1;n&&(n<0&&(i=O.E1.Negative),n>0&&(i=O.E1.Positive));const a=n===1/0||n===-1/0?r.formatMessage({defaultMessage:"Unlimited",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.Infinite.Label",status:"legacy"}):(0,Je.T4)(n,{intl:r,maximumFractionDigits:2});return(0,d.tZ)(o.Fragment,null,(0,d.tZ)("div",{css:Ct},_t||(_t=(0,d.tZ)(w.DH,{defaultMessage:"Expected Profit and Loss",id:"ProfitLossChart.Title",status:"legacy"})),(0,d.tZ)($e.w,{content:bt||(bt=(0,d.tZ)(OptionsProfitLossChartTooltip,null)),iconColorToken:O.Wt.Fg1,placement:"left-top-corner",popoverOverrideStyles:{height:400,overflow:"auto",padding:0},trigger:"click"})),(0,d.tZ)(T.Dy.Text,{color:i,isBold:!0,size:"S"},t!==1/0&&t!==-1/0&&n&&n>0?"+".concat(a):a))}var Ot=n(66726),St=n.n(Ot),Et=n(21881),Pt=n(15138);var Zt=n(48406),Dt=n(34026);let Tt;!function(e){e[e.Initial=0]="Initial",e[e.InitialLoading=1]="InitialLoading",e[e.LoadingOverlay=2]="LoadingOverlay",e[e.PLChartShown=3]="PLChartShown",e[e.PLChartHidden=4]="PLChartHidden",e[e.Error=5]="Error",e[e.StaleData=6]="StaleData"}(Tt||(Tt={}));var wt={name:"1wwsiz9",styles:"align-items:center;display:flex;height:fit-content"},It={name:"wqnxfv",styles:"display:flex;flex-direction:column;justify-self:end;white-space:nowrap"};function InfoLabel(e){let{indicatorToken:t,label:n,priceLabels:r}=e;return(0,d.tZ)("div",{css:(0,d.iv)({":last-child":{marginBottom:0},alignItems:"flexStart",columnGap:m.hc,display:"grid",gridTemplateColumns:"3fr 1fr",marginBottom:m.q3},"")},(0,d.tZ)("div",{css:wt},(0,d.tZ)(C.sg,{color:t,type:"Dot16"}),(0,d.tZ)(T.Dy.Text,{size:"S"},n)),(0,d.tZ)("div",{css:It},(0,d.tZ)(T.Dy.Text,{size:"S"},r.join("/"))))}var kt,xt,Rt,Mt,Lt,At=n(34051);function ProfitLossChart(e){var t,n,r,i,a;let{context:s,defaultPricingSetting:l,intendedDirection:u,optionChain:p,optionLegs:g,underlyingPrice:y,underlyingSymbol:f}=e;const v=(0,w.og)(),[{price:_,profitLossReturn:b},C]=o.useState({price:void 0,profitLossReturn:void 0}),S=o.useMemo((()=>function convertOptionLegsToProfitLossChartLegs(e,t){return(0,At.List)(e.map((e=>{let{optionInstrument:n,optionQuote:r,ratioQuantity:o,side:i}=e;return r?{optionInstrument:n,premium:r.getDefaultPrice({defaultPricingSetting:t,side:i}),quantity:o,side:i}:null})).filter((e=>null!==e)))}(g,l)),[l,g]),P=function getLegsParamString(e){return null!=e&&e.size?JSON.stringify(e.map((e=>({option_id:e.optionInstrument.id,ratio_quantity:e.quantity,side:e.side}))).toJS()):""}(S),Z=(0,c.Gm)(s),D=(0,c.tY)({context:s,defaultPricingSetting:l,optionChain:p,optionLegs:g}),T=(0,c.gm)({context:s,intendedDirection:u,optionChain:p,optionLegs:g}),[{values:{limitPrice:I}}]=(0,c.Gp)(s),k=(0,c.I0)(g),x=!(null===(t=k.result)||void 0===t||!t.closing_strategy),{chartPayload:R,hasPLChartError:M,isPLChartLoading:L,isRequestFromUserAction:A}=function useFetchProfitLossChart(e){let{direction:t,optionLegsParams:n,orderPrice:r,orderQuantity:i,shouldFetch:a=!0,underlyingPrice:s,userInputOrderPrice:l}=e;const c=o.useRef(void 0),[u,d]=o.useState(!1),[p,g]=o.useState(!1),[m,y]=o.useState(!1),[f,v]=o.useState(void 0),h=o.useCallback(St()((async function fetchChart(e,t){y(!0),g(!1),t&&(t.abort(),c.current=void 0);try{c.current=Et.Qh.get("/options/profit_and_loss_chart/").query({legs:e.optionLegsParams,order_price:Se.WI.toSerializedString(Se.WI.fromRawUSD(e.direction===Pt.J7.Debit?e.orderPrice:-e.orderPrice)),quantity:e.orderQuantity,underlying_price:Se.WI.toSerializedString(Se.WI.fromRawUSD(e.underlyingPrice))});const t=(await c.current).body;v(t),d(!1)}catch(e){g(!0)}finally{y(!1),c.current=void 0}}),ie.Pp),[]);return o.useEffect((()=>{a?h({direction:t,optionLegsParams:n,orderPrice:r,orderQuantity:i,underlyingPrice:s},c.current):c.current&&(c.current.abort(),c.current=void 0)}),[h,t,n,r,i,a,s,l]),o.useEffect((()=>{d(!0)}),[n,l,i]),o.useEffect((()=>()=>{c.current&&(c.current.abort(),c.current=void 0)}),[]),{chartPayload:f,hasPLChartError:p,isPLChartLoading:m,isRequestFromUserAction:u}}({direction:T,optionLegsParams:P,orderPrice:D,orderQuantity:Z,shouldFetch:!!k.result&&""!==P&&!x,underlyingPrice:y,userInputOrderPrice:I}),F=!!k.loading||L,N=M||!!k.error,j=function useProfitLossChartDisplayState(e){let{chartPayload:t,hasError:n,isLoading:r,isRequestFromUserAction:i,shouldHidePLChart:a}=e;const[s,l]=(0,o.useState)(Tt.Initial);return s===Tt.Initial&&(r?l(Tt.InitialLoading):a&&l(Tt.PLChartHidden)),s===Tt.InitialLoading&&(a?l(Tt.PLChartHidden):n?l(Tt.Error):t&&!r&&l(Tt.PLChartShown)),s===Tt.PLChartHidden&&r&&!a&&l(Tt.InitialLoading),s===Tt.PLChartShown&&(r&&i?l(Tt.LoadingOverlay):a?l(Tt.PLChartHidden):n&&!i&&l(Tt.StaleData)),s===Tt.LoadingOverlay&&(a?l(Tt.PLChartHidden):n&&i?l(Tt.Error):n&&!i?l(Tt.StaleData):t&&!r&&l(Tt.PLChartShown)),s===Tt.Error&&(r&&!n?l(Tt.InitialLoading):a&&l(Tt.PLChartHidden)),s===Tt.StaleData&&(r&&!n?l(Tt.LoadingOverlay):a&&l(Tt.PLChartHidden)),s}({chartPayload:R,hasError:N,isLoading:F,isRequestFromUserAction:A,shouldHidePLChart:x}),H=j===Tt.StaleData;!function usePLChartPerformanceMetrics(e,t){const n=(0,o.useRef)(!1),r=(0,h.D)(e);(0,o.useEffect)((()=>{Dt.S.mark(Zt.w.OptionPLChartRenderingStart)}),[]),(0,o.useEffect)((()=>{r!==Tt.InitialLoading||e!==Tt.PLChartShown||n.current||(n.current=!0,Dt.S.mark(Zt.w.OptionPLChartRenderingEnded),Dt.S.measure(B.t.event_logging.PerformanceMetricEventData.Name.OPTION_PROFIT_AND_LOSS_CHART,Zt.w.OptionPLChartRenderingStart,Zt.w.OptionPLChartRenderingEnded,{context:{options:{chain_id:t.id,chain_symbol:t.symbol}},source:B.t.event_logging.PerformanceMetricEventData.Source.SOURCE_OPTION_ORDER_FORM,status:B.t.event_logging.PerformanceMetricEventData.Status.COMPLETED})),r!==Tt.InitialLoading||e!==Tt.Error||n.current||(Dt.S.mark(Zt.w.OptionPLChartRenderingEnded),Dt.S.measure(B.t.event_logging.PerformanceMetricEventData.Name.OPTION_PROFIT_AND_LOSS_CHART,Zt.w.OptionPLChartRenderingStart,Zt.w.OptionPLChartRenderingEnded,{context:{options:{chain_id:t.id,chain_symbol:t.symbol}},source:B.t.event_logging.PerformanceMetricEventData.Source.SOURCE_OPTION_ORDER_FORM,status:B.t.event_logging.PerformanceMetricEventData.Status.FAILED}))}),[t.id,t.symbol,r,e])}(j,p);const U=function useUnderlyingPriceString(e){let{price:t,underlyingPrice:n}=e;const r=(0,w.og)();return t&&t.toFixed(2)!==n.toFixed(2)?t===1/0?r.formatMessage({defaultMessage:"Unlimited",id:"OptionOrderForm.ProfitLossChart.Underlying.Infinite.Label",status:"legacy"}):t===-1/0?"".concat((0,E.T4)(0,{intl:r,maximumFractionDigits:2})," (").concat((0,E.NV)({display:"percent",intl:r,percent:-1}),")"):"".concat((0,E.T4)(t,{intl:r,maximumFractionDigits:2})," (").concat((0,E.NV)({display:"percent",intl:r,percent:0!==n?(t-n)/n:0}),")"):(0,E.T4)(t,{intl:r,maximumFractionDigits:2})}({price:_,underlyingPrice:y});if(j===Tt.PLChartHidden||!S.size||!R||p.underlying_instruments.count()>1)return null;if(j===Tt.Error)return kt||(kt=(0,d.tZ)(ChartError,null));if(j===Tt.InitialLoading)return xt||(xt=(0,d.tZ)(ChartLoader,null));const{breakeven_points:z,max_loss:W,max_profit:q}=R,Y=q.type===Re.Finite?"".concat(Number(null===(n=q.profit_or_loss)||void 0===n?void 0:n.amount)>0?"+":"").concat((0,E.T4)(null===(r=q.profit_or_loss)||void 0===r?void 0:r.amount,{intl:v,maximumFractionDigits:2})):v.formatMessage({defaultMessage:q.type===Re.Unavailable?"-":"Unlimited",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.MaxProfit.Label",status:"legacy"}),V=W.type===Re.Finite?(0,E.T4)(null===(i=W.profit_or_loss)||void 0===i?void 0:i.amount,{intl:v,maximumFractionDigits:2}):v.formatMessage({defaultMessage:W.type===Re.Unavailable?"-":"Unlimited",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.MaxProfit.Label",status:"legacy"}),G=z.map((e=>(0,E.T4)(e.underlying_price.amount,{intl:v,maximumFractionDigits:2})));return(0,d.tZ)(_e.default,{bounds:!0},(e=>{var t;let{contentRect:n,measureRef:r}=e;return(0,d.tZ)("div",{ref:r,css:(0,d.iv)({paddingTop:m.q3,position:"relative"},"")},(0,d.tZ)("div",{css:(0,d.iv)({display:"flex",filter:H?"grayscale(1)":void 0,flexDirection:"column",marginBottom:"60px"},"")},a||(a=(0,d.tZ)(Header,{price:_,profitLossReturn:b}))),(0,d.tZ)(Ne,{isStale:H,optionChain:p,optionLegs:S,optionProfitAndLossChart:R,selectedPrice:U,setPriceReturnLabels:e=>{e.profitLossReturn===b&&e.price===_||C(e)},underlyingPrice:y,underlyingSymbol:f,width:null===(t=n.bounds)||void 0===t?void 0:t.width}),(0,d.tZ)("div",{css:(0,d.iv)({display:"flex",filter:H?"grayscale(1)":void 0,flexDirection:"column",marginTop:m.q3},"")},(0,d.tZ)(InfoLabel,{indicatorToken:O.E1.Positive,label:v.formatMessage({defaultMessage:"Max Profit",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.MaxProfit.Label",status:"legacy"}),priceLabels:[Y]}),(0,d.tZ)(InfoLabel,{indicatorToken:O.E1.Negative,label:v.formatMessage({defaultMessage:"Max Loss",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.MaxLoss.Label",status:"legacy"}),priceLabels:[V]}),(0,d.tZ)(InfoLabel,{indicatorToken:O.Wt.Fg1,label:v.formatMessage({defaultMessage:"Breakeven",id:"OptionOrderForm.ProfitLossChart.ProfitLoss.Breakeven.Label",status:"legacy"},{numberOfBreakevenPrices:z.length}),priceLabels:G})),Rt||(Rt=(0,d.tZ)(DisclosureSubtitle,null)),H&&(Mt||(Mt=(0,d.tZ)(ChartStaleOverlay,null))),j===Tt.LoadingOverlay&&(Lt||(Lt=(0,d.tZ)(ChartLoadingOverlay,null))))}))}var Ft=n(67527),Nt=n(30156),Bt=n(33175),jt=n(76643),Ht=n(22170),Ut=n(22903),zt=n(75790),Wt=n(38854);function OptionOrderReceipt(e){let{alert:t,button:n,children:r,details:o,heading:i,secondaryButton:a}=e;return(0,d.tZ)("div",{"data-testid":l.c.OrderForm.OptionOrderReceipt},(0,d.tZ)(zt.Z,{css:(0,d.iv)({paddingBottom:2*m.q3,width:"100%"},"")},(0,d.tZ)("div",{css:(0,d.iv)({paddingLeft:2*m.q3,paddingRight:2*m.q3},"")},(0,d.tZ)("header",{className:"card-heading"},(0,d.tZ)("h3",null,i))),o&&(0,d.tZ)("div",{css:(0,d.iv)({paddingLeft:2*m.q3,paddingRight:2*m.q3},"")},o.map(((e,t)=>(0,d.tZ)(p.p,(0,X.Z)({key:t,className:"lined-row"},e,{readOnly:!0}))))),r,t&&(0,d.tZ)("div",null,t),(0,d.tZ)(Wt.m,{css:(0,d.iv)({paddingLeft:2*m.q3,paddingRight:2*m.q3},""),primaryButton:n,secondaryButton:a,vertical:!0})))}var qt=n(15379),Yt=n(90956),Vt=n(48666),Gt=n(39989);const Kt=(0,w.B2)({alreadyFilled:{defaultMessage:"We’re unable to cancel your order because it was already filled.",id:"ReplaceOptionOrderForm.alreadyFilled",status:"legacy"},continue:{defaultMessage:"Continue",id:"ReplaceOptionOrderForm.ContinueButton",status:"legacy"},defaultMessage:{defaultMessage:"This order will be canceled and you’ll be able to submit at a different price.",id:"ReplaceOptionOrderForm.defaultMessage",status:"legacy"},dismiss:{defaultMessage:"Dismiss",id:"ReplaceOptionOrderForm.DismissButton",status:"legacy"},error:{defaultMessage:"Error",id:"ReplaceOptionOrderForm.title.error",status:"legacy"},unableToCancel:{defaultMessage:"We tried to cancel your order but haven't received confirmation from the execution venue. Please check back later in your Account History to see if the order was canceled.",id:"ReplaceOptionOrderForm.unableToCancel",status:"legacy"}});function DismissButton(e){let{disabled:t=!1,onClick:n}=e;const r=(0,w.og)();return(0,d.tZ)(Ht.z,{label:r.formatMessage(Kt.dismiss),onClick:n,state:t?"disabled":"default",type:"button",variant:"secondary",width:"full"})}let Qt;!function(e){e.Default="Default",e.Canceling="Canceling",e.Canceled="Canceled",e.UnableToCancel="UnableToCancel",e.AlreadyFilled="AlreadyFilled",e.Error="Error"}(Qt||(Qt={}));var Xt={name:"1u9zyur",styles:"padding:20px 30px 0"};function ReplaceOptionOrderForm(e){let{onComplete:t,onDismiss:n,order:r,source:i}=e;const[a,s]=(0,o.useState)(Qt.Default),[l,c]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null),g=(0,w.og)(),handleContinueButtonClick=async()=>{s(Qt.Canceling);try{Ut.c.logCancelOptionOrderEvent(j.YB,r,i),await r.cancelOrder();const e=setTimeout((()=>{c(!0),clearTimeout(e)}),5e3)}catch(e){p(e)}};(0,Vt.Y)((()=>{a===Qt.Canceling&&Gt.VZ.issueQuery({},{fetchLimit:0})}),500),o.useEffect((()=>{u?s(Qt.Error):r.state===qt.Kq.Canceled||r.state===qt.Kq.Cancelled?s(Qt.Canceled):r.state===qt.Kq.PartiallyFilled||r.state===qt.Kq.Filled?s(Qt.AlreadyFilled):l&&s(Qt.UnableToCancel)}),[u,r.state,l]),o.useEffect((()=>{a===Qt.Canceled&&t()}),[a,t]);let m,y,f=(0,d.tZ)(DismissButton,{onClick:t}),v=(0,d.tZ)(w.DH,Kt.error);switch(a){case Qt.AlreadyFilled:y=(0,d.tZ)(w.DH,Kt.alreadyFilled);break;case Qt.UnableToCancel:y=(0,d.tZ)(w.DH,Kt.unableToCancel);break;case Qt.Error:y=(0,Yt.oN)(u);break;default:f=(0,d.tZ)(Ht.z,{"data-testid":"ReplaceOptionOrderForm.ContinueButton",label:g.formatMessage(Kt.continue),onClick:handleContinueButtonClick,state:a===Qt.Canceling?"loading":"default",type:"button"}),v=(0,d.tZ)(w.DH,{defaultMessage:"Replace {symbol} {strategy}",id:"OptionOrderForm.Receipt.Status",status:"legacy",values:{strategy:r.getFormattedStrategy(g),symbol:r.chain_symbol}}),m=(0,d.tZ)(DismissButton,{disabled:a===Qt.Canceling,onClick:n}),y=(0,d.tZ)(w.DH,Kt.defaultMessage)}return(0,d.tZ)(OptionOrderReceipt,{button:f,heading:v,secondaryButton:m},(0,d.tZ)("div",{css:Xt},y))}var Jt=n(12633),$t=n(26005);function OrderStateComponent(e){let{state:t}=e;return(0,d.tZ)(w.DH,$t.s.state[t])}function OptionOrderStatus(e){let{order:t}=e;const n=(0,w.og)();return(0,d.tZ)(w.DH,{defaultMessage:"{symbol} {strategy} {state}",id:"OptionOrderForm.Receipt.Status",status:"legacy",values:{state:(0,d.tZ)(OrderStateComponent,{state:t.state}),strategy:t.getFormattedStrategy(n),symbol:t.chain_symbol}})}var en,tn=n(94749);function OptionOrderStatusBonfire(e){let{order:t}=e;const{loading:n,result:r}=(0,Jt.tT)({disabled:!t.id,model:Gt._S,params:{id:t.id}});return n?en||(en=(0,d.tZ)(tn.O,{width:140})):r?(0,d.tZ)(w.DH,{defaultMessage:"{symbol} {strategy}",id:"OptionOrderForm.Receipt.Status",status:"legacy",values:{strategy:r.strategy_display_name,symbol:r.chain_symbol}}):(0,d.tZ)(w.DH,(0,X.Z)({},I.s.customOrder,{values:{numLegs:t.legs.size}}))}var nn=n(57390);var rn,on=n(4209);var an,sn,ln,cn,un=n(65232),dn=n(4849);var pn,gn,mn,yn,fn,vn,hn,_n,bn,Cn=n(1460),On=n(2968);function useReceiptDetails(e){let{account:t,aggregatePosition:n,collateral:r,order:o}=e;const i=function useAccountDetail(e){const t=(0,ue.MS)();if(e&&t)return{field:(0,d.tZ)(w.DH,{defaultMessage:e.label.defaultMessage,id:"OptionOrderForm.Receipt.AccountDetail",status:"legacy"}),label:rn||(rn=(0,d.tZ)(w.DH,{defaultMessage:"Account",id:"OptionOrderForm.Receipt.AccountDetailLabel",status:"legacy"}))}}(t),a=function useNewQuantityDetail(e){const t=e.isFilled?(0,d.tZ)(Cn.FormattedNumber,{value:Number(e.quantity)}):(0,d.tZ)(w.DH,(0,X.Z)({},On.s.partiallyFilledQuantity,{values:{filledQuantity:e.processed_quantity,quantity:e.quantity}}));return e.isSingleLeg?{field:t,label:e.direction===ie.J7.Debit?pn||(pn=(0,d.tZ)(w.DH,{defaultMessage:"Contracts Purchased",id:"OptionOrderForm.Receipt.ContractsPurchased",status:"legacy"})):gn||(gn=(0,d.tZ)(w.DH,{defaultMessage:"Contracts Sold",id:"OptionOrderForm.Receipt.ContractsSold",status:"legacy"}))}:{field:t,label:mn||(mn=(0,d.tZ)(w.DH,{defaultMessage:"Quantity",id:"OptionOrderForm.Receipt.Quantity",status:"legacy"}))}}(o),s=function useTotalPriceDetail(e){const t=(0,d.tZ)(E.tA,{value:e.unsignedTotalPrice});return e.isCompleted?{field:t,label:e.direction===ie.J7.Debit?vn||(vn=(0,d.tZ)(w.DH,{defaultMessage:"Total Cost",id:"OptionOrderForm.Receipt.TotalCost",status:"legacy"})):hn||(hn=(0,d.tZ)(w.DH,{defaultMessage:"Total Credit",id:"OptionOrderForm.Receipt.TotalCredit",status:"legacy"}))}:{field:t,label:e.direction===ie.J7.Debit?_n||(_n=(0,d.tZ)(w.DH,{defaultMessage:"Estimated Cost",id:"OptionOrderForm.Receipt.EstimatedCost",status:"legacy"})):bn||(bn=(0,d.tZ)(w.DH,{defaultMessage:"Estimated Credit",id:"OptionOrderForm.Receipt.EstimatedCredit",status:"legacy"}))}}(o),l=function usePositionDetail(e,t){const n=(0,w.og)();if(!t||oe()(t.quantity).eq(0))return;const r=n.formatNumber(Number(t.quantity));return{field:e.isSingleLeg?(0,d.tZ)(w.DH,{defaultMessage:"{formattedQuantity} {quantity, plural,\n          one {Contract}\n          other {Contracts}\n        }",id:"OptionOrderForm.Receipt.SingleLeg",status:"legacy",values:{formattedQuantity:r,quantity:t.quantity}}):n.formatMessage(t.direction===ie.J7.Debit?On.s.plusAmount:On.s.minusAmount,{amount:Number(t.quantity)}),label:e.hasLegExecutions?yn||(yn=(0,d.tZ)(w.DH,{defaultMessage:"New Position",id:"OptionOrderForm.Receipt.NewPosition",status:"legacy"})):fn||(fn=(0,d.tZ)(w.DH,{defaultMessage:"Current Position",id:"OptionOrderForm.Receipt.CurrentPosition",status:"legacy"}))}}(o,n),c=(0,on.i)(r),u=function useCommissionsDetail(){if(!(0,dn.n)(Nt.V.optionsCancelReplaceV2))return{field:sn||(sn=(0,d.tZ)(E.tA,{value:0})),label:ln||(ln=(0,d.tZ)(w.DH,{defaultMessage:"Commissions",id:"OptionOrderForm.Receipt.CommissionsDetail",status:"legacy"}))}}(),p=function useLimitPriceDetail(e){if((0,dn.n)(Nt.V.optionsCancelReplaceV2))return{field:(0,d.tZ)(E.tA,{value:e.price}),label:cn||(cn=(0,d.tZ)(w.DH,{defaultMessage:"Limit Price",id:"OptionOrderForm.Receipt.LimitPriceDetail",redOakId:"2418226",status:"approved"}))}}(o),g=function useBidAskPriceDetail(e){var t,n;const r=(0,dn.n)(Nt.V.optionsCancelReplaceV2),o=(0,un.b)(e.id);if(r&&o&&e.state!==qt.Kq.Queued)return{field:(0,d.tZ)(w.DH,{defaultMessage:"{bidPrice} — {askPrice}",id:"OptionOrderForm.Receipt.BidAskPriceDetail",redOakId:"2418226",status:"approved",values:{askPrice:(0,d.tZ)(E.tA,{value:null===(t=o.displayBidAsk)||void 0===t?void 0:t.ask}),bidPrice:(0,d.tZ)(E.tA,{value:null===(n=o.displayBidAsk)||void 0===n?void 0:n.bid})}}),label:an||(an=(0,d.tZ)(w.DH,{defaultMessage:"Bid — Ask",id:"OptionOrderForm.Receipt.BidAskPriceDetailLabel",redOakId:"2418226",status:"approved"}))}}(o);return(0,At.List)([i,a,s,p,g,l,...c,u]).filter((e=>!!e))}var Sn,En,Pn=n(69400),Zn=n(62865);function Receipt(e){let{collateral:t,context:n,getInitialOrderFormState:r,onDismissReceipt:i,onReplaceOrder:a,order:s,source:l}=e;const u=(0,w.og)(),p=(0,Bt.E)(Nt.V.optionsServerDrivenNomenclature),[g]=(0,c.nE)(n),[m,y]=o.useState(!1),{activeAccount:f}=(0,Ft.X_)((0,ue.DV)()),v=useReceiptDetails({account:f,aggregatePosition:function useOptionAggregatePosition(e){let{aggregatePositions:t,order:n,positionEffect:r}=e;return(0,o.useMemo)((()=>null==t?void 0:t.find((e=>(0,nn.IW)(e.legs.map((e=>({optionId:e.option,positionEffect:r,ratioQuantity:e.ratio_quantity,side:(0,nn.k3)({positionEffect:r,positionType:e.position_type})}))),n.legs.map((e=>({optionId:e.option,positionEffect:e.position_effect,ratioQuantity:e.ratio_quantity,side:e.side}))))))),[t,n.legs,r])}({aggregatePositions:(0,Jt.tT)({many:!0,model:Gt.JY,params:{account_numbers:null==f?void 0:f.account_number}}).result,order:s,positionEffect:g}),collateral:t,order:s}),[h,_]=function useOnClickDone(e){let{context:t,getInitialOrderFormState:n,onDismissReceipt:r}=e;const i=(0,o.useRef)(!0),[a,s]=(0,o.useState)(!1),l=(0,c.sW)(t,n),u=(0,o.useCallback)((async()=>{s(!0),await(null==r?void 0:r()),l(),i.current&&s(!1)}),[i,r,l]);return(0,o.useEffect)((()=>()=>{i.current=!1})),[a,u]}({context:n,getInitialOrderFormState:r,onDismissReceipt:i}),b=(0,c.JQ)(n,s);return(0,c.Cj)(),function useTriggerSurvey(){(0,Pn.F)((()=>{(0,Zn.HU)("track","options-order-submitted")}))}(),m?(0,d.tZ)(ReplaceOptionOrderForm,{onComplete:()=>{b(),null==a||a()},onDismiss:()=>{y(!1)},order:s,source:l}):(0,d.tZ)(OptionOrderReceipt,{alert:(0,d.tZ)(jt.F,{optionOrderId:s.id,orderState:s.state}),button:(0,d.tZ)(Ht.z,{label:u.formatMessage({defaultMessage:"Done",id:"OptionOrderForm.Done",status:"legacy"}),onClick:_,state:h?"loading":"default",type:"button"}),details:v,heading:null!=p&&p.isMember()?(0,d.tZ)(OptionOrderStatusBonfire,{order:s}):(0,d.tZ)(OptionOrderStatus,{order:s}),secondaryButton:s.isCancelable&&(0,d.tZ)(Ht.z,{label:u.formatMessage({defaultMessage:"Replace Order",id:"OptionOrderForm.ReplaceOrderButton",status:"legacy"}),onClick:()=>{Ut.c.logReplaceOptionOrderEvent(j.YB,s,l),y(!0)},type:"button",variant:"secondary"})})}function ContractSelectionYieldRow(e){let{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:o,optionLegs:i}=e;const a=(0,c.hI)(i),s=(0,c.e9)(i),l=n===ie.s$.Mark?a:s,u=(0,c.gm)({context:t,intendedDirection:r,optionChain:o,optionLegs:i});return(0,d.tZ)(p.p,{field:(0,d.tZ)(E.tA,{value:oe()(l).abs().toString()}),label:(0,d.tZ)(w.DH,{defaultMessage:"Total {direction}",id:"OptionOrderForm.ContractSelectionYieldRow",status:"legacy",values:{direction:(0,d.tZ)(w.DH,I.s.direction[u])}})})}function OrderYieldRow(e){let{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:o,optionLegs:i}=e;const[{values:{limitPrice:a}}]=(0,c.Gp)(t),s=(0,c.gm)({context:t,intendedDirection:r,optionChain:o,optionLegs:i}),u=(0,c.CW)({context:t,defaultPricingSetting:n,optionChain:o,optionLegs:i}),g=(0,c.Ad)({context:t,intendedDirection:r,optionChain:o,optionLegs:i});return(0,d.tZ)(p.p,{field:g&&""===a?"—":(0,d.tZ)(E.tA,{value:u}),label:(0,d.tZ)("div",{"data-testid":l.c.Options.OrderForm.YieldRowLabel},s===ie.J7.Credit?Sn||(Sn=(0,d.tZ)(w.DH,{defaultMessage:"Min Credit",id:"OptionOrderForm.YieldRow.Credit",status:"legacy"})):En||(En=(0,d.tZ)(w.DH,{defaultMessage:"Max Cost",id:"OptionOrderForm.YieldRow.Debit",status:"legacy"})))})}function YieldRow(e){let{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:o,optionLegs:i}=e;const[{step:a}]=(0,c.Gp)(t);return a===u.hV.ContractSelection?(0,d.tZ)(ContractSelectionYieldRow,{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:o,optionLegs:i}):(0,d.tZ)(OrderYieldRow,{context:t,defaultPricingSetting:n,intendedDirection:r,optionChain:o,optionLegs:i})}function OptionOrderForm(e){let{account:t,context:n,defaultPricingSetting:r,disableLegUnselection:p=!1,endpoint:g,footer:m,getInitialOrderFormState:y,hasPosition:f,heading:v,intendedDirection:h,isNewLayout:_,isWatching:b,onDismissReceipt:C,onReplaceOrder:O,optionChain:S,optionLegs:E,showProfitLossChart:P=!1,source:Z}=e;const[{orderId:D,step:T,values:{limitPrice:w}}]=(0,c.Gp)(n),I=(0,o.useRef)(null),k=(0,o.useRef)(null),[x]=(0,c.nE)(n);(0,c.Xn)(n,y),(0,c.e1)(n,E),(0,s._)({account:t,orderId:D});const R=(0,c.EP)(n);(0,a.E)({account:t,defaultPricingSetting:r,optionChain:S,optionLegs:E,order:R.result,source:Z}),(0,c.Dq)({account:t,legs:E,order:R.result});const M=(0,c.dv)(S),L=(0,c.pp)({account:t,context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E});(0,c.nq)({context:n,optionChain:S}),(0,c.yi)({account:t,context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E,source:Z}),(0,c._p)({account:t,context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E,source:Z}),(0,c.Jv)({account:t,context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E,order:R.result,source:Z});const A=(0,c.vM)({account:t,context:n,defaultPricingSetting:r,hasPosition:f,intendedDirection:h,isWatching:b,optionChain:S,optionLegs:E,source:Z}),{copy:F,primaryButton:N,scary:B,secondaryButton:j,status:H}=(0,c.Fb)({account:t,context:n,defaultPricingSetting:r,getInitialOrderFormState:y,intendedDirection:h,limitPriceRef:I,optionChain:S,optionLegs:E,stopPriceRef:k}),U=(0,c.Ad)({context:n,intendedDirection:h,optionChain:S,optionLegs:E});return T===u.hV.Submitted&&R.result?(0,d.tZ)(Receipt,{collateral:L.result,context:n,getInitialOrderFormState:y,onDismissReceipt:C,onReplaceOrder:O,order:R.result,source:Z}):(0,d.tZ)(i.oT,{accountSelector:(0,d.tZ)(he.$,{endpoint:g,optionLegs:E,positionEffect:x,step:T}),additionalFields:(0,d.tZ)(CollateralFields,{account:t,context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E}),additionalFooter:P&&T<u.hV.Reviewing&&M&&(!U||""!==w)?(0,d.tZ)(ProfitLossChart,{context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E,underlyingPrice:Number(M.marketPrice),underlyingSymbol:S.symbol}):null,copy:F,"data-testid":l.c.Options.OrderForm.Card,footer:m,formFields:(0,d.tZ)(FormFields,{account:t,context:n,defaultPricingSetting:r,disableLegUnselection:p,intendedDirection:h,isNewLayout:_,limitPriceRef:I,optionChain:S,optionLegs:E,stopPriceRef:k}),hasFlexiblePadding:_,heading:v,onSubmit:A,primaryButton:N,scary:B,secondaryButton:j,status:H,yieldRow:(0,d.tZ)(YieldRow,{context:n,defaultPricingSetting:r,intendedDirection:h,optionChain:S,optionLegs:E})})}var Dn=n(64649),Tn=n(93358);let wn;!function(e){e.Limit="Limit",e.StopLimit="Stop Limit"}(wn||(wn={}));const In=(0,w.B2)({[wn.Limit]:{defaultMessage:"Limit Order",id:"OrderTypeMenuChoice.Limit",status:"legacy"},[wn.StopLimit]:{defaultMessage:"Stop Limit Order",id:"OrderTypeMenuChoice.StopLimit",status:"legacy"}});function getSelectedOrderTypeMenuChoice(e,t){return e===S.OrderType.Limit&&t===S.OrderTrigger.Immediate?wn.Limit:e===S.OrderType.Limit&&t===S.OrderTrigger.Stop?wn.StopLimit:void 0}var kn;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,Dn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const xn=(0,At.List)([wn.Limit,wn.StopLimit].map((e=>({label:(0,d.tZ)(w.DH,In[e]),value:e}))));function OrderTypeMenu(e){var t;let{context:n}=e;const[{values:{trigger:r,type:i}},a]=(0,c.Gp)(n),s=(0,o.useCallback)((e=>{const t=function getOrderTypeAndTriggerFromChoice(e){switch(e){case wn.Limit:return{trigger:S.OrderTrigger.Immediate,type:S.OrderType.Limit};case wn.StopLimit:return{trigger:S.OrderTrigger.Stop,type:S.OrderType.Limit};default:return}}(e);t&&a({type:_.K.UPDATE_FORM_VALUES,values:_objectSpread({},t)})}),[a]);return(0,d.tZ)(Tn.D,{onSelect:s,options:xn,selectedValue:null!==(t=getSelectedOrderTypeMenuChoice(i,r))&&void 0!==t?t:null,title:kn||(kn=(0,d.tZ)(w.DH,{defaultMessage:"Order Type",id:"OptionOrderForm.OrderTypeMenu.Title",status:"legacy"}))})}var Rn=n(11719),Mn=n.n(Rn);function reducer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function reducer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?reducer_ownKeys(Object(n),!0).forEach((function(t){(0,Dn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):reducer_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function optionOrderFormReducer(e,t){switch(t.type){case _.K.UPDATE_FORM_VALUES:return reducer_objectSpread(reducer_objectSpread({},e),{},{values:reducer_objectSpread(reducer_objectSpread({},e.values),t.values)});case _.K.UPDATE_STEP:return reducer_objectSpread(reducer_objectSpread({},e),{},{step:t.step});case _.K.SET_ORDER_FORM_STATE:return t.state;case _.K.SELECT_OPTION_LEGS:{const n=t.optionLegSelections.map((e=>e.optionInstrument.id));return reducer_objectSpread(reducer_objectSpread({},e),{},{selectedOptionLegs:e.selectedOptionLegs.filter((e=>!n.includes(e.optionInstrument.id))).concat(t.optionLegSelections)})}case _.K.UNSELECT_OPTION_LEG:return reducer_objectSpread(reducer_objectSpread({},e),{},{selectedOptionLegs:e.selectedOptionLegs.filter((e=>e.optionInstrument.id!==t.optionInstrument.id))});case _.K.UPDATE_RATIO_MODE:return reducer_objectSpread(reducer_objectSpread({},e),{},{ratioMode:t.ratioMode});case _.K.UPDATE_RATIO_QUANTITY:return reducer_objectSpread(reducer_objectSpread({},e),{},{selectedOptionLegs:[...e.selectedOptionLegs.map((e=>reducer_objectSpread(reducer_objectSpread({},e),{},{ratioQuantity:e.optionInstrument.id===t.optionInstrument.id?t.ratioQuantity:e.ratioQuantity})))]});case _.K.SET_ALL_RATIO_QUANTITIES_TO_ONE:{const t=[...e.selectedOptionLegs];return reducer_objectSpread(reducer_objectSpread({},e),{},{selectedOptionLegs:t.map((e=>reducer_objectSpread(reducer_objectSpread({},e),{},{ratioQuantity:1})))})}case _.K.UPDATE_INTERNAL_POSITION_EFFECT:return reducer_objectSpread(reducer_objectSpread({},e),{},{INTERNAL_positionEffect:t.positionEffect});case _.K.SET_ORDER_ID:return reducer_objectSpread(reducer_objectSpread({},e),{},{orderId:t.order.id});case _.K.SET_ORDER_CHECK_ERROR:return reducer_objectSpread(reducer_objectSpread({},e),{},{orderCheckError:t.orderCheckError});case _.K.SET_SERVER_DRIVEN_ORDER_CHECK_ERROR:return reducer_objectSpread(reducer_objectSpread({},e),{},{serverDrivenOrderCheckError:t.serverDrivenOrderCheckError});case _.K.SKIP_ORDER_CHECK_ERROR:return reducer_objectSpread(reducer_objectSpread({},e),{},{orderCheckError:void 0,skippedOrderCheckErrors:e.skippedOrderCheckErrors.includes(t.orderCheckError)?e.skippedOrderCheckErrors:e.skippedOrderCheckErrors.concat([t.orderCheckError])});case _.K.CLEAR_ORDER_CHECK_ERROR_STATE:return reducer_objectSpread(reducer_objectSpread({},e),{},{orderCheckError:void 0,skippedOrderCheckErrors:[]});case _.K.SET_SERVER_ERROR:return reducer_objectSpread(reducer_objectSpread({},e),{},{serverError:t.serverError});case _.K.CLEAR_SERVER_ERROR:return reducer_objectSpread(reducer_objectSpread({},e),{},{serverError:void 0});case _.K.REPLACE_ORDER_STATE:return reducer_objectSpread(reducer_objectSpread({},e),{},{existingOrderId:t.order.id,refId:Mn().v4(),skippedOrderCheckErrors:[],step:u.hV.Edit,values:reducer_objectSpread(reducer_objectSpread({},e.values),{},{limitPrice:""})});case _.K.LOAD_EXISTING_ORDER_STATE:return reducer_objectSpread(reducer_objectSpread({},e),{},{existingOrderId:t.existingOrder.id,selectedOptionLegs:t.selectedOptionLegs,values:reducer_objectSpread(reducer_objectSpread({},e.values),{},{quantity:t.existingOrder.quantity})});default:return e}}function NewOptionOrderFormContext(e){const t=(0,o.createContext)(null);return{OptionOrderFormContext:t,OptionOrderFormProvider:function OptionOrderFormProvider(n){let{children:r}=n;const i=(0,o.useReducer)(optionOrderFormReducer,void 0,e);return(0,d.tZ)(t.Provider,{value:i},r)}}}function state_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function state_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?state_ownKeys(Object(n),!0).forEach((function(t){(0,Dn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):state_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function initializeOptionOrderFormState(e){let{source:t,step:n,values:r}=e;return{INTERNAL_positionEffect:ie.yR.Open,existingOrderId:void 0,orderCheckError:void 0,orderId:void 0,ratioMode:u.fh.Normal,refId:Mn().v4(),selectedOptionLegs:[],serverDrivenOrderCheckError:void 0,serverError:void 0,skippedOrderCheckErrors:[],step:n,values:state_objectSpread(state_objectSpread({},{direction:void 0,limitPrice:"",quantity:"",stopPrice:"",timeInForce:S.TimeInForce.GFD,trigger:S.OrderTrigger.Immediate,type:S.OrderType.Limit}),{},{source:t},r)}}n(25735)},25735:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Y:()=>logOptionOrderCheckError});var r=n(84974);function logOptionOrderCheckError(e,t){r.YB.logEvent({event:{category:"error_event",data:{message:t,tag:e},event:"options_order_check"}})}let o;!function(e){e.OptionsAmbiguousDirection="options_ambiguous_direction",e.OptionsBlockWithCancelableOrder="options_day_trade_block_with_cancelable_order",e.OptionsDayTradesRestricted="options_day_trade_protection_day_trades_disabled",e.OptionsMaxOrderSize="options_max_order_size",e.OptionsMinTickSize="options_min_tick_size",e.OptionsNotEnoughBuyingPowerShouldCancelCrypto="options_not_enough_buying_power_should_cancel_crypto",e.OptionsNotEnoughBuyingPowerForCollateral="options_not_enough_buying_power_for_collateral",e.OptionsNotEnoughBuyingPowerForPremium="options_not_enough_buying_power_for_premium",e.OptionsNotEnoughSharesToClose="options_not_enough_shares_to_close",e.OptionsNotEnoughSharesToCloseCanCancel="options_not_enough_shares_to_close_can_cancel",e.OptionsNotEnoughSharesForCollateral="options_not_enough_shares_for_collateral",e.OptionsPositionClosingOnlyDay="options_position_closing_only_day",e.OptionsPositionClosingOnlyDayOfExpiration="options_position_closing_only_day_of_expiration",e.OptionsQuoteUnavailable="options_quote_unavailable",e.OptionsStopPriceCheck="options_stop_price_check",e.OptionsTradeOnExpirationPDT="options_trade_on_expiration_pattern_day_trade_error",e.OptionsTriggersPDT="options_day_trade_protection_triggers_pdt",e.OptionsWideSpread="options_wide_spread",e.OptionsNoBidWarning="options_no_bid_warning",e.ServerSideError="options_server_side_error",e.OptionsMartialDependents="options_marital_dependents"}(o||(o={}))},2320:(e,t,n)=>{"use strict";n.d(t,{A7:()=>filterAffectedPosition,Hq:()=>getTradeOnExpirationLegsQuantifier,If:()=>getTradeOnExpirationPDTErrorID,PO:()=>getLegsWithMetadata,og:()=>areOptionOrderFormValuesEqual,pY:()=>formIsFinishedEditing,x_:()=>formIsNotYetReviewed});var r=n(64649),o=n(56141),i=n.n(o),a=n(73367),s=n(42579),l=n(12633),c=n(81359);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function formIsNotYetReviewed(e){return e===c.hV.ContractSelection||e===c.hV.Edit||e===c.hV.Reviewing}function formIsFinishedEditing(e){return e===c.hV.Reviewing||e===c.hV.Reviewed||e===c.hV.Submitting||e===c.hV.Submitted}function filterAffectedPosition(e){let{position:t,positionEffect:n,side:r}=e;if(!t)return;const o=r===a.Side.Buy&&n===s.yR.Open||r===a.Side.Sell&&n===s.yR.Close;return o&&t.type===s.d.Long||!o&&t.type===s.d.Short?t:void 0}function areOptionOrderFormValuesEqual(e,t){return i()(e,t)}function getTradeOnExpirationLegsQuantifier(e,t){return 1===e?c.NG.Single:e===t?c.NG.All:c.NG.Some}function getTradeOnExpirationPDTErrorID(e){let{account:t,dayTrades:n,isExemptFromPDTRules:r,numLegs:o,numSameDayExpiringLegs:i}=e;return[getTradeOnExpirationLegsQuantifier(o,i),"".concat(n.numDayTrades,"dt"),"".concat(r?"above":"below","25k"),"".concat(t.cash_management_enabled?"cash":"nocash")].join("_")}function getLegsWithMetadata(e){let{optionLegs:t,orderPayload:n}=e;return n.legs.map((e=>{const n=(0,l.Hz)(e.option),r=t.find((e=>e.optionInstrument.id===n));if(!r)throw new Error("Could not get quotes for all legs in payload");return _objectSpread(_objectSpread({},e),{},{leg_metadata:{option_quote:r.optionQuote?{ask_price:r.optionQuote.ask_price,ask_size:r.optionQuote.ask_size,bid_price:r.optionQuote.bid_price,bid_size:r.optionQuote.bid_size}:void 0},option_id:n})}))}},80788:(e,t,n)=>{"use strict";n.d(t,{Q:()=>OptionsBidAskBar});var r=n(10043),o=(n(27378),n(38978));function OptionsBidAskBar(e){let{askSize:t,bidSize:n,isBid:i,isVertical:a=!1}=e;const s=(a?68:123)-4,l=0===t&&0===n?4:4+(i?n/(t+n)*s:t/(t+n)*s);return(0,r.tZ)("div",{css:(0,r.iv)({background:i?o.ZV.semantic.positive.light:o.ZV.semantic.negative.light,borderColor:i?o.ZV.semantic.positive.base:o.ZV.semantic.negative.base,borderRadius:"2px",borderStyle:"solid",borderWidth:"1px",height:a?l:"12px",marginTop:a?"auto":"2px",transition:"height 300ms ease",width:a?"46px":l},"")})}},74129:(e,t,n)=>{"use strict";n.d(t,{b:()=>PDTLearnMoreLink});n(27378);var r,o=n(21675),i=n(38978),a=n(82665),s=n(93284),l=n(10043);function PDTLearnMoreLink(){return(0,l.tZ)(a.I,{to:"https://robinhood.com/us/en/support/articles/pattern-day-trading/"},(0,l.tZ)(o.Dy.Text,{color:i.E1.Primary,isBold:!0,size:"M"},r||(r=(0,l.tZ)(s.DH,{defaultMessage:"Learn More",id:"TriggersPDT.LearnMore",status:"legacy"}))))}},61260:(e,t,n)=>{"use strict";n.d(t,{M:()=>OptionOrderCaption,Q:()=>optionOrderCaptionQuantityAndEffect});n(27378);var r=n(42579),o=n(27548),i=n(62293),a=n(15373),s=n.n(a),l=n(93284),c=n(5066),u=n(75794),d=n(10043);function BuysOrderCaption(e){let{expirationDates:t,positionEffect:n,processedQuantity:r,quantity:i,strategy:a}=e;const p=(0,l.og)(),g=r&&s()(r).gt(0),m=(0,u.i)({intl:p,processedQuantity:g?r:null,quantity:i,strategy:a});return(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.BuysOrder",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m,positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[n])}})}function CustomOrderCaption(e){let{expirationDates:t,legs:n,positionEffect:i,processedQuantity:a,quantity:u}=e;const p=(0,l.og)(),g=p.formatMessage(o.s.captionStrategy[r.q0.Custom],{legs:n,quantity:u}),m=a&&s()(a).gt(0)?p.formatMessage(o.s.orderProcessedQuantity,{processedQuantity:a,quantity:u,strategy:g}):p.formatMessage(o.s.orderQuantity,{quantity:u,strategy:g});return i?(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.CustomOrder",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m,positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[i])}}):(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.CustomOrder.NoPositionEffect",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m}})}function HorizontalSpreadOrderCaption(e){let{expirationDates:t,positionEffect:n,processedQuantity:r,quantity:i,strategy:a}=e;const p=(0,l.og)(),g=r&&s()(r).gt(0),m=(0,u.i)({intl:p,processedQuantity:g?r:null,quantity:i,strategy:a});return(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.HorizontalSpreadOrder",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m,positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[n])}})}function IronCondorOrderCaption(e){let{expirationDates:t,positionEffect:n,processedQuantity:r,quantity:i,strategy:a}=e;const p=(0,l.og)(),g=r&&s()(r).gt(0),m=(0,u.i)({intl:p,processedQuantity:g?r:null,quantity:i,strategy:a});return(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.IronCondorOrder",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m,positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[n])}})}function RollingOrderCaption(e){let{expirationDates:t,processedQuantity:n,quantity:r}=e;const i=(0,l.og)(),a=i.formatMessage(o.s.rollingCaptionStrategy,{quantity:r}),u=n&&s()(n).gt(0)?i.formatMessage(o.s.orderProcessedQuantity,{processedQuantity:n,quantity:r,strategy:a}):i.formatMessage(o.s.orderQuantity,{quantity:r,strategy:a});return(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.RollingOrderCaption",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:u}})}var p=n(25773),g=n(19207);function SingleLegOrderCaption(e){let{expirationDate:t,positionEffect:n,processedQuantity:r,quantity:i,side:a}=e;return(0,d.tZ)(l.DH,{defaultMessage:"{expirationDate} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.SingleLegOrderCaption",redOakId:"2819976",status:"approved",values:{expirationDate:(0,d.tZ)(g.X,{value:t}),formattedQuantity:r&&s()(r).gt(0)?(0,d.tZ)(l.DH,(0,p.Z)({},o.s.singleLegOrderProcessedQuantity[a],{values:{processedQuantity:r,quantity:i}})):(0,d.tZ)(l.DH,(0,p.Z)({},o.s.singleLegOrderQuantity[a],{values:{quantity:i}})),positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[n])}})}function VerticalSpreadOrderCaption(e){let{expirationDates:t,positionEffect:n,processedQuantity:r,quantity:i,strategy:a}=e;const p=(0,l.og)(),g=r&&s()(r).gt(0),m=(0,u.i)({intl:p,processedQuantity:g?r:null,quantity:i,strategy:a});return(0,d.tZ)(l.DH,{defaultMessage:"{expiration} • {formattedQuantity} to {positionEffect}",id:"OptionCaption.VerticalSpreadOrder",redOakId:"2819976",status:"approved",values:{expiration:(0,d.tZ)(c.H,{values:t}),formattedQuantity:m,positionEffect:(0,d.tZ)(l.DH,o.s.positionEffect[n])}})}function OptionOrderCaption(e){let{order:t}=e;const n=t.opening_strategy||t.closing_strategy,r=t.legs.first(void 0);return t.isRollingOrder&&t.opening_strategy===t.closing_strategy?(0,d.tZ)(RollingOrderCaption,{expirationDates:t.expirationDates,processedQuantity:t.processed_quantity,quantity:t.quantity}):!n||!r||t.opening_strategy&&t.closing_strategy?(0,d.tZ)(CustomOrderCaption,{expirationDates:t.expirationDates,legs:t.legs.size,positionEffect:void 0,processedQuantity:t.processed_quantity,quantity:t.quantity}):(0,i.Je)(n)?(0,d.tZ)(SingleLegOrderCaption,{expirationDate:r.normalizedExpirationDate,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity,side:r.side}):(0,i.MZ)(n)?(0,d.tZ)(VerticalSpreadOrderCaption,{expirationDates:t.expirationDates,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity,strategy:n}):(0,i.u5)(n)?(0,d.tZ)(HorizontalSpreadOrderCaption,{expirationDates:t.expirationDates,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity,strategy:n}):(0,i.K3)(n)?(0,d.tZ)(BuysOrderCaption,{expirationDates:t.expirationDates,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity,strategy:n}):(0,i.hc)(n)?(0,d.tZ)(IronCondorOrderCaption,{expirationDates:t.expirationDates,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity,strategy:n}):(0,d.tZ)(CustomOrderCaption,{expirationDates:t.expirationDates,legs:t.legs.size,positionEffect:r.position_effect,processedQuantity:t.processed_quantity,quantity:t.quantity})}function optionOrderCaptionQuantityAndEffect(e,t){const n=e.opening_strategy||e.closing_strategy,{legs:a,processed_quantity:s,quantity:l}=e,c=e.legs.first(void 0),u=e.isRollingOrder&&e.opening_strategy===e.closing_strategy;if(u){const e=t.formatMessage(o.s.rollingCaptionStrategy,{quantity:l});return t.formatMessage(o.s.orderQuantity,{quantity:l,strategy:e})}let d="",p="";if(n&&c&&(0,i.Je)(n)?d=t.formatMessage(o.s.singleLegOrderQuantity[c.side],{processedQuantity:s,quantity:l}):(p=u?t.formatMessage(o.s.rollingCaptionStrategy,{quantity:l}):n&&c&&((0,i.MZ)(n)||(0,i.u5)(n)||(0,i.K3)(n)||(0,i.hc)(n))?t.formatMessage(o.s.captionStrategy[n],{quantity:l}):t.formatMessage(o.s.captionStrategy[r.q0.Custom],{legs:a.size,quantity:l}),d=t.formatMessage(o.s.orderQuantity,{quantity:l,strategy:p})),n&&c&&(!e.opening_strategy||!e.closing_strategy)){const e=t.formatMessage(o.s.positionEffect[c.position_effect]);return t.formatMessage({defaultMessage:"{formattedQuantity} to {positionEffect}",id:"OptionOrderCaption.optionOrderCaptionQuantityAndEffect.quantityAndEffect",status:"legacy"},{formattedQuantity:d,positionEffect:e})}return d}},39400:(e,t,n)=>{"use strict";n.d(t,{Y:()=>OptionPositionCaption});n(27378);var r=n(62293),o=n(93284),i=n(5066),a=n(10043);function BuysPositionCaption(e){let{expirationDates:t,quantity:n}=e;const r=(0,o.og)().formatMessage({defaultMessage:"{quantity, number} {quantity, plural, one {Buy} other {Buys}}",id:"OptionCaption.BuysPosition.Quantity",status:"legacy"},{quantity:n});return(0,a.tZ)(o.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.BuysPosition",redOakId:"2819976",status:"approved",values:{expiration:(0,a.tZ)(i.H,{values:t}),formattedQuantity:r}})}var s=n(27548);function CustomPositionCaption(e){let{direction:t,expirationDates:n,quantity:r}=e;const l=(0,o.og)(),c=l.formatMessage({defaultMessage:"{quantity, number} {direction}",id:"OptionCaption.CustomPositionCaption.Quantity",status:"legacy"},{direction:l.formatMessage(s.s.directionName[t]),quantity:r});return(0,a.tZ)(o.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.CustomPositionCaption",redOakId:"2819976",status:"approved",values:{expiration:(0,a.tZ)(i.H,{values:n}),formattedQuantity:c}})}var l=n(75794);function HorizontalSpreadPositionCaption(e){let{expirationDates:t,quantity:n,strategy:r}=e;const s=(0,o.og)(),c=(0,l.i)({intl:s,quantity:n,strategy:r});return(0,a.tZ)(o.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.HorizontalSpreadPosition",redOakId:"2819976",status:"approved",values:{expiration:(0,a.tZ)(i.H,{values:t}),formattedQuantity:c}})}function IronCondorPositionCaption(e){let{expirationDates:t,quantity:n,strategy:r}=e;const s=(0,o.og)(),c=(0,l.i)({intl:s,quantity:n,strategy:r});return(0,a.tZ)(o.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.IronCondorPosition",redOakId:"2819976",status:"approved",values:{expiration:(0,a.tZ)(i.H,{values:t}),formattedQuantity:c}})}var c=n(25773),u=n(19207);function SingleLegPositionCaption(e){let{expirationDate:t,positionType:n,quantity:r}=e;return(0,a.tZ)(o.DH,{defaultMessage:"{expirationDate} • {formattedQuantity}",id:"OptionCaption.SingleLegPositionCaption",redOakId:"2819976",status:"approved",values:{expirationDate:(0,a.tZ)(u.X,{value:t}),formattedQuantity:(0,a.tZ)(o.DH,(0,c.Z)({},s.s.singleLegPositionQuantity[n],{values:{quantity:r}}))}})}function VerticalSpreadPositionCaption(e){let{expirationDates:t,quantity:n,strategy:r}=e;const s=(0,o.og)(),c=(0,l.i)({intl:s,quantity:n,strategy:r});return(0,a.tZ)(o.DH,{defaultMessage:"{expiration} • {formattedQuantity}",id:"OptionCaption.VerticalSpreadPosition",redOakId:"2819976",status:"approved",values:{expiration:(0,a.tZ)(i.H,{values:t}),formattedQuantity:c}})}function OptionPositionCaption(e){let{position:t}=e;const n=t.legs.first(void 0);return(0,r.Je)(t.strategy)&&n?(0,a.tZ)(SingleLegPositionCaption,{expirationDate:n.normalizedExpirationDate,positionType:n.position_type,quantity:t.quantity}):(0,r.MZ)(t.strategy)?(0,a.tZ)(VerticalSpreadPositionCaption,{expirationDates:t.expirationDates,quantity:t.quantity,strategy:t.strategy}):(0,r.u5)(t.strategy)?(0,a.tZ)(HorizontalSpreadPositionCaption,{expirationDates:t.expirationDates,quantity:t.quantity,strategy:t.strategy}):(0,r.K3)(t.strategy)?(0,a.tZ)(BuysPositionCaption,{expirationDates:t.expirationDates,quantity:t.quantity}):(0,r.hc)(t.strategy)?(0,a.tZ)(IronCondorPositionCaption,{expirationDates:t.expirationDates,quantity:t.quantity,strategy:t.strategy}):(0,a.tZ)(CustomPositionCaption,{direction:t.direction,expirationDates:t.expirationDates,quantity:t.quantity})}},5066:(e,t,n)=>{"use strict";n.d(t,{H:()=>OptionExpirationDateList});var r=n(27378),o=n(19207),i=n(10043);function OptionExpirationDateList(e){let{values:t}=e;return 1===t.count()?(0,i.tZ)(o.X,{value:t.first()}):(0,i.tZ)(r.Fragment,null,(0,i.tZ)(o.X,{value:t.first()})," – ",(0,i.tZ)(o.X,{value:t.last()}))}},76175:(e,t,n)=>{"use strict";n.d(t,{A:()=>OptionLabel});n(27378);var r=n(93284),o=n(19207),i=n(37335),a=n(10043);function OptionLabel(e){let{optionInstrument:t}=e;return(0,a.tZ)(r.DH,{defaultMessage:"{symbol} {strikePrice} {type} {expirationDate}",id:"formatting.OptionLabel",status:"legacy",values:{expirationDate:(0,a.tZ)(o.X,{value:t.normalizedExpirationDate}),strikePrice:(0,a.tZ)(i.C,{value:t.strike_price}),symbol:t.chain_symbol,type:(0,a.tZ)(r.DH,t.typeMessage)}})}},45538:(e,t,n)=>{"use strict";n.d(t,{t:()=>OptionPositionTitle});var r=n(27378),o=n(93284),i=n(10043);function OptionPositionTitle(e){let{position:t}=e;const n=(0,o.og)();return(0,i.tZ)(r.Fragment,null,t.getTitle(n))}},49398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>useCancelOptionOrder});var r=n(27378),o=n(10959),i=n(24498),a=n(67527),s=n(15379),l=n(84974),c=n(22903),u=n(81359),d=n(42579),p=n(95470),g=n(39989),m=n(62293),y=n(12633);function useCancelOptionOrder(e){let{onCancel:t,optionOrder:n,shouldRedirect:f=!1,source:v}=e;const h=(0,y.C$)(),[_,b]=(0,r.useState)(!1),[C,O]=(0,r.useState)(null),S=(0,a.X_)((0,i.DV)()).activeAccount;(0,p._)({account:S,orderId:_?n.id:void 0});const E=function useOnRedirect(e,t){const n=(0,o.k6)(),i=(0,y.C$)();return(0,r.useCallback)((async()=>{const r=e.legs.filter((e=>e.position_effect===d.yR.Close)).first(void 0);e.isSingleLegRollingOrder&&e.rollingStrategy&&(0,m.Je)(e.rollingStrategy)&&(0,m.q_)(e.rollingStrategy)&&r?(await i.invalidate({model:g.nN,params:{account_number:null==t?void 0:t.account_number,strategy_code:r.long_strategy_code}}),n.push("/options/".concat(r.long_strategy_code,"/roll"))):e.isSingleLegRollingOrder&&e.rollingStrategy&&(0,m.Je)(e.rollingStrategy)&&(0,m.iH)(e.rollingStrategy)&&r?(await i.invalidate({model:g.nN,params:{account_number:null==t?void 0:t.account_number,strategy_code:r.short_strategy_code}}),n.push("/options/".concat(r.short_strategy_code,"/roll"))):e.form_source===u.dG.StrategyChain&&e.opening_strategy?n.push("/options/chains/".concat(e.chain_id,"/builder/").concat(e.opening_strategy,"/"),{existingOrderId:e.id}):n.push("/options/chains/".concat(e.chain_id,"/"),{existingOrderId:e.id})}),[t,n,e,i])}(n,S);(0,r.useEffect)((()=>{_&&n.state===s.Kq.Cancelled&&(b(!1),t&&t(),f&&E())}),[_,t,E,n.state,f]);const P=(0,r.useCallback)((async()=>{try{b(!0),O(null),c.c.logCancelOptionOrderEvent(l.YB,n,v),await n.cancelOrder(),await h.invalidateAll_experimental(g.z9),await h.invalidateAll_experimental(g.JY)}catch(e){b(!1),O(e)}}),[n,h,v]);return[_,P,C]}},60339:(e,t,n)=>{"use strict";n.d(t,{L:()=>useNumberUnderlyingSharesAvailable});var r=n(24498),o=n(42925),i=n(67527),a=n(44574),s=n(12633);function useNumberUnderlyingSharesAvailable(e){var t,n;const{activeAccount:l}=(0,i.X_)((0,r.DV)()),c=null===(t=e.underlying_instruments.first(void 0))||void 0===t?void 0:t.instrument,u=(0,s.tT)({disabled:!(e.hasSingleUnderlyingInstrument&&c),model:a.k0,params:{id:a.k0.idFromUrl(null!=c?c:"")}}),d=(0,s.tT)({disabled:!u.result,many:!0,model:o.PositionRecord,params:{account_number:null==l?void 0:l.account_number}}),p=u.result?null===(n=d.result)||void 0===n?void 0:n.find((e=>{var t;return e.instrumentId===(null===(t=u.result)||void 0===t?void 0:t.id)})):void 0;return p?String(p.sharesAvailableForSell):"0"}},29699:(e,t,n)=>{"use strict";n.d(t,{k:()=>useOptionInstrumentToWatchlistItemMap});var r=n(27378);function useOptionInstrumentToWatchlistItemMap(e,t,n){const[o,i]=(0,r.useState)({});return(0,r.useEffect)((()=>{const r={};e&&t&&t.size>0&&(null==e||e.forEach((e=>{const o=null==n?void 0:n.find((t=>t.strategy_code===e.strategy_code)),i=null==t?void 0:t.find((e=>{var t;return e.id===(null==o||null===(t=o.legs.first(void 0))||void 0===t?void 0:t.option_id)}));i&&(r[e.id]=i)})),i(r))}),[t,n,e]),o}},95164:(e,t,n)=>{"use strict";n.d(t,{F:()=>useOptionListItems});var r=n(83589),o=n(39989),i=n(12633);function useOptionListItems(){let{sort:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sort:null};const t=(0,r.w)();return(0,i.tT)({disabled:!t,many:!0,model:o.HQ,params:{list_id:t,sort_direction:null==e?void 0:e.direction,sort_order:null==e?void 0:e.column}})}},83589:(e,t,n)=>{"use strict";n.d(t,{w:()=>useOptionWatchlistId});var r=n(27378),o=n(34359),i=n(13612);function useOptionWatchlistId(){const e=(0,o.d)();return(0,r.useMemo)((()=>{var t,n;const r=null===(t=e.result)||void 0===t?void 0:t.results.find((e=>e.allowed_object_types.includes(i.s.OptionStrategy)));return null!==(n=null==r?void 0:r.id)&&void 0!==n?n:void 0}),[e.result])}},95470:(e,t,n)=>{"use strict";n.d(t,{_:()=>usePollOptionOrder});var r=n(23104),o=n(63620),i=n(5606),a=n(16684),s=n(48666),l=n(39989);function usePollOptionOrder(e){let{account:t,orderId:n}=e;const c=(0,r.useDispatch)();(0,s.Y)((()=>{n&&(t&&c(a.A.issueFind({urlParams:{accountNumber:t.account_number,instrument_type:i.b.pendingOptions}},{fetchLimit:0})),c(l.VZ.issueFind({urlParams:{id:n}},{fetchLimit:0})))}),n?o.ORDER_POLL_FREQUENCY:null)}},40946:(e,t,n)=>{"use strict";n.d(t,{T:()=>useWaitForOptionsBuyingPower});var r=n(24498),o=n(67527),i=n(39989),a=n(12633);function useWaitForOptionsBuyingPower(e){var t;const{activeAccount:n}=(0,o.X_)((0,r.DV)());return null===(t=(0,o.X_)((0,o.S3)((0,a.tT)({disabled:e||!n,model:i.QY,params:{accountNumber:null==n?void 0:n.account_number}}))))||void 0===t?void 0:t.result}},24124:(e,t,n)=>{"use strict";n.d(t,{q:()=>createOptionMaps});var r=n(34051);function createOptionMaps(e){let{optionInstruments:t,optionPositions:n,optionQuotes:o}=e;const i=n?(0,r.Map)(n.map((e=>[e.id,e]))):(0,r.Map)();return{optionInstrumentsMap:t?(0,r.Map)(t.map((e=>[e.id,e]))):(0,r.Map)(),optionPositionsMap:i,optionQuotesMap:o?(0,r.Map)(o.map((e=>[e.instrument,e]))):(0,r.Map)()}}},75794:(e,t,n)=>{"use strict";n.d(t,{i:()=>getMultilegStrategyFormattedQuantity});var r=n(27548);function getMultilegStrategyFormattedQuantity(e){let{intl:t,processedQuantity:n=null,quantity:o,strategy:i}=e;const a=t.formatMessage(r.s.captionStrategy[i],{quantity:o});return null!==n?t.formatMessage(r.s.orderProcessedQuantity,{processedQuantity:n,quantity:o,strategy:a}):t.formatMessage(r.s.orderQuantity,{quantity:o,strategy:a})}},57390:(e,t,n)=>{"use strict";n.d(t,{DR:()=>getPositionType,FF:()=>areOpposingPositionTypes,IW:()=>areAllOptionLegsMatching,NH:()=>areAllOptionLegsOpposing,gO:()=>getPositionEffect,k3:()=>getSide});var r=n(15373),o=n.n(r),i=n(73367),a=n(42579);function getPositionEffect(e){let{positionType:t,side:n}=e;if(n===i.Side.Buy&&t===a.d.Long||n===i.Side.Sell&&t===a.d.Short)return a.yR.Open;if(n===i.Side.Buy&&t===a.d.Short||n===i.Side.Sell&&t===a.d.Long)return a.yR.Close;throw new Error("Invalid side ".concat(n," and position type ").concat(t))}function getPositionType(e){let{positionEffect:t,side:n}=e;if(n===i.Side.Buy&&t===a.yR.Open||n===i.Side.Sell&&t===a.yR.Close)return a.d.Long;if(n===i.Side.Sell&&t===a.yR.Open||n===i.Side.Buy&&t===a.yR.Close)return a.d.Short;throw new Error("Invalid position effect ".concat(t," and side ").concat(n))}function getSide(e){let{positionEffect:t,positionType:n}=e;if(t===a.yR.Open&&n===a.d.Long||t===a.yR.Close&&n===a.d.Short)return i.Side.Buy;if(t===a.yR.Open&&n===a.d.Short||t===a.yR.Close&&n===a.d.Long)return i.Side.Sell;throw new Error("Invalid position effect ".concat(t," and position type ").concat(n))}function areAllOptionLegsMatching(e,t){return e.size===t.size&&(e.size===t.size&&e.sort(((e,t)=>e.optionId.localeCompare(t.optionId))).zip(t.sort(((e,t)=>e.optionId.localeCompare(t.optionId)))).every((e=>e[0].optionId===e[1].optionId&&e[0].side===e[1].side&&o()(e[0].ratioQuantity).eq(e[1].ratioQuantity)&&e[0].positionEffect===e[1].positionEffect)))}function areAllOptionLegsOpposing(e,t){return e.size===t.size&&(e.size===t.size&&e.sort(((e,t)=>e.optionId.localeCompare(t.optionId))).zip(t.sort(((e,t)=>e.optionId.localeCompare(t.optionId)))).every((e=>e[0].optionId===e[1].optionId&&o()(e[0].ratioQuantity).eq(e[1].ratioQuantity)&&areOpposingPositionTypes(e[0].positionType,e[1].positionType))))}function areOpposingPositionTypes(e,t){return e===a.d.Long&&t===a.d.Short||e===a.d.Short&&t===a.d.Long}},32008:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r,o,i=n(64649),a=n(63620),s=n(12633),l=n(38237);let c=(0,s.OF)((o=class ProfileInfoRecord extends((0,l.a)({color:"blue",id:"",join_date:a.UNDEFINED_DATE_STRING,media:null,name:"",username:""},"ProfileInfoRecord")){static url(){return this.urlRoot}get url(){return ProfileInfoRecord.urlRoot}},(0,i.Z)(o,"urlPath","/profile/user/"),r=o))||r},34314:(e,t,n)=>{"use strict";n.d(t,{m:()=>useRecurringCreateContext,t:()=>o});var r=n(27378);const o=r.createContext({overrideFrequency:void 0});function useRecurringCreateContext(){return(0,r.useContext)(o)}o.displayName="RecurringCreateContext"},96908:(e,t,n)=>{"use strict";n.d(t,{o:()=>RecurringFieldWrapper});n(27378);var r=n(10043);const o={field:{name:"h7lpx4",styles:"text-align:right;width:136px"},isLegacyCryptoOrderForm:{name:"n4gikq",styles:"font-size:12px;width:110px"},isLong:{name:"1tpdvqq",styles:"width:240px"}};function RecurringFieldWrapper(e){let{children:t,shouldUseLegacyCryptoOrderForm:n=!1,shouldUseLongField:i}=e;return(0,r.tZ)("div",{css:[o.field,i&&o.isLong,n&&o.isLegacyCryptoOrderForm,""]},t)}},32637:(e,t,n)=>{"use strict";n.d(t,{b:()=>RecurringWizard});var r,o=n(27378),i=n(97224),a=n(38978),s=n(76657),l=n(22391),c=n(89263),u=n(21675),d=n(73367),p=n(79167),g=n(67527),m=n(50389),y=n(93284),f=n(19114),v=n(12633),h=n(74208),_=n(61001),b=n(21676),C=n(61096),O=n(95662),S=n(10043);var E={name:"q82wrr",styles:"display:grid;gap:8px;width:448px"},P={name:"18n0cmw",styles:"margin-bottom:28px;margin-top:73px"},Z={name:"j9a02z",styles:"margin-top:6px"};function PaycheckInvestmentAgreementContent(e){let{investmentAsset:t,onComplete:n}=e;const o=(0,y.og)(),i=(0,O.t)("disclosure","20SLISFFDorGaBTf4k06TW"),s=(0,O.t)("disclosure","7i609eX5J2q3x4H2W78VuO"),l=(null==t?void 0:t.asset_type)===c.L6.CRYPTO?i.result:s.result;return(0,S.tZ)("div",{css:E},r||(r=(0,S.tZ)(u.Dy.Display,{size:"M"},(0,S.tZ)(y.DH,{defaultMessage:"Paycheck recurring investment agreement",id:"PaycheckInvestmentAgreement.Header",status:"legacy"}))),(null==l?void 0:l.content)&&(0,S.tZ)(u.Dy.Text,{size:"M"},(0,S.tZ)(_.UG,{source:l.content})),(0,S.tZ)("div",{css:P},(0,S.tZ)(u.Dy.Text,{color:a.Wt.Fg2,size:"S"},(0,S.tZ)(y.DH,{defaultMessage:"By continuing, I agree to the terms and conditions as provided for in my {disclosureLink}.",id:"PaycheckInvestmentAgreement.Disclosure",status:"legacy",values:{disclosureLink:(0,S.tZ)(C.A,{href:"https://cdn.robinhood.com/assets/robinhood/legal/robinhood-paycheck-recurring-investments-customer-agreement.pdf",label:o.formatMessage({defaultMessage:"Paycheck Recurring Investments Agreement",id:"PaycheckInvestmentAgreement.Disclosure.Link",status:"legacy"}),type:"anchor",variant:"inline"})}}))),(0,S.tZ)(b.z,{color:a.Wt.Fg1,css:Z,foregroundColor:a.Wt.Bg1,label:o.formatMessage({defaultMessage:"Continue",id:"PaycheckInvestmentAgreement.Button",status:"legacy"}),onClick:n,type:"button",width:"full"}))}var D=n(50169),T=n(25773),w=n(53782),I=n(21581),k=n(71881),x=n(62792),R=n(10974),M=n(95525),L=n(44574),A=n(63783),F=n(71075),N=n(78381),B=n(1972);function CreationFlowCopy(e){var t;let{dollarAmount:n,investmentAsset:r,percentageOfDirectDeposit:o,recurringAmountType:i,recurringStartDate:a,scheduleFrequency:s}=e;return(0,S.tZ)(N.f,{dollarAmount:null!=n?n:"",isCrypto:(null==r?void 0:r.asset_type)===B.L.CRYPTO,percentageOfDirectDeposit:o,recurringAmountType:i,recurringStartDate:a,scheduleFrequency:s,symbol:null!==(t=null==r?void 0:r.asset_symbol)&&void 0!==t?t:""})}var j,H=n(39937),U=n(35002),z=n(32086),W=n(85770),q=n(87550);const Y=(0,y.B2)({frequencyChange:{defaultMessage:"You're changing your investment schedule from {originalFrequency} to {newFrequency}.",id:"RecurringWizard.frequencyChange",status:"legacy"},nextInvestmentChange:{defaultMessage:"Your next order will be placed {nextInvestmentDateMsg}{startDateChangeMsg}. ",id:"RecurringWizard.nextInvestmentChange",status:"legacy"},paycheckInvestmentChange:{defaultMessage:"Your next investment will be placed when your next paycheck is deposited into your account.",id:"RecurringWizard.paycheckInvestmentChange",status:"legacy"},scheduleChange:{defaultMessage:"Schedule change",id:"RecurringWizard.EditWizard.scheduleChangeCopy",status:"legacy"},startDateChange:{defaultMessage:" instead of {previousStartDate}",id:"RecurringWizard.EditWizard.startDateChange",status:"legacy"}});function EditFlowCopy(e){let{nextInvestmentDate:t,recurringStartDate:n,schedule:r,scheduleFrequency:i}=e;const a=!(0,H.default)(r.nextInvestmentDate,n),s=r.frequency!==i,l=(0,q.ak)(r.nextInvestmentDate),c=i===d.ScheduleFrequency.PAYCHECK,u=r.isCrypto?W._5:W.mu;return(0,S.tZ)(o.Fragment,null,(0,S.tZ)(k.Y,{icon:j||(j=(0,S.tZ)(U.sg,{type:"Info16"}))},(0,S.tZ)(y.DH,Y.scheduleChange)),s&&(0,S.tZ)(y.DH,(0,T.Z)({},Y.frequencyChange,{values:{newFrequency:u[i].defaultMessage.toLowerCase(),originalFrequency:u[r.frequency].defaultMessage.toLowerCase()}})),(0,S.tZ)("p",null,c?(0,S.tZ)(y.DH,Y.paycheckInvestmentChange):(0,S.tZ)(y.DH,(0,T.Z)({},Y.nextInvestmentChange,{values:{nextInvestmentDateMsg:(0,S.tZ)(z.A,{isDateBold:!0,startDate:t}),startDateChangeMsg:a&&!s&&(0,S.tZ)(y.DH,(0,T.Z)({},Y.startDateChange,{values:{previousStartDate:l}}))}}))))}const V=["error","flow","schedule","stage"],G={copy:(0,S.iv)({marginTop:2*D.q3},"")};function ErrorUpdate(e){var t,n;let{error:r}=e;const o=(0,R.D)(r);return(0,S.tZ)(A.iC,{collapsed:!r},(0,S.tZ)(I.Z,null,(0,S.tZ)(x.n,{duration:D.JL,unmountOnExit:!0},(0,S.tZ)(k.Y,null,null!==(t=null!==(n=null==r?void 0:r.errorTitle)&&void 0!==n?n:null==o?void 0:o.errorTitle)&&void 0!==t?t:"Error"),null==r?void 0:r.errorMessage)))}function RecurringProspectus(e){var t;let{investmentAsset:n}=e;const{asset_id:r}=n,o=(0,y.og)(),i=(0,v.tT)({model:L.k0,params:{id:r}}),a=(0,v.tT)({disabled:!(null!==(t=i.result)&&void 0!==t&&t.isEtf),model:L.t3,params:{instrument_id:r}});return a.result?(0,S.tZ)(M.S,{customLabel:o.formatMessage({defaultMessage:"View {symbol} prospectus",id:"RecurringProspectus.label",status:"legacy"},{symbol:n.asset_symbol}),etpDetails:a.result,instrumentId:r}):null}function RecurringWizardCopy(e){var t;let{error:n,flow:r,schedule:o,stage:i}=e,a=(0,w.Z)(e,V);return(0,S.tZ)("div",{css:(!["editing","checking"].includes(i)||n)&&G.copy},(0,S.tZ)(ErrorUpdate,{error:n}),r===F.H.Creating&&"editing"===i&&!n&&(null===(t=a.investmentAsset)||void 0===t?void 0:t.asset_type)===c.L6.EQUITY&&(0,S.tZ)(RecurringProspectus,{investmentAsset:a.investmentAsset}),(0,S.tZ)(A.iC,{collapsed:Boolean(["editing","checking"].includes(i)||n)},(0,S.tZ)(I.Z,null,(0,S.tZ)(x.n,{duration:D.JL,unmountOnExit:!0},o&&r===F.H.Editing&&(0,S.tZ)(EditFlowCopy,(0,T.Z)({error:n,schedule:o,stage:i},a)),r===F.H.Creating&&(0,S.tZ)(CreationFlowCopy,(0,T.Z)({error:n,schedule:o,stage:i},a))))))}var K,Q,X=n(7467);var J={name:"8rbdel",styles:"margin-top:20px;text-align:center"};function Disclaimer(e){let{flow:t,stage:n}=e;const r=(0,y.og)(),[i,s]=(0,o.useState)(!1),openDisclaimerModal=()=>s(!0),closeDisclaimerModal=()=>s(!1);return t===F.H.Creating&&n===p.oI.Editing?(0,S.tZ)(o.Fragment,null,(0,S.tZ)("p",{css:J},(0,S.tZ)(u.Dy.Text,{color:a.Wt.Fg2,size:"S"},(0,S.tZ)(y.DH,{defaultMessage:"Stocks and ETFs are offered through Robinhood Financial and crypto is offered through Robinhood Crypto. Not an investment recommendation. All investments involve risks, including the loss of principal. Your brokerage account is... {showMore}",id:"RecurringWizardFooter.Disclaimer",status:"legacy",values:{showMore:(0,S.tZ)(C.A,{color:a.Wt.Fg2,label:r.formatMessage({defaultMessage:"Show more",id:"RecurringWizardFooter.Disclaimer.Modal.showMore",status:"legacy"}),onClick:openDisclaimerModal,type:"button",variant:"inline"})}}))),i&&(0,S.tZ)(X.u,{onClose:closeDisclaimerModal,width:"narrow"},K||(K=(0,S.tZ)(X.u.Header,{title:""})),Q||(Q=(0,S.tZ)("p",null,(0,S.tZ)(u.Dy.Text,{size:"S"},(0,S.tZ)(y.DH,{defaultMessage:'Stocks and ETFs are offered through Robinhood Financial and crypto is offered through Robinhood Crypto. Not an investment recommendation. All investments involve risks, including the loss of principal. Your brokerage account is offered through Robinhood Financial, LLC, ("RHF") a registered broker dealer (member SIPC) and Robinhood Securities, LLC, ("RHS") a registered broker dealer (member SIPC). Your cryptocurrency account is offered through Robinhood Crypto, LLC ("RHC") (NMLS ID: 1702840). Your spending account is offered through Robinhood Money, LLC ("RHY") (NMLS ID: 1990968), a licensed money transmitter. RHF, RHY, RHC and RHS are affiliated entities and wholly owned subsidiaries of Robinhood Markets, Inc. RHF, RHY, RHC and RHS are not banks. Securities products offered by RHF are not FDIC insured and involve risk, including possible loss of principal. Cryptocurrencies held in RHC accounts are not FDIC insured nor SIPC protected. RHY products are not subject to SIPC protection but funds held in the spending account and card account may be eligible for FDIC pass-through insurance.',id:"RecurringWizardFooter.Disclaimer.Modal.Text.Equity",status:"legacy"})))),(0,S.tZ)(X.u.Footer,{primaryButton:{label:r.formatMessage({defaultMessage:"Dismiss",id:"RecurringWizardFooter.Disclaimer.Modal.Dismiss",status:"legacy"}),onClick:closeDisclaimerModal}}))):null}var $=n(64649),ee=n(22170);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const te={[F.H.Editing]:{review:(0,y.b2)({defaultMessage:"Review Changes",id:"RecurringWizard.action.edit.review",status:"legacy"}),submit:(0,y.b2)({defaultMessage:"Save Changes",id:"RecurringWizard.action.edit.submit",status:"legacy"})},[F.H.Creating]:{review:(0,y.b2)({defaultMessage:"Review",id:"RecurringWizard.action.create.review",status:"legacy"}),submit:(0,y.b2)({defaultMessage:"Submit",id:"RecurringWizard.action.create.submit",status:"legacy"})}},PrimaryButton=e=>{var t;let{disabled:n,error:r,flow:i,stage:a}=e;const s=(0,y.og)();let l="default";return a===p.oI.Checking||a===p.oI.Submitting?l="loading":n&&(l="disabled"),(0,S.tZ)(o.Fragment,null,null!==(t=null==r?void 0:r.primaryButton)&&void 0!==t?t:(0,S.tZ)(ee.z,{label:a===p.oI.Editing?s.formatMessage(_objectSpread({},te[i].review)):s.formatMessage(_objectSpread({},te[i].submit)),state:l,type:"submit",width:"full"}))},SecondaryButton=e=>{var t;let{error:n,onClose:r,onResetForm:i,stage:a}=e;const s=(0,y.og)(),l=[p.oI.Reviewing,p.oI.Submitting].includes(a);return(0,S.tZ)(o.Fragment,null,null!==(t=null==n?void 0:n.secondaryButton)&&void 0!==t?t:(0,S.tZ)(ee.z,{label:l&&!n?s.formatMessage({defaultMessage:"Edit",id:"RecurringWizard.Edit.action.edit",status:"legacy"}):s.formatMessage({defaultMessage:"Cancel",id:"RecurringWizard.Edit.action.cancel",status:"legacy"}),onClick:l?i:r,type:"button",variant:"secondary",width:"full"}))},ne={button:(0,S.iv)({display:"grid",gap:D.q3,grid:"auto / 1fr 1fr",marginTop:2*D.q3},"")};function RecurringWizardFooter(e){let{disablePrimaryButton:t,dollarAmount:n,error:r,flow:o,investmentAsset:i,isInPaycheckHub:a,nextInvestmentDate:s,onClose:l,onResetForm:c,percentageOfDirectDeposit:u,recurringAmountType:d,recurringStartDate:p,schedule:g,scheduleFrequency:m,stage:y}=e;return(0,S.tZ)("footer",null,(0,S.tZ)(RecurringWizardCopy,{dollarAmount:n,error:r,flow:o,investmentAsset:i,nextInvestmentDate:s,percentageOfDirectDeposit:u,recurringAmountType:d,recurringStartDate:p,schedule:g,scheduleFrequency:m,stage:y}),(0,S.tZ)("span",{css:ne.button},(0,S.tZ)(PrimaryButton,{disabled:t,error:r,flow:o,stage:y}),(0,S.tZ)(SecondaryButton,{error:r,onClose:l,onResetForm:c,stage:y})),a&&(0,S.tZ)(Disclaimer,{flow:o,stage:y}))}var re=n(23104),oe=n(2420),ie=n(85453),ae=n(23474),se=n(24498),le=n(42925),ce=n(26616),ue=n(35429),de=n(51694),pe=n(9647);const cryptoOrderFormValueSelector=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(0,pe.iY)(e)(t,...r)};var ge=n(15238),me=n(15373),ye=n.n(me),fe=n(25718),ve=n(82665),he=n(5266);function Amount(e){let{amount:t,assetCurrency:n,entryType:r}=e;return r===de.CF.Quote?(0,S.tZ)(y.DH,{defaultMessage:"{amount} of {currencyName}",id:"CryptoOrderForm.Amount.quote",status:"legacy",values:{amount:(0,S.tZ)(fe.tA,{value:t}),currencyName:n.name}}):(0,S.tZ)(y.DH,{defaultMessage:"{amount} {currencyCode}",id:"CryptoOrderForm.Amount.asset",status:"legacy",values:{amount:(0,S.tZ)(fe.iz,{value:t}),currencyCode:n.code}})}const _e={[d.OrderType.Market]:{[d.Side.Buy]:{[de.CF.Quote]:(0,y.b2)({defaultMessage:"You are placing an order to buy {amount}. The amount purchased may vary due to market volatility. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.market.buy.quoteCurrency",status:"legacy"}),[de.CF.Asset]:(0,y.b2)({defaultMessage:"You are placing an order to buy {amount}. The total cost may vary due to market volatility. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.market.buy.assetCurrency",status:"legacy"})},[d.Side.Sell]:{[de.CF.Quote]:(0,y.b2)({defaultMessage:"You are placing an order to sell {amount}. The amount sold may vary due to market volatility. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.market.sell.quoteCurrency",status:"legacy"}),[de.CF.Asset]:(0,y.b2)({defaultMessage:"You are placing an order to sell {amount}. The total credit may vary due to market volatility. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.market.sell.assetCurrency",status:"legacy"})}},[d.OrderType.Limit]:{[d.Side.Buy]:(0,y.b2)({defaultMessage:"You are placing a limit order to buy {amount}. Your order, if executed, will execute at {limitPrice} per {code} or better. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.limit.buy",status:"legacy"}),[d.Side.Sell]:(0,y.b2)({defaultMessage:"You are placing a limit order to sell {amount}. Your order, if executed, will execute at {limitPrice} per {code} or better and result in a credit of {minCredit} or greater. Once executed the transaction may not be undone. Cryptocurrencies offered by Robinhood Crypto, LLC are not securities and are not FDIC insured or protected by SIPC.",id:"CryptoOrderForm.OrderSummary.limit.sell",status:"legacy"})},[d.OrderType.Recurring]:{[d.Side.Buy]:(0,y.b2)({defaultMessage:"Recurring Buy",id:"CryptoOrderForm.OrderSummary.recurring.buy",status:"legacy"}),[d.Side.Sell]:(0,y.b2)({defaultMessage:"Recurring Sell",id:"CryptoOrderForm.OrderSummary.recurring.sell",status:"legacy"})}};var be;const getMinCredit=e=>{let{amount:t,entryType:n,limitPrice:r,marketPrice:o}=e;return n===de.CF.Quote?String(ye()(t||0).times(r||0).div(o)):String(ye()(t||0).times(r||0))};class Copy extends o.Component{render(){const{amount:e,currencyPair:t,currencyPairQuote:n,entryType:r,price:o,side:i,type:a}=this.props,s={};return s.code=t.asset_currency.code,s.amount=(0,S.tZ)(Amount,{amount:e,assetCurrency:t.asset_currency,entryType:r}),a===d.OrderType.Limit&&(s.limitPrice=(0,S.tZ)(fe.tA,{value:o}),i===d.Side.Sell&&(s.minCredit=(0,S.tZ)(fe.tA,{maximumFractionDigits:t.maximumFractionDigitsForPrice,value:getMinCredit({amount:e,entryType:r,limitPrice:o,marketPrice:n.getMarketPrice(i)})}))),(0,S.tZ)("p",null,(0,S.tZ)(y.DH,(0,T.Z)({},a===d.OrderType.Market?_e[a][i][r]:_e[a][i],{values:s}))," ",be||(be=(0,S.tZ)(ve.I,{to:"https://cdn.robinhood.com/assets/robinhood/legal/RHC%20Risk%20Disclosure.pdf"},(0,S.tZ)(y.DH,{id:"Disclosures",status:"legacy"}))))}}const Ce=(0,re.connect)(((e,t)=>{let{form:n}=t;return cryptoOrderFormValueSelector(n,e,"amount","price","side","type")}),{issueHideTakeover:he.kC,issueShowTakeover:he.L8})(Copy);const Oe=(0,re.connect)(((e,t)=>{let{form:n}=t;return{side:cryptoOrderFormValueSelector(n,e,"side")}}))((function PrimaryButtonImplementation(e){let{reviewing:t,side:n,submitting:r}=e;const o=(0,y.og)();if(t){let e=o.formatMessage({defaultMessage:"Submit",id:"CryptoOrderForm.button.submit",status:"legacy"});return n&&(e=n===d.Side.Buy?o.formatMessage({defaultMessage:"Submit Buy",id:"CryptoOrderForm.button.buy",status:"legacy"}):o.formatMessage({defaultMessage:"Submit Sell",id:"CryptoOrderForm.button.buy",status:"legacy"})),(0,S.tZ)(ee.z,{"data-testid":ge.c.OrderForm.PrimaryButtonSubmit,label:e,state:r?"loading":"default",type:"submit"})}return(0,S.tZ)(ee.z,{"data-testid":ge.c.OrderForm.PrimaryButtonReview,label:o.formatMessage({defaultMessage:"Review Order",id:"CryptoOrderForm.button.review",status:"legacy"}),state:r?"loading":"default",type:"submit"})}));function EditButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Edit",id:"CryptoOrderForm.button.edit",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}var Se,Ee,Pe,Ze,De,Te,we,Ie,ke,xe,Re,Me=n(90956),Le=n(13221);class CryptoOrderFormError extends Le.default{constructor(e){super(),(0,$.Z)(this,"data",void 0),this.data=e}}class errors_InvalidLimitPriceError extends CryptoOrderFormError{}class errors_MinOrderSizeViolationError extends CryptoOrderFormError{}class errors_MaxOrderSizeViolationError extends CryptoOrderFormError{}class MaxBuyingPowerExceededError extends CryptoOrderFormError{}class ExceedMaxBuyingPowerBelowFullBuyingPowerError extends CryptoOrderFormError{}class MaxBuyingPowerExceededLimitedByCollarError extends CryptoOrderFormError{}class errors_WholePositionSellError extends CryptoOrderFormError{}class errors_NotEnoughHoldingError extends CryptoOrderFormError{}class Min2kMarginUnleveredError extends CryptoOrderFormError{}class Min2kMarginLeveredError extends CryptoOrderFormError{}class Min25kMarginDayTradeWarning extends CryptoOrderFormError{}class Min25kMarginDayTradeRestriction extends CryptoOrderFormError{}class InvalidFieldError extends CryptoOrderFormError{}class MissingRecordError extends CryptoOrderFormError{}class MinRecurringOrderSizeError extends CryptoOrderFormError{}class MaxRecurringOrderSizeError extends CryptoOrderFormError{}class ExceedBuyingPowerWarning extends CryptoOrderFormError{}class ACHRelationshipsWithdrawalLimitWarning extends CryptoOrderFormError{}function ContinueButton(e){let{onContinueReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Continue",id:"CryptoOrderForm.ACHRelationshipsWithdrawalLimitWarning.continue",status:"legacy"}),onClick:t,type:"button",width:"full"})}function getACHRelationshipsWithdrawalLimitWarningProps_EditButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Edit",id:"CryptoOrderForm.ACHRelationshipsWithdrawalLimitWarning.edit",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}function getExceedBuyingPowerWarningProps_ContinueButton(e){let{onContinueReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Continue",id:"ExceedBuyingPowerWarning.continue",status:"legacy"}),onClick:t,type:"button",width:"full"})}function DismissButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Dismiss",id:"ExceedBuyingPowerWarning.Dismiss",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}function CancelButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Cancel",id:"ExceedMaxBuyingPowerBelowFullBuyingPowerError.Cancel",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}function BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"CryptoOrder.Back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}function getInvalidLimitPriceErrorProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"InvalidLimitPriceError.Back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}var Ae,Fe,Ne,Be,je,He,Ue,ze,We,qe,Ye,Ve,Ge=n(39984);function MaxBuyingPowerExceededErrorCopy(){return Ae||(Ae=(0,S.tZ)(y.DH,{defaultMessage:"You don’t have enough buying power to place this order.",id:"MaxBuyingPowerExceededError.message",status:"legacy"}))}function getMaxBuyingPowerExceededErrorProps(e){let{cancelReviewing:t,currencyPair:n}=e;const{primaryButton:r,secondaryButton:o}=function renderMaxBuyingPowerExceededErrorButtons(e){let{cancelReviewing:t,currencyPair:n}=e;return"USD"===n.quote_currency.code?{primaryButton:(0,S.tZ)(Ge.D,{cancelReviewing:t}),secondaryButton:(0,S.tZ)(getMaxBuyingPowerExceededErrorProps_CancelButton,{cancelReviewing:t})}:{primaryButton:(0,S.tZ)(getMaxBuyingPowerExceededErrorProps_BackButton,{cancelReviewing:t}),secondaryButton:null}}({cancelReviewing:t,currencyPair:n});return{copy:Fe||(Fe=(0,S.tZ)(MaxBuyingPowerExceededErrorCopy,null)),primaryButton:r,secondaryButton:o,status:Ne||(Ne=(0,S.tZ)(y.DH,{defaultMessage:"Not Enough Buying Power",id:"MaxBuyingPowerExceededError.status.message",status:"legacy"}))}}function getMaxBuyingPowerExceededErrorProps_CancelButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Cancel",id:"CryptoOrderForm.getMaxBuyingPowerExceededErrorProps.cancel",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:"secondary",width:"full"})}function getMaxBuyingPowerExceededErrorProps_BackButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Back",id:"CryptoOrderForm.getMaxBuyingPowerExceededErrorProps.back",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:"primary",width:"full"})}function Copy_MaxBuyingPowerExceededErrorCopy(){return Be||(Be=(0,S.tZ)("div",null,(0,S.tZ)("p",null,(0,S.tZ)(y.DH,{defaultMessage:"Market orders on Robinhood are placed as limit orders at 1% above the market price in order to protect customers from overdraft.",id:"MaxBuyingPowerExceededLimitByCollarError.priceCollarExplanation",status:"legacy"})),(0,S.tZ)("p",null,(0,S.tZ)(y.DH,{defaultMessage:"If you want to use your full buying power, you can make this a limit order instead.",id:"MaxBuyingPowerExceededLimitByCollarError.message",status:"legacy"}))))}function getMaxBuyingPowerExceededLimitedByCollarErrorProps(e){let{cancelReviewing:t,form:n}=e;const{primaryButton:r,secondaryButton:o}=function renderButtons(e){let{cancelReviewing:t,form:n}=e;return{primaryButton:(0,S.tZ)(getMaxBuyingPowerExceededLimitedByCollarErrorProps_PrimaryButton,{cancelReviewing:t,form:n}),secondaryButton:(0,S.tZ)(getMaxBuyingPowerExceededLimitedByCollarErrorProps_BackButton,{cancelReviewing:t})}}({cancelReviewing:t,form:n});return{copy:je||(je=(0,S.tZ)(Copy_MaxBuyingPowerExceededErrorCopy,null)),primaryButton:r,secondaryButton:o,status:He||(He=(0,S.tZ)(y.DH,{defaultMessage:"Not Enough Buying Power",id:"MaxBuyingPowerExceededLimitByCollarError.status.message",status:"legacy"}))}}function getMaxBuyingPowerExceededLimitedByCollarErrorProps_PrimaryButton(e){let{cancelReviewing:t,form:n}=e;const r=(0,y.og)(),o=(0,re.useDispatch)();return(0,S.tZ)(ee.z,{label:r.formatMessage({defaultMessage:"Make Limit",id:"CryptoOrder.makeLimit",status:"legacy"}),onClick:()=>{o((0,pe.m)(n,"type",d.OrderType.Limit)),t()},type:"button",width:"full"})}function getMaxBuyingPowerExceededLimitedByCollarErrorProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"CryptoOrder.Back",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}function getMaxRecurringOrderSizeErrorProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"MaxRecurringOrderSize.Back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}function renderMin25kMarginDayTradeRestrictionCopy(e){let{amount:t,currencyPair:n,entryType:r,error:o}=e;const{availableAmount:i,depositAmount:a}=o.data,{code:s,name:l}=n.asset_currency,c=n.min_order_quantity_increment,u=We||(We=(0,S.tZ)(ve.I,{to:"https://robinhood.com/support/articles/account-limitations"},(0,S.tZ)(y.DH,{id:"Learn More",status:"legacy"})));return r===de.CF.Asset?ye()(i).eq(0)?(0,S.tZ)(y.DH,{defaultMessage:"Because you’ve placed more than four day trades of stocks, you need to deposit at least {depositAmount} to purchase up to {amount} and protect yourself from market fluctuations. {learnMore}",id:"Min25kMarginDayTradeRestriction.asset.noAvailableAmount.message",status:"legacy",values:{amount:(0,S.tZ)(fe.iz,{code:s,increment:c,value:t}),depositAmount:(0,S.tZ)(fe.tA,{value:a}),learnMore:u}}):(0,S.tZ)(y.DH,{defaultMessage:"Because you’ve placed more than four day trades of stocks, you may only purchase up to {availableAmount}. You may buy up to {amount} by depositing funds. {learnMore}",id:"Min25kMarginDayTradeRestriction.asset.message",status:"legacy",values:{amount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:t}),availableAmount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:i}),learnMore:u}}):ye()(i).eq(0)?(0,S.tZ)(y.DH,{defaultMessage:"Because you’ve placed more than four day trades of stocks, you need to deposit at least {depositAmount} to purchase up to {amount} of {assetCurrencyName} and protect yourself from market fluctuations. {learnMore}",id:"Min25kMarginDayTradeRestriction.quote.noAvailableAmount.message",status:"legacy",values:{amount:(0,S.tZ)(fe.tA,{value:t}),assetCurrencyName:l,depositAmount:(0,S.tZ)(fe.tA,{value:a}),learnMore:u}}):(0,S.tZ)(y.DH,{defaultMessage:"Because you’ve placed more than four day trades of stocks, you may only purchase up to {availableAmount} of {assetCurrencyName}. You may buy up to {amount} by depositing funds. {learnMore}",id:"Min25kMarginDayTradeRestriction.quote.message",status:"legacy",values:{amount:(0,S.tZ)(fe.tA,{value:t}),assetCurrencyName:l,availableAmount:(0,S.tZ)(fe.tA,{value:i}),learnMore:u}})}function getMin25kMarginDayTradeRestrictionProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"CryptoOrderForm.Min25kMarginDayTradeRestriction.back",status:"legacy"}),onClick:()=>{t()},type:"button",variant:"secondary",width:"full"})}function CopyForNoAvailableAmount(e){let{amount:t,currencyPair:n,depositAmount:r,entryType:o,learnMore:i}=e;return o===de.CF.Asset?(0,S.tZ)(y.DH,{defaultMessage:"Because you’re marked as a Pattern Day Trader, in order to avoid restrictions, you need to deposit at least {depositAmount} to purchase up to {amount} and protect yourself from market fluctuations. {learnMore}",id:"Min25kMarginDayTradeWarning.asset.noAvailableAmount.message",status:"legacy",values:{amount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:t}),depositAmount:(0,S.tZ)(fe.tA,{value:r}),learnMore:i}}):(0,S.tZ)(y.DH,{defaultMessage:"Because you’re marked as a Pattern Day Trader, in order to avoid restrictions, you need to deposit at least {depositAmount} to purchase up to {amount} of {assetCurrencyName} and protect yourself from market fluctuations. {learnMore}",id:"Min25kMarginDayTradeWarning.quote.noAvailableAmount.message",status:"legacy",values:{amount:(0,S.tZ)(fe.tA,{value:t}),assetCurrencyName:n.asset_currency.name,depositAmount:(0,S.tZ)(fe.tA,{value:r}),learnMore:i}})}function renderMin25kMarginDayTradeWarningCopy(e){let{amount:t,currencyPair:n,entryType:r,error:o}=e;const{availableAmount:i,depositAmount:a}=o.data,s=n.asset_currency.name,l=Ye||(Ye=(0,S.tZ)(ve.I,{to:"https://robinhood.com/support/articles/account-limitations"},(0,S.tZ)(y.DH,{id:"Learn More",status:"legacy"})));return ye()(i).eq(0)?(0,S.tZ)(CopyForNoAvailableAmount,{amount:t,availableAmount:i,currencyPair:n,depositAmount:a,learnMore:l}):r===de.CF.Asset?(0,S.tZ)(y.DH,{defaultMessage:"Because you’re marked as a Pattern Day Trader, your account will be restricted from day trading stocks if you purchase {amount}. You may purchase up to {availableAmount} to avoid restrictions. {learnMore}",id:"Min25kMarginDayTradeWarning.asset.message",status:"legacy",values:{amount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:t}),availableAmount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:i}),learnMore:l}}):(0,S.tZ)(y.DH,{defaultMessage:"Because you’re marked as a Pattern Day Trader, your account will be restricted from day trading stocks if you purchase {amount} of {assetCurrencyName}. You may purchase up to {availableAmount} to avoid restrictions. {learnMore}",id:"Min25kMarginDayTradeWarning.quote.message",status:"legacy",values:{amount:(0,S.tZ)(fe.tA,{value:t}),assetCurrencyName:s,availableAmount:(0,S.tZ)(fe.tA,{value:i}),learnMore:l}})}function getMin25kMarginDayTradeWarningProps_CancelButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Cancel",id:"CryptoOrderForm.Min25kMarginDayTradeWarning.cancel",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:e.variant,width:"full"})}function getMin25kMarginDayTradeWarningProps_ContinueButton(e){let{onContinueReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Continue",id:"CryptoOrderForm.Min25kMarginDayTradeWarning.continue",status:"legacy"}),onClick:t,type:"button",variant:"secondary",width:"full"})}function getMin25kMarginDayTradeWarningProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,onContinueReviewing:a}=e;const{primaryButton:s,secondaryButton:l}=function getMin25kMarginDayTradeWarningProps_renderButtons(e){let{cancelReviewing:t,error:n,onContinueReviewing:r}=e;return ye()(n.data.availableAmount).eq(0)?{primaryButton:(0,S.tZ)(Ge.D,{cancelReviewing:t}),secondaryButton:(0,S.tZ)(getMin25kMarginDayTradeWarningProps_CancelButton,{cancelReviewing:t,variant:"secondary"})}:{primaryButton:(0,S.tZ)(getMin25kMarginDayTradeWarningProps_CancelButton,{cancelReviewing:t,variant:"primary"}),secondaryButton:(0,S.tZ)(getMin25kMarginDayTradeWarningProps_ContinueButton,{onContinueReviewing:r})}}({cancelReviewing:n,error:i,onContinueReviewing:a});return{copy:(0,S.tZ)(renderMin25kMarginDayTradeWarningCopy,{amount:t,currencyPair:r,entryType:o,error:i}),primaryButton:s,secondaryButton:l,status:Ve||(Ve=(0,S.tZ)(y.DH,{defaultMessage:"Pattern Day Trader Minimum",id:"CryptoOrderForm.Min25kMarginDayTradeWarning.status",status:"legacy"}))}}var Ke,Qe,Xe,Je,$e,et,tt,nt,rt,ot,it=n(83055);function Copy_Copy(e){let{currencyPair:t,entryType:n,error:r}=e;const o=(0,y.og)(),{availableAmount:i}=r.data,a=t.asset_currency.name,s=(0,S.tZ)(C.A,{href:"https://robinhood.com/support/articles/margin-overview",label:o.formatMessage({defaultMessage:"Learn More",id:"Min2kMarginUnleveredError.learnmore",status:"legacy"}),type:"anchor",variant:"inline"});return n===de.CF.Quote?(0,S.tZ)(y.DH,{defaultMessage:"This transaction will bring your brokerage margin account below the federal minimum requirement of $2,000. You may only purchase up to {availableAmount} of {assetCurrencyName}. {learnMore} {lineBreak} {lineBreak} Please note: Crypto is non-marginable",id:"Min2kMarginUnleveredError.quote.decouple.message",status:"legacy",values:{assetCurrencyName:a,availableAmount:(0,S.tZ)(fe.tA,{value:i}),learnMore:s,lineBreak:Ke||(Ke=(0,S.tZ)("br",null))}}):(0,S.tZ)(y.DH,{defaultMessage:"This transaction will bring your brokerage margin account below the federal minimum requirement of $2,000. You may only purchase up to {availableAmount}. {learnMore} {lineBreak} {lineBreak} Please note: Crypto is non-marginable",id:"Min2kMarginUnleveredError.asset.decouple.message",status:"legacy",values:{availableAmount:(0,S.tZ)(fe.iz,{code:t.asset_currency.code,increment:t.min_order_quantity_increment,value:i}),learnMore:s,lineBreak:Qe||(Qe=(0,S.tZ)("br",null))}})}function getMin2kMarginLeveredErrorProps_CancelButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Cancel",id:"CryptoOrderForm.Min2kMarginLeveredError.cancel",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:"secondary",width:"full"})}function getMin2kMarginUnleveredErrorProps_Copy_Copy(e){let{currencyPair:t,entryType:n,error:r}=e;const o=(0,y.og)(),{availableAmount:i}=r.data,a=t.asset_currency.name,s=(0,S.tZ)(C.A,{href:"https://robinhood.com/support/articles/margin-overview",label:o.formatMessage({defaultMessage:"Learn More",id:"Min2kMarginUnleveredError.learnmore",status:"legacy"}),type:"anchor",variant:"inline"});return n===de.CF.Quote?(0,S.tZ)(y.DH,{defaultMessage:"This transaction will bring your brokerage margin account below the federal minimum requirement of $2,000. You may only purchase up to {availableAmount} of {assetCurrencyName}. {learnMore} {lineBreak} {lineBreak} Please note: Crypto is non-marginable",id:"Min2kMarginUnleveredError.quote.decouple.message",status:"legacy",values:{assetCurrencyName:a,availableAmount:(0,S.tZ)(fe.tA,{value:i}),learnMore:s,lineBreak:Je||(Je=(0,S.tZ)("br",null))}}):(0,S.tZ)(y.DH,{defaultMessage:"This transaction will bring your brokerage margin account below the federal minimum requirement of $2,000. You may only purchase up to {availableAmount}. {learnMore} {lineBreak} {lineBreak} Please note: Crypto is non-marginable",id:"Min2kMarginUnleveredError.asset.decouple.message",status:"legacy",values:{availableAmount:(0,S.tZ)(fe.iz,{code:t.asset_currency.code,increment:t.min_order_quantity_increment,value:i}),learnMore:s,lineBreak:$e||($e=(0,S.tZ)("br",null))}})}function getMin2kMarginUnleveredErrorProps_CancelButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Cancel",id:"CryptoOrderForm.Min2kMarginUnleveredError.cancel",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:e.variant,width:"full"})}function getMin2kMarginUnleveredErrorProps_ContinueButton(e){let{onContinueReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Continue",id:"CryptoOrderForm.Min2kMarginUnleveredError.continue",status:"legacy"}),onClick:t,type:"button",variant:"secondary",width:"full"})}function getMin2kMarginUnleveredErrorProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,onContinueReviewing:a}=e;const{primaryButton:s,secondaryButton:l}=function getMin2kMarginUnleveredErrorProps_renderButtons(e){let{cancelReviewing:t,error:n,onContinueReviewing:r}=e;return ye()(n.data.availableAmount).eq(0)?{primaryButton:(0,S.tZ)(Ge.D,{cancelReviewing:t}),secondaryButton:(0,S.tZ)(getMin2kMarginUnleveredErrorProps_CancelButton,{cancelReviewing:t,variant:"secondary"})}:{primaryButton:(0,S.tZ)(getMin2kMarginUnleveredErrorProps_CancelButton,{cancelReviewing:t,variant:"primary"}),secondaryButton:(0,S.tZ)(getMin2kMarginUnleveredErrorProps_ContinueButton,{onContinueReviewing:r})}}({cancelReviewing:n,error:i,onContinueReviewing:a});return{copy:(0,S.tZ)(getMin2kMarginUnleveredErrorProps_Copy_Copy,{amount:t,currencyPair:r,entryType:o,error:i}),primaryButton:s,secondaryButton:l,status:et||(et=(0,S.tZ)(it.q,null))}}function getMinRecurringOrderSizeErrorProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"MinRecurringOrderSize.Back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}function getMissingRecordErrorProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"CryptoOrder.Back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}function NotEnoughHoldingErrorCopy(e){let{currencyPair:t,entryType:n,error:r}=e;const{amountAvailable:o,amountReserved:i}=r.data,a=t.asset_currency.name,s=(0,S.tZ)(y.DH,{defaultMessage:"{amountReserved} are already reserved in pending orders. You may cancel a pending order to sell more {assetCurrencyName}.",id:"NotEnoughHoldingError.cancelPendingOrder.message",status:"legacy",values:{amountReserved:n===de.CF.Asset?(0,S.tZ)(fe.iz,{code:t.asset_currency.code,increment:t.min_order_quantity_increment,value:i}):(0,S.tZ)(fe.tA,{value:i}),assetCurrencyName:a}});return n===de.CF.Asset?ye()(i).eq("0")?(0,S.tZ)(y.DH,{defaultMessage:"You can sell at most {amountAvailable}.",id:"NotEnoughHoldingError.asset.message",status:"legacy",values:{amountAvailable:(0,S.tZ)(fe.iz,{code:t.asset_currency.code,increment:t.min_order_quantity_increment,value:o})}}):(0,S.tZ)(y.DH,{defaultMessage:"You can sell at most {amountAvailable}. {cancelPendingOrder}",id:"NotEnoughHoldingError.asset.withCancelPendingOrder.message",status:"legacy",values:{amountAvailable:(0,S.tZ)(fe.iz,{code:t.asset_currency.code,increment:t.min_order_quantity_increment,value:o}),cancelPendingOrder:s}}):ye()(i).eq("0")?(0,S.tZ)(y.DH,{defaultMessage:"You can sell at most {amountAvailable} of {assetCurrencyName}.",id:"NotEnoughHoldingError.quote.message",status:"legacy",values:{amountAvailable:(0,S.tZ)(fe.tA,{value:o}),assetCurrencyName:a}}):(0,S.tZ)(y.DH,{defaultMessage:"You can sell at most {amountAvailable} of {assetCurrencyName}. {cancelPendingOrder}",id:"NotEnoughHoldingError.quote.withCancelPendingOrder.message",status:"legacy",values:{amountAvailable:(0,S.tZ)(fe.tA,{value:o}),assetCurrencyName:a,cancelPendingOrder:s}})}function ViewOrdersButton(){const e=(0,y.og)();return(0,S.tZ)(ee.z,{href:"/account/history",label:e.formatMessage({defaultMessage:"View Orders",id:"CryptoOrderForm.NotEnoughHoldingError.viewOrders",status:"legacy"}),type:"anchor",width:"full"})}function getNotEnoughHoldingErrorProps_BackButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Back",id:"CryptoOrderForm.NotEnoughHoldingError.back",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:e.variant,width:"full"})}function getNotEnoughHoldingErrorProps(e){let{cancelReviewing:t,currencyPair:n,entryType:r,error:o}=e;const{primaryButton:i,secondaryButton:a}=function renderNotEnoughHoldingErrorButtons(e){let{cancelReviewing:t,error:n}=e;return"0"!==n.data.amountReserved?{primaryButton:ot||(ot=(0,S.tZ)(ViewOrdersButton,null)),secondaryButton:(0,S.tZ)(getNotEnoughHoldingErrorProps_BackButton,{cancelReviewing:t,variant:"secondary"})}:{primaryButton:(0,S.tZ)(getNotEnoughHoldingErrorProps_BackButton,{cancelReviewing:t,variant:"primary"}),secondaryButton:null}}({cancelReviewing:t,error:o});return{copy:(0,S.tZ)(NotEnoughHoldingErrorCopy,{currencyPair:n,entryType:r,error:o}),primaryButton:i,secondaryButton:a,status:(0,S.tZ)(y.DH,{defaultMessage:"Not Enough {assetCurrencyName}",id:"CryptoOrderForm.NotEnoughHoldingError.status.message",status:"legacy",values:{assetCurrencyName:n.asset_currency.name}})}}var at,st,lt,ct,ut,dt,pt,gt=n(71315),mt=n(89521);function renderOrderSizeViolationStatus(e){return e instanceof errors_MaxOrderSizeViolationError?at||(at=(0,S.tZ)(y.DH,{id:"Order Too Large",status:"legacy"})):st||(st=(0,S.tZ)(y.DH,{id:"Order Too Small",status:"legacy"}))}function renderOrderSizeViolationCopy(e){let{amount:t,currencyPair:n,entryType:r,error:o,side:i}=e;if(o instanceof errors_MaxOrderSizeViolationError){const e=(0,S.tZ)(y.DH,{defaultMessage:"You may {side} {amount} by placing multiple orders.",id:"MaxOrderSizeViolationError.placeMultipleOrders.message",status:"legacy",values:{amount:r===de.CF.Asset?(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:t}):(0,S.tZ)(fe.tA,{value:t}),side:i===d.Side.Buy?lt||(lt=(0,S.tZ)(y.DH,{id:"buy",status:"legacy"})):ct||(ct=(0,S.tZ)(y.DH,{id:"sell",status:"legacy"}))}}),a={assetCurrencyName:n.asset_currency.name,limitAmount:r===de.CF.Asset?(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:o.data.amount}):(0,S.tZ)(fe.tA,{value:o.data.amount}),placeMultipleOrders:e};return r===de.CF.Asset?(0,S.tZ)(y.DH,{defaultMessage:"{assetCurrencyName} orders cannot exceed {limitAmount}. {placeMultipleOrders}",id:"MaxOrderSizeViolationError.asset.message",status:"legacy",values:a}):(0,S.tZ)(y.DH,{defaultMessage:"{assetCurrencyName} orders must be worth less than {limitAmount}. {placeMultipleOrders}",id:"MaxOrderSizeViolationError.quote.message",status:"legacy",values:a})}return r===de.CF.Asset?(0,S.tZ)(y.DH,{defaultMessage:"{assetCurrencyName} orders must be at least {limitAmount}.",id:"MinOrderSizeViolationError.asset.message",status:"legacy",values:{assetCurrencyName:n.asset_currency.name,limitAmount:(0,S.tZ)(fe.iz,{code:n.asset_currency.code,increment:n.min_order_quantity_increment,value:o.data.amount})}}):(0,S.tZ)(y.DH,{defaultMessage:"{assetCurrencyName} orders must be worth at least {limitAmount}.",id:"MinOrderSizeViolationError.quote.message",status:"legacy",values:{assetCurrencyName:n.asset_currency.name,limitAmount:(0,S.tZ)(fe.tA,{value:o.data.amount})}})}function getOrderSizeViolationErrorProps_BackButton(e){const t=(0,y.og)();return(0,S.tZ)(ee.z,{label:t.formatMessage({defaultMessage:"Back",id:"CryptoOrderForm.NotEnoughHoldingError.back",status:"legacy"}),onClick:()=>{e.cancelReviewing()},type:"button",variant:"secondary",width:"full"})}function getOrderSizeViolationErrorProps_PrimaryButton(e){let{cancelReviewing:t,currencyPair:n,entryType:r,error:o,form:i,newAmount:a,side:s}=e;const l=function renderOrderSizeViolationPrimaryButtonLabel(e){let{currencyPair:t,entryType:n,error:r,intl:o,side:i}=e;return o.formatMessage({defaultMessage:"{side} {limitAmount}",id:"OrderSizeViolationError.primaryButton.message",status:"legacy"},{limitAmount:n===de.CF.Asset?(0,gt.Zt)({code:t.asset_currency.code,increment:t.min_order_quantity_increment,intl:o,value:r.data.amount}):(0,mt.T4)(r.data.amount,{intl:o}),side:i===d.Side.Buy?o.formatMessage({defaultMessage:"Buy",id:"OrderSizeViolationError.primaryButton.side.buy",status:"legacy"}):o.formatMessage({defaultMessage:"Sell",id:"OrderSizeViolationError.primaryButton.side.sell",status:"legacy"})})}({currencyPair:n,entryType:r,error:o,intl:(0,y.og)(),side:s}),c=(0,re.useDispatch)();return(0,S.tZ)(ee.z,{label:l,onClick:()=>{c((0,pe.m)(i,"amount",a)),t()},type:"button"})}function YesButton(e){let{form:t,newAmount:n,onClick:r}=e;const o=(0,y.og)(),i=(0,re.useDispatch)();return(0,S.tZ)(ee.z,{label:o.formatMessage({defaultMessage:"Yes",id:"CryptoOrderForm.WholePositionSellError.button.yes",status:"legacy"}),onClick:()=>{i((0,pe.m)(t,"amount",n)),r()},type:"button"})}function NoButton(e){let{onClick:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"No",id:"CryptoOrderForm.WholePositionSellError.button.no",status:"legacy"}),onClick:t,type:"button",variant:"secondary"})}function mapErrorToProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,form:a,handleContinueReviewing:s,handleSelectWholePositionSell:l,side:u}=e;return i instanceof InvalidFieldError?function getInvalidFieldErrorProps(e){let{cancelReviewing:t,currencyPair:n,entryType:r,error:o}=e;const{field:i}=o.data,a=(0,S.tZ)(BackButton,{cancelReviewing:t}),s=we||(we=(0,S.tZ)(y.DH,{defaultMessage:"Error",id:"CryptoOrder.Errors.InvalidFieldError.title",status:"legacy"}));let l;return"amount"===i?r===de.CF.Asset?l=(0,S.tZ)(y.DH,{defaultMessage:"Please enter a valid amount of {assetCode}.",id:"CryptoOrder.Errors.InvalidAssetAmount.message",status:"legacy",values:{assetCode:n.asset_currency.code}}):r===de.CF.Quote&&(l=Ie||(Ie=(0,S.tZ)(y.DH,{defaultMessage:"Please enter a valid number of dollars.",id:"CryptoOrder.Errors.InvalidDollarAmount.message",status:"legacy"}))):"price"===i?l=ke||(ke=(0,S.tZ)(y.DH,{defaultMessage:"Please enter a valid limit price.",id:"CryptoOrder.Errors.InvalidLimitPrice.message",status:"legacy"})):"percentage"===i&&(l=xe||(xe=(0,S.tZ)(y.DH,{defaultMessage:"Please enter a valid percentage amount.",id:"CryptoOrder.Errors.InvalidPercentage.message",status:"legacy"}))),{copy:l,primaryButton:a,status:s}}({cancelReviewing:n,currencyPair:r,entryType:o,error:i}):i instanceof errors_InvalidLimitPriceError?function getInvalidLimitPriceErrorProps(e){let{cancelReviewing:t,currencyPair:n}=e;const r=n.asset_currency.code;return{copy:(0,S.tZ)(y.DH,{defaultMessage:"Your limit price must be closer to the current price of {assetCode}.",id:"InvalidLimitPriceError.message",status:"legacy",values:{assetCode:r}}),primaryButton:(0,S.tZ)(getInvalidLimitPriceErrorProps_BackButton,{cancelReviewing:t}),secondaryButton:null,status:Re||(Re=(0,S.tZ)(y.DH,{defaultMessage:"Invalid Limit Price",id:"InvalidLimitPriceError.status",status:"legacy"}))}}({cancelReviewing:n,currencyPair:r}):i instanceof errors_MinOrderSizeViolationError||i instanceof errors_MaxOrderSizeViolationError?function getOrderSizeViolationErrorProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,form:a,side:s}=e;return{copy:renderOrderSizeViolationCopy({amount:t,currencyPair:r,entryType:o,error:i,side:s}),primaryButton:(0,S.tZ)(getOrderSizeViolationErrorProps_PrimaryButton,{cancelReviewing:n,currencyPair:r,entryType:o,error:i,form:a,newAmount:i.data.amount,side:s}),secondaryButton:(0,S.tZ)(getOrderSizeViolationErrorProps_BackButton,{cancelReviewing:n}),status:renderOrderSizeViolationStatus(i)}}({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,form:a,side:u}):i instanceof ExceedMaxBuyingPowerBelowFullBuyingPowerError?function getExceedMaxBuyingPowerBelowFullBuyingPowerErrorProps(e){let{cancelReviewing:t}=e;return{copy:De||(De=(0,S.tZ)(y.DH,{defaultMessage:"You don’t have enough buying power to place this order. Funds from recent stock, ETF, and option sales will be available for buying crypto within 3 business days.",id:"ExceedMaxBuyingPowerBelowFullBuyingPowerError.message",status:"legacy"})),primaryButton:(0,S.tZ)(CancelButton,{cancelReviewing:t}),status:Te||(Te=(0,S.tZ)(y.DH,{defaultMessage:"Not Enough Buying Power",id:"ExceedMaxBuyingPowerBelowFullBuyingPowerError.status.message",status:"legacy"}))}}({cancelReviewing:n}):i instanceof MaxBuyingPowerExceededError?getMaxBuyingPowerExceededErrorProps({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i}):i instanceof MaxBuyingPowerExceededLimitedByCollarError?getMaxBuyingPowerExceededLimitedByCollarErrorProps({cancelReviewing:n,form:a}):i instanceof errors_WholePositionSellError?function getWholePositionSellErrorProps(e){let{currencyPair:t,error:n,form:r,onContinueReviewing:o,onSelectWholePositionSell:i}=e;return{copy:(0,S.tZ)("p",null,(0,S.tZ)(y.DH,{defaultMessage:"Are you trying to sell all of your {assetCurrencyName}?",id:"WholePositionSellError.message",status:"legacy",values:{assetCurrencyName:t.asset_currency.name}})),primaryButton:(0,S.tZ)(YesButton,{form:r,newAmount:n.data.availableAmount,onClick:()=>{i(!0),o()}}),secondaryButton:(0,S.tZ)(NoButton,{onClick:()=>{i(!1),o()}}),status:ut||(ut=(0,S.tZ)(y.DH,{defaultMessage:"Review Order",id:"CryptoOrderForm.WholePositionSellError.button.status",status:"legacy"}))}}({currencyPair:r,error:i,form:a,onContinueReviewing:s,onSelectWholePositionSell:l}):i instanceof errors_NotEnoughHoldingError?getNotEnoughHoldingErrorProps({cancelReviewing:n,currencyPair:r,entryType:o,error:i}):i instanceof Min2kMarginUnleveredError?getMin2kMarginUnleveredErrorProps({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,onContinueReviewing:s}):i instanceof Min2kMarginLeveredError?function getMin2kMarginLeveredErrorProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i}=e;return{copy:(0,S.tZ)(Copy_Copy,{amount:t,currencyPair:r,entryType:o,error:i}),primaryButton:(0,S.tZ)(Ge.D,{cancelReviewing:n}),secondaryButton:(0,S.tZ)(getMin2kMarginLeveredErrorProps_CancelButton,{cancelReviewing:n}),status:Xe||(Xe=(0,S.tZ)(it.q,null))}}({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i}):i instanceof Min25kMarginDayTradeWarning?getMin25kMarginDayTradeWarningProps({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i,onContinueReviewing:s}):i instanceof Min25kMarginDayTradeRestriction?function getMin25kMarginDayTradeRestrictionProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i}=e;return{copy:(0,S.tZ)(renderMin25kMarginDayTradeRestrictionCopy,{amount:t,currencyPair:r,entryType:o,error:i}),primaryButton:(0,S.tZ)(Ge.D,{cancelReviewing:n}),secondaryButton:(0,S.tZ)(getMin25kMarginDayTradeRestrictionProps_BackButton,{cancelReviewing:n}),status:qe||(qe=(0,S.tZ)(y.DH,{defaultMessage:"Day Trading Minimum",id:"CryptoOrderForm.Min25kMarginDayTradeRestriction.status",status:"legacy"}))}}({amount:t,cancelReviewing:n,currencyPair:r,entryType:o,error:i}):i instanceof MissingRecordError?function getMissingRecordErrorProps(e){let{cancelReviewing:t,error:n}=e;return{copy:(0,S.tZ)(y.DH,{defaultMessage:"Missing {record} data. Please try again later.  If the problem persists, please contact customer service.",id:"CryptoOrder.Errors.MissingRecord.message",status:"legacy",values:{record:n.data.missingRecord}}),primaryButton:(0,S.tZ)(getMissingRecordErrorProps_BackButton,{cancelReviewing:t}),status:rt||(rt=(0,S.tZ)(y.DH,{defaultMessage:"Error",id:"CryptoOrder.Errors.MissingRecord.title",status:"legacy"}))}}({cancelReviewing:n,error:i}):i instanceof MinRecurringOrderSizeError?function getMinRecurringOrderSizeErrorProps(e){let{cancelReviewing:t}=e;return{copy:(0,S.tZ)(y.DH,{defaultMessage:"Your order must be for at least {recurringLimit}.",id:"MinRecurringOrderSize.Message",status:"legacy",values:{recurringLimit:tt||(tt=(0,S.tZ)(fe.tA,{value:c.cw}))}}),primaryButton:(0,S.tZ)(getMinRecurringOrderSizeErrorProps_BackButton,{cancelReviewing:t}),secondaryButton:null,status:nt||(nt=(0,S.tZ)(y.DH,{defaultMessage:"Error",id:"MinRecurringOrderSize.Title",status:"legacy"}))}}({cancelReviewing:n}):i instanceof MaxRecurringOrderSizeError?function getMaxRecurringOrderSizeErrorProps(e){let{cancelReviewing:t}=e;return{copy:(0,S.tZ)(y.DH,{defaultMessage:"You have exceeded the {recurringLimit} maximum limit for recurring investments. Please enter a smaller amount.",id:"MaxRecurringOrderSize.Message",status:"legacy",values:{recurringLimit:Ue||(Ue=(0,S.tZ)(fe.tA,{value:c.Kk}))}}),primaryButton:(0,S.tZ)(getMaxRecurringOrderSizeErrorProps_BackButton,{cancelReviewing:t}),secondaryButton:null,status:ze||(ze=(0,S.tZ)(y.DH,{defaultMessage:"Error",id:"MaxRecurringOrderSize.Title",status:"legacy"}))}}({cancelReviewing:n}):i instanceof ExceedBuyingPowerWarning?function getExceedBuyingPowerWarningProps(e){let{cancelReviewing:t,onContinueReviewing:n}=e;return{copy:Pe||(Pe=(0,S.tZ)(y.DH,{defaultMessage:"You don't have enough buying power for this order.",id:"ExceedBuyingPowerWarning.Message",status:"legacy"})),primaryButton:(0,S.tZ)(getExceedBuyingPowerWarningProps_ContinueButton,{onContinueReviewing:n}),secondaryButton:(0,S.tZ)(DismissButton,{cancelReviewing:t}),status:Ze||(Ze=(0,S.tZ)(y.DH,{defaultMessage:"Not Enough Buying Power",id:"ExceedBuyingPowerWarning.Title",status:"legacy"}))}}({cancelReviewing:n,onContinueReviewing:s}):i instanceof ACHRelationshipsWithdrawalLimitWarning?function getACHRelationshipsWithdrawalLimitWarningProps(e){let{cancelReviewing:t,onContinueReviewing:n}=e;return{copy:Se||(Se=(0,S.tZ)(y.DH,{defaultMessage:"The account you selected may have a monthly withdrawal limit.",id:"ACHRelationshipsWithdrawalLimitWarning.Message",status:"legacy"})),primaryButton:(0,S.tZ)(ContinueButton,{onContinueReviewing:n}),secondaryButton:(0,S.tZ)(getACHRelationshipsWithdrawalLimitWarningProps_EditButton,{cancelReviewing:t}),status:Ee||(Ee=(0,S.tZ)(y.DH,{defaultMessage:"Withdrawal Limit",id:"ACHRelationshipsWithdrawalLimitWarning.Title",status:"legacy"}))}}({cancelReviewing:n,onContinueReviewing:s}):{copy:(0,S.tZ)("p",null,(0,Me.oN)(i)||dt||(dt=(0,S.tZ)(y.DH,{defaultMessage:"There was an error.",id:"CryptoOrderForm.error.copy",status:"legacy"}))),primaryButton:(0,S.tZ)(mapErrorToProps_BackButton,{cancelReviewing:n}),status:pt||(pt=(0,S.tZ)(y.DH,{defaultMessage:"Error",id:"CryptoOrderForm.error.status",status:"legacy"}))}}function mapErrorToProps_BackButton(e){let{cancelReviewing:t}=e;const n=(0,y.og)();return(0,S.tZ)(ee.z,{label:n.formatMessage({defaultMessage:"Back",id:"CryptoOrderForm.back",status:"legacy"}),onClick:()=>{t()},type:"button",width:"full"})}function getControlsAndMessagesProps(e){let{amount:t,cancelReviewing:n,currencyPair:r,currencyPairQuote:o,entryType:i,error:a,form:s,handleContinueReviewing:l,handleSelectWholePositionSell:c,isReviewing:u,recurringFormFields:p,side:g,submitting:m,tradabilityErrorProps:y,type:f}=e;return y&&y.canStillTrade&&!u?{copy:y.description,primaryButton:(0,S.tZ)(Oe,{form:s,reviewing:u,submitting:m}),status:y.label}:a?mapErrorToProps({amount:t,cancelReviewing:n,currencyPair:r,entryType:i,error:a,form:s,handleContinueReviewing:l,handleSelectWholePositionSell:c,side:g}):function getDefaultProps(e){const{cancelReviewing:t,currencyPair:n,currencyPairQuote:r,entryType:o,form:i,isReviewing:a,recurringFormFields:s,submitting:l,type:c}=e;let u=(0,S.tZ)(Ce,{currencyPair:n,currencyPairQuote:r,entryType:o,form:i});return c===d.OrderType.Recurring&&s&&(u=(0,S.tZ)(N.f,{dollarAmount:s.quoteCurrencyAmount,isCrypto:!0,percentageOfDirectDeposit:s.percentageOfDirectDeposit,recurringAmountType:s.recurringAmountType,recurringStartDate:s.recurringStartDate,scheduleFrequency:s.scheduleFrequency,symbol:n.asset_currency.code})),{copy:a&&u,primaryButton:(0,S.tZ)(Oe,{form:i,reviewing:a,submitting:l}),secondaryButton:a&&!l&&(0,S.tZ)(EditButton,{cancelReviewing:t}),status:null}}({cancelReviewing:n,currencyPair:r,currencyPairQuote:o,entryType:i,form:s,isReviewing:u,recurringFormFields:p,submitting:m,type:f})}var yt=n(78361),ft=n(89676),vt=n(6377),ht=n(55706),_t=n(40897),bt=n(62865),Ct=n(74859),Ot=n(39312),St=n(80964),Et=n(27865),Pt=n(96908),Zt=n(67493);function RecurringAccountSwitcher(e){let{account:t,accounts:n,isNewLayout:r,onSetAccount:i,shouldUseLegacyCryptoOrderForm:a,shouldUseLongField:s,unifiedAccounts:l}=e;const c=(0,y.og)(),u=n.toArray().filter((e=>{let{deactivated:t}=e;return!t})).map((e=>{const t=l.find((t=>t.account_number===e.account_number));let n;t&&(n=c.formatNumber(Number(t.account_buying_power.amount),{currency:t.account_buying_power.currency_code,format:"price",minimumFractionDigits:2}));const r=(0,Zt.qC)(e.isRetirementAccount?"Retirement24":"Finance24");return{caption:n?"".concat(n," available"):"",icon:r,label:c.formatMessage(e.label),value:e.account_number}}));return(0,S.tZ)(o.Fragment,null,(0,S.tZ)(Et.p,{field:(0,S.tZ)(Pt.o,{shouldUseLegacyCryptoOrderForm:a,shouldUseLongField:s},(0,S.tZ)(St.S,{onChange:e=>{const t=n.find((t=>t.account_number===e.value));t&&i(t)},options:u,value:t.account_number})),isVertical:!1,label:c.formatMessage({defaultMessage:"Account",id:"RecurringAccountSwitcher.Select",status:"legacy"}),multiLine:r,readOnly:!1}))}var Dt=n(30156),Tt=n(4849),wt=n(34314),It=n(9224);var kt,xt=n(21122),Rt=n(14837),Mt=n(456),Lt=n(53291),At=n(25933),Ft=n(74782),Nt=n(96449);function RecurringSearchFormField(e){let{initialInvestmentTarget:t,isDisabled:n,onSelectResult:r,shouldUseLongField:o}=e;return(0,S.tZ)(Et.p,{field:(0,S.tZ)(Pt.o,{shouldUseLongField:o},(0,S.tZ)(f.Z,{hideSearchIcon:!0,initialInvestmentTarget:t,isDisabled:n,onSelectResult:r})),label:kt||(kt=(0,S.tZ)(y.DH,{defaultMessage:"Invest in",id:"OrderForm.Fields.recurring.investInAssetLabel",status:"legacy"}))})}var Bt=n(55431);var jt=n(51213);var Ht=n(53475),Ut=n(93542),zt=n(50547);n(23066);const Wt=ye()(.01),qt=ye()(.05),Yt=ye()(1.05);ye()(.1);n(90431);function utils_roundDownToTickSize(e,t){return String(ye()(e).div(ye()(t)).round(0,0).times(t))}var Vt=n(63620);function getOrderPrice(e){let{currencyPair:t,currencyPairQuote:n,priceFromPayload:r,side:o,type:i}=e;return i===d.OrderType.Limit&&r?r:o===d.Side.Buy?function getMarketOrderBuyPrice(e,t){const n=ye()(e.min_order_price_increment),r=ye()(t.ask_price),o=r.times(Wt),i=n.gt(o)?n:o,a=r.plus(i);return utils_roundDownToTickSize(String(a),String(n))}(t,n):function getMarketOrderSellPrice(e,t){const n=ye()(e.min_order_price_increment),r=ye()(t.bid_price),o=r.times(qt),i=n.gt(o)?n:o,a=r.minus(i);return String(n.plus(utils_roundDownToTickSize(String(a),String(n))))}(t,n)}function DEPRECATED_CryptoOrderForm_getOrderPriceAndQuantity(e){let{currencyPair:t,currencyPairQuote:n,payload:r}=e;const{amount:o,entryType:i,side:a,type:s}=r;let l;r.type===d.OrderType.Limit&&(l=r.price);const c=getOrderPrice({currencyPair:t,currencyPairQuote:n,priceFromPayload:l,side:a,type:s});return{orderPrice:c,quantity:function getQuantity(e){let{amount:t,currencyPair:n,currencyPairQuote:r,entryType:o,orderPrice:i,side:a,type:s}=e;if(o===de.CF.Asset)return t;const l=r.getMarketPrice(a),c=n.min_order_quantity_increment,u=s===d.OrderType.Market?l:i;return utils_roundDownToTickSize(String(ye()(t).div(ye()(u))),c)}({amount:o,currencyPair:t,currencyPairQuote:n,entryType:i,orderPrice:c,side:a,type:s})}}var Gt=n(54327),Kt=n(11538);de.CF.Quote,d.Side.Buy,d.TimeInForce.GTC,d.OrderType.Market,new Gt.$3,new vt.s,new ft.a,new Kt._;function min25kDayTradeCheck_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function min25kDayTradeCheck_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?min25kDayTradeCheck_ownKeys(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):min25kDayTradeCheck_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qt=Yt.times(Vt.MINIMUM_EQUITY_FOR_PDT);function min25kDayTradeCheck(e){let{account:t,currencyPair:n,currencyPairQuote:r,dayTradesCount:o,payload:i,portfolio:a}=e;if(i.side===d.Side.Sell)return;if("USD"!==n.quote_currency.code)return;if(!t.isMargin||!t.isMarkedPDT)return;if(ye()(o).lt(Vt.NUM_DAY_TRADES_ACTIVATING_PDT))return;const s=a.equityIncludingExtendedHoursIfPossible;if(!ye()(s).gt(Vt.MINIMUM_EQUITY_FOR_PDT))return;const{orderPrice:l,quantity:c}=DEPRECATED_CryptoOrderForm_getOrderPriceAndQuantity({currencyPair:n,currencyPairQuote:r,payload:i}),u=ye()(l).times(c);if(function isMin25kMarginViolated(e,t){return ye()(e).minus(t).lt(Qt)}(s,u)){const e=function getAvailableAmount(e){let{entryType:t,marginEquity:n,orderPrice:r}=e;const o=ye()(n).minus(Qt);return o.lt(0)?"0":t===de.CF.Quote?String(o):String(o.div(r))}({entryType:i.entryType,marginEquity:s,orderPrice:l}),t=String(u.minus(ye()(s).minus(Qt))),n={availableAmount:e,depositAmount:t};if(ye()(o).gt(Vt.NUM_DAY_TRADES_ACTIVATING_PDT))throw new Min25kMarginDayTradeRestriction(min25kDayTradeCheck_objectSpread(min25kDayTradeCheck_objectSpread({},n),{},{depositAmount:t}));throw new Min25kMarginDayTradeWarning(n)}}const Xt=Yt.times(Vt.MINIMUM_MARGIN_EQUITY);function min2kMarginWarningCheck(e){let{currencyPair:t,currencyPairQuote:n,payload:r,portfolio:o,subscription:i}=e;if(null==i||!i.isMarginInvestEnabled)return;if("USD"!==t.quote_currency.code)return;const a=o.equityIncludingExtendedHoursIfPossible,s=o.isLevered;if(!ye()(a).gt(Vt.MINIMUM_MARGIN_EQUITY))return;let l,c,u;if(r.type===d.OrderType.Recurring?(l="1",c="1",u=ye()(r.amount)):(({orderPrice:l,quantity:c}=DEPRECATED_CryptoOrderForm_getOrderPriceAndQuantity({currencyPair:t,currencyPairQuote:n,payload:r})),u=ye()(l).times(c)),function isMin2kMarginViolated(e,t){return ye()(e).minus(t).lt(Xt)}(a,u)){const e={availableAmount:function min2kMarginWarningCheck_getAvailableAmount(e){let{entryType:t,marginEquity:n,orderPrice:r}=e;const o=ye()(n).minus(Xt);return o.lt(0)?"0":t===de.CF.Quote?String(o):String(o.div(r))}({entryType:r.entryType,marginEquity:a,orderPrice:l}),depositAmount:String(u.minus(ye()(a).minus(Xt)))};if(s)throw new Min2kMarginLeveredError(e);throw new Min2kMarginUnleveredError(e)}}n(47727);ye()(.05);function checkSchedule_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function checkSchedule_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?checkSchedule_ownKeys(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):checkSchedule_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Jt=[Ht.T,function checkCanBuyFracs(e){let{amountType:t,instrument:n,quantity:r,side:o,type:i}=e;const a=function isFractional(e,t){return e&&!ye()(e).mod(1).eq("0")||t===d.OrderAmountTypes.DOLLAR}(r,t)&&o===d.Side.Buy,s=i===d.OrderType.Recurring;if((a||s)&&!n.isFractionallyBuyable)throw new jt.IV},zt.P,Bt.s,Ut.P],$t=[function invalidFieldsCheck(e){let{payload:t}=e;const{amount:n,type:r}=t;if((r===d.OrderType.Market||r===d.OrderType.Limit)&&(!n||ye()(n).eq("0")))throw new InvalidFieldError({field:"amount"});if(r===d.OrderType.Limit){const{price:e}=t;try{ye()(e)}catch(e){throw new InvalidFieldError({field:"price"})}}if(r===d.OrderType.Recurring){const{percentageOfDirectDeposit:e,recurringAmountType:r}=t;if(r===d.OrderRecurringAmountType.Dollar){if(!n||ye()(n).eq("0"))throw new InvalidFieldError({field:"amount"});if(ye()(n).lt(c.cw))throw new MinRecurringOrderSizeError({});if(ye()(n).gt(c.Kk))throw new MaxRecurringOrderSizeError({})}if(r===d.OrderRecurringAmountType.Percentage&&(!e||ye()(e).lt("1")||ye()(e).gt("100")))throw new InvalidFieldError({field:"percentage"})}},min2kMarginWarningCheck,min25kDayTradeCheck,function ACHRelationshipsWarningCheck(e){var t;let{payload:n}=e;if(n.type===d.OrderType.Recurring&&(null==n||null===(t=n.recurringFundsSource)||void 0===t?void 0:t.type)===d.BankAccount.Savings)throw new ACHRelationshipsWithdrawalLimitWarning({})}];var en;var tn={name:"zux92r",styles:"align-items:center;display:flex;justify-content:center;margin-top:24px"};function EntityDisclaimer(e){let{investmentAsset:t}=e;const n=(0,y.og)(),[r,i]=(0,o.useState)(!1),openDisclaimerModal=()=>i(!0),closeDisclaimerModal=()=>i(!1),s=(0,O.t)("disclosure","51fQ6BakJyPLTJEPFQcUVP"),l=(0,O.t)("disclosure","T0rCXgJnp6uwVKj28PZuh"),d=(null==t?void 0:t.asset_type)===c.L6.CRYPTO?s.result:l.result;return t?(0,S.tZ)(o.Fragment,null,(0,S.tZ)("div",{css:tn},(0,S.tZ)(C.A,{color:a.Wt.Fg2,icon:{side:"end",type:"PopOut16"},isLegacyStyle:!0,label:t.asset_type===c.L6.EQUITY?n.formatMessage({defaultMessage:"Orders are placed through your investing account",id:"RecurringWizardFooter.Disclaimer.Equity",status:"legacy"}):n.formatMessage({defaultMessage:"Orders are placed through your crypto account",id:"RecurringWizardFooter.Disclaimer.Crypto",status:"legacy"}),onClick:openDisclaimerModal,type:"button",variant:"standalone"})),r&&(0,S.tZ)(X.u,{onClose:closeDisclaimerModal,width:"standard"},en||(en=(0,S.tZ)(X.u.Header,{title:""})),(null==d?void 0:d.content)&&(0,S.tZ)(u.Dy.Text,{size:"S"},(0,S.tZ)(_.UG,{source:d.content})),(0,S.tZ)(X.u.Footer,{primaryButton:{label:n.formatMessage({defaultMessage:"Dismiss",id:"RecurringWizardFooter.Disclaimer.Modal.Dismiss",status:"legacy"}),onClick:closeDisclaimerModal}}))):null}var nn=n(3e3);var rn={name:"hkh81z",styles:"margin-top:8px"};function BuyingPowerAmount(e){let{isRetirementAccount:t,unifiedAccount:n}=e;return(0,S.tZ)("div",{css:rn},(0,S.tZ)(u.Dy.Text,{color:a.Wt.Fg2,size:"S"},(0,S.tZ)(nn.vw,{buyingPower:n.buyingPower.amount,isRetirementAccount:t,justifyContent:"left"})))}const on=(0,y.B2)({[F.H.Editing]:{defaultMessage:"Edit recurring investment",id:"RecurringWizard.Edit.header.editTitle",status:"legacy"},[F.H.Creating]:{defaultMessage:"Start a recurring investment",id:"RecurringWizard.Create.header.createTitle",status:"legacy"}}),an=(0,y.B2)({[F.H.Editing]:{defaultMessage:"Paycheck recurring investment",id:"RecurringWizard.Edit.header.editTitle.paycheck",status:"legacy"},[F.H.Creating]:{defaultMessage:"Paycheck recurring investment",id:"RecurringWizard.Create.header.createTitle.paycheck",status:"legacy"}});function RecurringWizardHeader(e){let{flow:t,investmentAsset:n,isRetirementAccount:r,scheduleFrequency:o,unifiedAccount:i}=e;return(0,S.tZ)("div",{css:(0,S.iv)({marginBottom:2*D.q3},"")},(0,S.tZ)(u.Dy.Display,{element:"h2",size:"M"},o===d.ScheduleFrequency.PAYCHECK?(0,S.tZ)(PaycheckRecurringInvestmentHeader,{flow:t,investmentAsset:n}):(0,S.tZ)(y.DH,on[t])),t===F.H.Creating&&i&&o!==d.ScheduleFrequency.PAYCHECK&&(0,S.tZ)(BuyingPowerAmount,{isRetirementAccount:r,unifiedAccount:i}))}function PaycheckRecurringInvestmentHeader(e){let{flow:t,investmentAsset:n}=e;return null!=n&&n.asset_symbol?(0,S.tZ)(o.Fragment,null,(0,S.tZ)(y.DH,(0,T.Z)({},an[t],{values:{symbol:null==n?void 0:n.asset_symbol}}))," ",(0,S.tZ)(y.DH,{defaultMessage:"in {symbol}",id:"RecurringWizard.header.symbol",status:"legacy",values:{symbol:n.asset_symbol}})):(0,S.tZ)(y.DH,an[t])}var sn=n(11719),ln=n.n(sn),cn=n(26812),un=n(85992),dn=n(55534);function RecurringWizardForm_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RecurringWizardForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RecurringWizardForm_ownKeys(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RecurringWizardForm_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const pn={form:{marginTop:34,width:448},receipt:{".card-heading":{margin:0,padding:0},padding:0,width:448}};function RecurringWizardForm(e){var t,n,r,i,a,s,l;let{account:u,flow:g,hideForm:m,investmentAsset:y,isInPaycheckHub:f,onClose:h,schedule:_,setInvestmentAsset:b}=e;const C=function useOverrideFrequency(){const{overrideFrequency:e}=(0,wt.m)(),t=!!(0,Tt.n)(Dt.V.paycheckInvestment),{rhsAccount:n,rhyAccount:r}=(0,It.v)();if(e===d.ScheduleFrequency.PAYCHECK&&t&&n&&r)return e}(),O=(0,re.useDispatch)(),[E,P]=(0,o.useState)(p.oI.Editing),[Z,D]=(0,o.useState)(null),[T,w]=(0,o.useState)(null!==(t=null==_?void 0:_.percentage_of_direct_deposit)&&void 0!==t?t:null),[I,k]=(0,o.useState)(u),[x,R]=(0,o.useState)(null!==(n=null==_?void 0:_.dollarAmount)&&void 0!==n?n:null),[M,A]=(0,o.useState)(null!==(r=null!==(i=null==_?void 0:_.frequency)&&void 0!==i?i:C)&&void 0!==r?r:d.ScheduleFrequency.WEEKLY),N=(null==y?void 0:y.asset_type)===c.L6.EQUITY?c.L6.EQUITY:c.L6.CRYPTO,B=(0,Rt.p)(N)[0],[j,H]=(0,o.useState)(null!==(a=null==_?void 0:_.nextInvestmentDate)&&void 0!==a?a:B),{recurringFundsSource:U,setRecurringFundsSource:z}=(0,Mt.c)({schedule:_,scheduleFrequency:M}),{recurringAmountType:W,setRecurringAmountType:q}=(0,xt._)({recurringFundsSource:U,schedule:_}),[Y,V]=(0,o.useState)(function getInitialBackupPaymentSource(e){return e&&e.source_of_funds===At.i.BUYING_POWER?{label:"",type:At.i.ACH_RELATIONSHIP,value:e.ach_relationship_id}:null}(_)),[G,K]=(0,o.useState)(null!==(s=null==_?void 0:_.nextInvestmentDate)&&void 0!==s?s:B),[Q,X]=(0,o.useState)(new Set([])),J=o.useCallback((e=>{X(Q.add(e))}),[Q]),$=(0,Lt.j)({recurringFundsSource:U,schedule:_}),ee=(0,v.tT)({disabled:!(y&&y.asset_type===c.L6.EQUITY),model:L.k0,params:{id:null==y?void 0:y.asset_id}}),te=(0,v.tT)({disabled:!(y&&y.asset_type===c.L6.CRYPTO),model:vt.s,params:{id:null==y?void 0:y.asset_id}}),ne=(0,v.tT)({disabled:!I,model:le.PortfolioRecord,params:{accountNumber:I.account_number}}),pe=(0,v.tT)({many:!0,model:Ct.Q,params:{active:!0}}),[ge,me]=(0,ce.X)((0,se.$p)(),(0,v.tT)({many:!0,model:le.UnifiedAccountsRecord})),ye=null==me?void 0:me.find((e=>e.account_number===I.account_number));(0,o.useEffect)((()=>{const e=ge.find((e=>"Brokerage"===e.label.defaultMessage));(null==y?void 0:y.asset_type)===c.L6.CRYPTO&&e&&k(e)}),[y,ge]);const fe=null===(l=pe.result)||void 0===l?void 0:l.find((e=>e.isMarginInvestEnabled)),ve=(0,se.nm)(),he=(0,ue.g)({assetId:null==y?void 0:y.asset_id,assetType:N}).result||null,_e=(0,v.tT)({model:yt.S,params:{accountNumber:I.account_number,currencyCode:"USD"}}),[be,Ce]=(0,o.useState)(),onFinish=e=>{if(P(p.oI.Submitted),g===F.H.Editing){h();((null==_?void 0:_.source_of_funds)!==(null==e?void 0:e.source_of_funds)||(null==_?void 0:_.ach_relationship_id)!==(null==e?void 0:e.ach_relationship_id))&&(0,bt.HU)("track","recurring-investments-change-payment")}g===F.H.Creating&&(Ce(e),(0,bt.HU)("track","recurring-investments-create"),M===d.ScheduleFrequency.PAYCHECK&&$())},Oe=o.useCallback((()=>{P(p.oI.Editing),D(null),X(new Set([]))}),[]),Se=ee.result||te.result,Ee=(0,v.C$)();if((0,o.useEffect)((()=>{var e,t;E===p.oI.Checking?async function checkRecurringScheduleChanges(e){let{account:t,asset:n,cryptoBuyingPower:r,dayTradesCount:o,dollarAmount:i,orderCheckOverrides:a,percentageOfDirectDeposit:s,portfolio:l,recurringAmountType:c,recurringBackupPaymentSource:u,recurringFundsSource:p,subscription:g}=e;if(n instanceof vt.s){if(!l)throw new MissingRecordError({missingRecord:"portfolio"});const e={account:t,cryptoBuyingPower:r,currencyPair:n,currencyPairQuote:new ft.a,dayTradesCount:null!=o?o:0,payload:{amount:null!=i?i:"",currencyPairId:null==n?void 0:n.id,entryType:de.CF.Quote,isWholePositionSell:!1,percentageOfDirectDeposit:s,recurringAmountType:c,recurringBackupPaymentSource:u,recurringFundsSource:p,side:d.Side.Buy,timeInForce:d.TimeInForce.GTC,type:d.OrderType.Recurring},portfolio:l,subscription:g};$t.forEach((t=>{try{t(e)}catch(e){if(!a.has(e.constructor))throw e}}))}else{const e=checkSchedule_objectSpread(checkSchedule_objectSpread({},oe.l),{},{account:t,amountType:d.OrderAmountTypes.DOLLAR,dollarAmount:i,percentageOfDirectDeposit:s,recurringAmountType:c,recurringBackupPaymentSource:u,recurringFundsSource:p,type:d.OrderType.Recurring},n instanceof L.k0&&{instrument:n});Jt.forEach((t=>{a.has(t)||t(e)}))}}({account:I,asset:Se,cryptoBuyingPower:null===(e=_e.result)||void 0===e?void 0:e.buying_power.amount,dayTradesCount:null===(t=ve.result)||void 0===t?void 0:t.count(),dollarAmount:x,orderCheckOverrides:Q,percentageOfDirectDeposit:T,portfolio:ne.result,recurringAmountType:W,recurringBackupPaymentSource:Y,recurringFundsSource:U,subscription:fe}).then((()=>async function getReviewConfirmation(e){let{assetType:t,recurringStartDate:n,scheduleFrequency:r,setNextInvestmentDate:o,setStage:i}=e;r!==d.ScheduleFrequency.PAYCHECK&&o(await c.g8.getNextInvestmentDate(n,r,t));i(p.oI.Reviewing)}({assetType:N,error:Z,recurringStartDate:j,scheduleFrequency:M,setNextInvestmentDate:K,setStage:P})),(e=>async function getErrorConfirmation(e){let{account:t,addOrderCheckOverride:n,asset:r,cancelReviewing:o,dollarAmount:i,error:a,recurringFundsSource:s,setError:l,setStage:c}=e;if(c(p.oI.Editing),a instanceof CryptoOrderFormError&&r instanceof vt.s){const e=getControlsAndMessagesProps({amount:null!=i?i:"",cancelReviewing:o,currencyPair:r,currencyPairQuote:new ft.a,entryType:de.CF.Quote,error:a,form:"",handleContinueReviewing:()=>{n(a.constructor),l(null),c(p.oI.Checking)},handleSelectWholePositionSell:()=>{},isReviewing:!1,recurringFormFields:null,side:d.Side.Buy,submitting:!1,tradabilityErrorProps:null,type:d.OrderType.Recurring});l({errorMessage:e.copy,errorTitle:e.status,primaryButton:e.primaryButton,secondaryButton:e.secondaryButton})}const{status:u,copy:g,primaryButton:m=(0,S.tZ)(ht.x,{cancelReviewing:o,variant:"primary"}),secondaryButton:y}=null==a?void 0:a.getProps(RecurringWizardForm_objectSpread(RecurringWizardForm_objectSpread({},oe.l),{},{account:t,addOrderCheckOverride:n,amountType:d.OrderAmountTypes.DOLLAR,cancelReviewing:o,dollarAmount:i,error:a,onSetError:l,onSetStage:c,recurringFundsSource:s,type:d.OrderType.Recurring},r instanceof L.k0&&{instrument:r}));l({errorMessage:g,errorTitle:u,primaryButton:m,secondaryButton:y})}({account:I,addOrderCheckOverride:J,asset:Se,cancelReviewing:Oe,dollarAmount:x,error:e,recurringFundsSource:U,setError:D,setStage:P}))):E===p.oI.Submitting&&async function submitRecurringScheduleChanges(e,t,n){var r;let{account:o,dollarAmount:i,flow:a,investmentAsset:s,percentageOfDirectDeposit:l,recurringAmountType:u,recurringBackupPaymentSource:d,recurringFundsSource:p,recurringMinStartDate:g,recurringStartDate:m,schedule:y,scheduleFrequency:f}=e;if(!s)return;const v=(0,un.X)({account_number:o.account_number,asset_id:s.asset_id,asset_type:s.asset_type,dollarAmount:null!=i?i:"0",percentageOfDirectDeposit:l,recurringAmountType:u,recurringBackupPaymentSource:d,recurringFundsSource:p,recurringMinStartDate:g,recurringStartDate:m,ref_id:null!==(r=null==y?void 0:y.ref_id)&&void 0!==r?r:ln().v4(),scheduleFrequency:f,symbol:s.asset_symbol});if(y&&a===F.H.Editing&&await t(c.g8.issueUpdate(y,v,{partial:!0})).meta.promise,a===F.H.Creating){const e=await(0,un.S)(v,t);return await Promise.all([n.invalidateAll_experimental(c.g8),n.invalidate({model:dn.N})]),(0,cn.x2)(e.id,"recurring_hub_submit"),e}}({account:I,dollarAmount:x,flow:g,investmentAsset:y,percentageOfDirectDeposit:T,recurringAmountType:W,recurringBackupPaymentSource:Y,recurringFundsSource:U,recurringMinStartDate:B,recurringStartDate:j,schedule:_,scheduleFrequency:M},O,Ee).then(onFinish,(e=>{var t;P(p.oI.Editing),D({errorMessage:null===(t=e.response.body)||void 0===t?void 0:t.detail})}))}),[E,Ee]),(0,_t.z)((()=>{g===F.H.Creating&&!be&&y&&(0,Nt.E)(y.asset_type===c.L6.CRYPTO?c.L6.CRYPTO:c.L6.EQUITY)})),be&&g===F.H.Creating){const onDismiss=()=>{(0,ae.Ug)({assetTypes:[c.L6.EQUITY,c.L6.CRYPTO],dispatch:O}),h()},onReset=()=>{Ce(void 0),D(null),X(new Set([])),P(p.oI.Editing),b(void 0),R(null),w(null)};return(0,S.tZ)(ie.m,{css:pn.receipt,headerSize:"L",onDismiss,onReset,recurringSchedule:be})}const Pe=E===p.oI.Reviewing;return m?null:(0,S.tZ)("form",{css:pn.form,onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),E===p.oI.Editing?(D(null),P(p.oI.Checking),(0,Ft.Am)({asset:y,dollarAmount:x,percentageOfDirectDeposit:T,recurringFundsSource:U,scheduleFrequency:M})):E===p.oI.Reviewing&&(P(p.oI.Submitting),(0,Ft.N$)({asset:y,dollarAmount:x,percentageOfDirectDeposit:T,recurringFundsSource:U,scheduleFrequency:M}))}},(0,S.tZ)(RecurringWizardHeader,{flow:g,investmentAsset:y,isRetirementAccount:I.isRetirementAccount,scheduleFrequency:M,unifiedAccount:ye}),g===F.H.Creating&&ge.size>1&&(null==y?void 0:y.asset_type)!==c.L6.CRYPTO&&(0,S.tZ)(RecurringAccountSwitcher,{account:I,accounts:ge,onSetAccount:k,shouldUseLongField:!0,unifiedAccounts:me}),g===F.H.Creating&&(0,S.tZ)(RecurringSearchFormField,{initialInvestmentTarget:y,isDisabled:Pe,onSelectResult:b,shouldUseLongField:!0}),(0,S.tZ)(Ot.p,{areFieldsDisabled:Pe,asset:Se,backupPaymentSource:Y,dollarAmount:x,fieldErrorType:null,isEditing:g===F.H.Editing,onSetBackupPaymentSource:V,onSetDollarAmount:R,onSetPercentageOfDirectDeposit:w,onSetRecurringAmountType:q,onSetRecurringFundsSource:z,onSetRecurringStartDate:H,onSetScheduleFrequency:A,percentageOfDirectDeposit:T,recurringAccount:I,recurringAmountType:W,recurringFundsSource:U,recurringStartDate:j,recurringTradability:he,scheduleFrequency:M,shouldUseLongField:!0}),!(null!=he&&he.reason)&&(0,S.tZ)(RecurringWizardFooter,{dollarAmount:x,error:Z,flow:g,investmentAsset:y,nextInvestmentDate:G,onClose:h,onResetForm:Oe,percentageOfDirectDeposit:T,recurringAmountType:W,recurringStartDate:j,schedule:_,scheduleFrequency:M,stage:E}),f&&(0,S.tZ)(EntityDisclaimer,{investmentAsset:y}))}var gn,mn;var yn={name:"4nfcam",styles:"width:448px"},fn={name:"1yk5o3g",styles:"margin:34px 0 24px 0"};function RecurringWizardContent(e){var t;let{account:n,flow:r,investmentAsset:i,isInPaycheckHub:a,onClose:s,schedule:l,setInvestmentAsset:_}=e;const[b,C]=o.useState(!!i),[O,E]=o.useState(!1),P=null===(t=(0,v.tT)({many:!0,model:c.g8,params:{asset_types:[c.L6.EQUITY,c.L6.CRYPTO]}}).result)||void 0===t?void 0:t.filter((e=>e.isPaycheckInvestment)).isEmpty(),Z=(0,g.X_)((0,v.tT)({many:!0,model:m.Wy})).get(0),D=(0,v.C$)(),T=o.useCallback((()=>{D.invalidate({many:!0,model:m.Wy})}),[D]),w=!(null!=Z&&Z.isApproved);return(null==i?void 0:i.asset_type)===c.L6.CRYPTO&&w?(0,S.tZ)(h.E,{onComplete:T}):a&&b&&P&&!O?(0,S.tZ)(PaycheckInvestmentAgreementContent,{investmentAsset:i,onComplete:()=>E(!0)}):r===F.H.Editing||l?(0,S.tZ)(RecurringWizardForm,{account:n,flow:r,investmentAsset:i,onClose:s,schedule:l,setInvestmentAsset:_}):(0,S.tZ)(o.Fragment,null,!b&&(0,S.tZ)("div",{css:yn},(0,S.tZ)("div",{css:fn},(0,S.tZ)(u.Dy.Display,{element:"h2",size:"M"},a?gn||(gn=(0,S.tZ)(y.DH,{defaultMessage:"Choose an investment",id:"RecurringWizard.Search.Header.PaycheckHub",status:"legacy"})):mn||(mn=(0,S.tZ)(y.DH,{defaultMessage:"Start a recurring investment",id:"RecurringWizard.Search.Header",status:"legacy"})))),(0,S.tZ)(f.Z,{onSelectResult:e=>{e!==i&&(C(!0),_(e))}}),(0,S.tZ)(RecurringWizardFooter,{disablePrimaryButton:!0,dollarAmount:null,error:null,flow:r,investmentAsset:i,isInPaycheckHub:a,nextInvestmentDate:new Date,onClose:s,onResetForm:()=>{},percentageOfDirectDeposit:null,recurringAmountType:d.OrderRecurringAmountType.Dollar,recurringStartDate:new Date,schedule:l,scheduleFrequency:d.ScheduleFrequency.WEEKLY,stage:p.oI.Editing})),(0,S.tZ)(RecurringWizardForm,{account:n,flow:r,hideForm:!b,investmentAsset:i,isInPaycheckHub:a,onClose:s,schedule:l,setInvestmentAsset:_}))}function RecurringWizard(e){var t;let{account:n,flow:r,isInPaycheckHub:u,onWizardClose:d,schedule:p}=e;const[g,m]=o.useState(null==p?void 0:p.investment_asset),y=(0,i.Fg)(),f=(null==g?void 0:g.asset_type)===c.L6.CRYPTO;return(0,S.tZ)(i.f6,{theme:f?a.mn:y},(e=>{let{rootClassName:o}=e;return(0,S.tZ)(s.D,{className:o,onClose:d},(0,S.tZ)(l.K,{direction:f?"down":"up",isCryptoTheme:f},t||(t=(0,S.tZ)(RecurringWizardContent,{account:n,flow:r,investmentAsset:g,isInPaycheckHub:u,onClose:d,schedule:p,setInvestmentAsset:m}))))}))}},71075:(e,t,n)=>{"use strict";let r;n.d(t,{H:()=>r}),function(e){e.Editing="Editing",e.Creating="Creating"}(r||(r={}))},83437:(e,t,n)=>{"use strict";n.d(t,{F:()=>RecurringCryptoAmountTooltip});n(27378);var r,o=n(21675),i=n(38978),a=n(85770),s=n(66808),l=n(61096),c=n(93284),u=n(50169),d=n(10043);var p={name:"1tpdvqq",styles:"width:240px"},g={name:"5bhc30",styles:"margin-bottom:8px"},m={name:"158icaa",styles:"margin-left:4px"},y={name:"t51gf6",styles:"margin-left:translateX(-2px)"};function RecurringCryptoAmountTooltip(){const e=(0,c.og)();return(0,d.tZ)(s.w,{content:(0,d.tZ)("div",{css:p},(0,d.tZ)("div",{css:g},r||(r=(0,d.tZ)(o.Dy.Text,{isBold:!0,size:"M"},(0,d.tZ)(c.DH,{defaultMessage:"More collars on crypto orders",id:"OrderForm.Fields.recurring.amountTooltip.title",status:"legacy"})))),(0,d.tZ)(o.Dy.Text,{size:"S"},(0,d.tZ)(c.DH,a.U2),(0,d.tZ)("span",{css:m},(0,d.tZ)(l.A,{color:i.Wt.Fg1,href:"https://robinhood.com/us/en/support/articles/recurring-investments/",label:e.formatMessage({defaultMessage:"Learn more",id:"OrderForm.Fields.recurring.amountTooltip.title",status:"legacy"}),type:"anchor",variant:"inline"})))),css:y,iconColorToken:i.Wt.Fg1,marginTop:u.q3,trigger:"click"})}},29881:(e,t,n)=>{"use strict";n.d(t,{cc:()=>b,fl:()=>O});var r,o,i=n(10043),a=(n(27378),n(21675)),s=n(38978),l=n(85770),c=n(6377),u=n(83515),d=n(27865),p=n(66808),g=n(93284),m=n(96908),y=n(25933),f=n(76312),v=n(15238),h=n(50169),_=n(78090);const b={label:u.Kz,type:y.i.BUYING_POWER,value:null},C={label:u.VN,type:y.i.BUYING_POWER,value:null},O=(0,f.I)((function _RecurringFundsFromField(e){let{areFieldsDisabled:t,asset:n,isEditing:r,isNewLayout:o,isRetirementAccount:a,onSetRecurringFundsSource:s,optionsWidth:l,recurringAmountType:u,recurringFundsSource:p,scheduleFrequency:g,shouldUseLegacyCryptoOrderForm:y=!1,shouldUseLongField:f}=e;const h=n instanceof c.s?C:b;return(0,i.tZ)(d.p,{field:(0,i.tZ)(m.o,{"data-testid":v.c.OrderForm.RecurringFundsDropdown,shouldUseLegacyCryptoOrderForm:y,shouldUseLongField:f},(0,i.tZ)(_.n,{asset:n,defaultSource:h,isDisabled:t,isEditing:r,isRetirementAccount:a,onSetRecurringFundsSource:s,optionsWidth:l,recurringAmountType:u,recurringFundsSource:p})),label:(0,i.tZ)(RecurringPaymentLabel,{asset:n,isNewLayout:o,recurringFundsSource:p,scheduleFrequency:g}),multiLine:o})}));var S={name:"1tpdvqq",styles:"width:240px"},E={name:"5bhc30",styles:"margin-bottom:8px"};function RecurringPaymentLabel(e){let t,{asset:n,isNewLayout:u,recurringFundsSource:d}=e;t=n instanceof c.s?d.type===y.i.BUYING_POWER?(0,i.tZ)(g.DH,l.af):(0,i.tZ)(g.DH,l.zi):d.type===y.i.BUYING_POWER?(0,i.tZ)(g.DH,l.KN):(0,i.tZ)(g.DH,l.VQ);const m=d.type===y.i.DIRECT_DEPOSIT;return(0,i.tZ)("div",{css:(0,i.iv)({alignItems:"center",display:"flex",flexDirection:"row",flexWrap:u?"wrap":void 0},"")},r||(r=(0,i.tZ)(g.DH,{defaultMessage:"Payment",id:"OrderForm.Fields.recurring.payment",status:"legacy"})),!m&&(0,i.tZ)(p.w,{content:(0,i.tZ)("div",{css:S},(0,i.tZ)("div",{css:E},o||(o=(0,i.tZ)(a.Dy.Text,{isBold:!0,size:"M"},(0,i.tZ)(g.DH,{defaultMessage:"Payment",id:"OrderForm.Fields.recurring.paymentTooltip.title",status:"legacy"})))),(0,i.tZ)(a.Dy.Text,{size:"S"},t)),iconColorToken:s.Wt.Fg1,marginTop:h.q3,trigger:"click"}))}},78090:(e,t,n)=>{"use strict";n.d(t,{n:()=>RecurringFundsSourceDropdown});var r,o,i,a=n(25773),s=n(34051),l=n(27378),c=n(23104),u=n(21675),d=n(38978),p=n(97224),g=n(47789),m=n(35002),y=n(24498),f=n(80537),v=n(67527),h=n(87631),_=n(30156),b=n(4849),C=n(25718),O=n(53195),S=n(1257),E=n(66396),P=n(83515),Z=n(20809),D=n(93284),T=n(87550),w=n(82516),I=n(25933),k=n(12633),x=n(76312),R=n(37249),M=n(10043);var L={name:"1tv4zam",styles:"button > div{align-items:center;display:flex;height:100%;min-height:24px;}"};function RecurringFundsSourceDropdown(e){var t;let{asset:n,defaultSource:r,isDisabled:o,isEditing:i,isRetirementAccount:a,onSetRecurringFundsSource:u,optionsWidth:d,recurringAmountType:p,recurringFundsSource:g}=e;const m=!!(0,b.n)(_.V.paycheckInvestment),y=(0,k.tT)({many:!0,model:E.ao}),f=(0,w.x)({}),v=(0,c.useDispatch)(),C=l.useMemo((()=>function getDropdownOptions(e){let{defaultSource:t,directDepositRelationships:n,isEditing:r,recurringAmountType:o,recurringFundsSource:i,unverifiedRelationships:a}=e;if(i.type===I.i.DIRECT_DEPOSIT)return n?[...n.filter((e=>r?e.state===h.H.Active&&(null===e.paycheck_investment_amount_type||o&&e.paycheck_investment_amount_type===o):e.state===h.H.Active)).map((e=>({label:e.originator_name,type:I.i.DIRECT_DEPOSIT,value:e.id})))]:[];if(!a)return[t];const s=a.filter((e=>e.verified));return[t,...s.map((e=>{var t;return{label:e.bank_account_nickname,type:I.i.ACH_RELATIONSHIP,value:null!==(t=e.id)&&void 0!==t?t:e.bank_account_nickname}})),{label:P.fI,type:I.i.ACH_RELATIONSHIP,value:P.fI}]}({defaultSource:r,directDepositRelationships:f.result,isEditing:i,recurringAmountType:p,recurringFundsSource:g,unverifiedRelationships:y.result})),[r,i,p,g,y.result,f.result]),[O,D]=l.useState(!1),T=l.useMemo((()=>{const e=C.find((e=>e.value===g.value));return null!=e?e:r}),[r,C,g.value]),x=l.useCallback((e=>{let{item:r}=e;if(r.value===P.fI||null===r.value)return null;if(r.type===I.i.BUYING_POWER)return t||(t=(0,M.tZ)(A,{asset:n}));if(m&&r.type===I.i.DIRECT_DEPOSIT)return(0,M.tZ)(DirectDepositDescription,{relationshipId:r.value});if(r.type===I.i.ACH_RELATIONSHIP){const e=T.value===r.value;return(0,M.tZ)(BankAccountDescription,{isRetirementAccount:a,relationshipId:r.value,selected:e})}return null}),[n,a,m,T]);return(0,M.tZ)(l.Fragment,null,(0,M.tZ)(Z.L,{css:L,getItemKey:e=>e.label,isDisabled:o,items:C||(0,s.List)(),onSelectItem:e=>{e.value===P.fI?D(!0):u(e)},optionsWidth:d,renderControlLabel:renderTransferSourceLabel,renderItemDescription:x,renderItemLabel:renderTransferSourceLabel,selectedItem:T}),O&&(0,M.tZ)(S.P6,{onClose:()=>{D(!1)},onLinkSuccess:async e=>{const t=E.ao.issueQuery({},{fetchLimit:0});await v(t).meta.promise,u({label:"",type:I.i.ACH_RELATIONSHIP,value:e})}}))}function renderTransferSourceLabel(e){let{item:t}=e;return t.value===P.fI?(0,M.tZ)(u.Dy.Text,{color:d.E1.Primary,isBold:!0,size:"S"},r||(r=(0,M.tZ)(D.DH,{defaultMessage:"Add Bank Account",id:"OrderForm.Fields.recurring.addBankAccount",status:"legacy"}))):(0,M.tZ)("span",null,t.label)}const A=(0,x.I)((function BuyingPowerDescription(e){let{asset:t}=e;const{activeAccount:n}=(0,v.X_)((0,y.DV)()),r=(0,f.y)(),i=(0,v.X_)((0,T.Kg)(n,t));return n&&r&&t&&null!=i?Number(r.buyingPower.amount)<0?o||(o=(0,M.tZ)(D.DH,{defaultMessage:"Account Deficit",id:"OrderForm.Fields.recurring.buyingPower.deficitDescription",status:"legacy"})):(0,M.tZ)(D.DH,{defaultMessage:"{amount} available",id:"OrderForm.Fields.recurring.buyingPower.description",status:"legacy",values:{amount:(0,M.tZ)(C.tY,{money:i})}}):null}));var F={name:"1dtifey",styles:"display:flex;text-transform:capitalize"};function BankAccountDescription(e){let{isRetirementAccount:t,relationshipId:n,selected:r}=e;const o=(0,k.tT)({model:E.ao,params:{id:n}}),s=(0,p.VD)(g.h2.Prime),c=o.result;if(!c)return null;const u=(0,M.tZ)("div",{style:{alignItems:"center",display:"flex",justifyContent:"right"}},(0,M.tZ)(m.sg,(0,a.Z)({"aria-label":"retirementIcon"},r?{}:{color:d.E1.Positive},{type:"Retirement16"})),i||(i=(0,M.tZ)("span",null,"Match")));return(0,M.tZ)("span",{css:F},c.bank_account_type," ••••",c.bank_account_number," ",t&&(0,M.tZ)(l.Fragment,null," · "," ",(0,M.tZ)("span",{css:r?{}:{color:s}},u)))}function DirectDepositDescription(e){var t;let{relationshipId:n}=e;const r=(0,D.og)(),o=null===(t=(0,w.x)({}).result)||void 0===t?void 0:t.find((e=>e.id===n));return o&&o.last_paycheck_amount&&0!==Number(o.last_paycheck_amount)?(0,M.tZ)("span",null,(0,M.tZ)(D.DH,{defaultMessage:"Last paycheck amount: {paycheckAmount}",id:"OrderForm.Fields.recurring.directDeposit.description",status:"legacy",values:{paycheckAmount:(0,O.WY)(R.WI.fromRawUSD(o.last_paycheck_amount),{intl:r})}})):null}},39312:(e,t,n)=>{"use strict";n.d(t,{p:()=>RecurringFields});var r,o,i=n(50657),a=n(27378),s=n(21675),l=n(38978),c=n(73367),u=n(61554),d=n(64900),p=n(27865),g=n(20839),m=n(83557),y=n(93284),f=n(83437),v=n(75579),h=n.n(v),_=n(10043);var b={name:"q82x4k",styles:"align-items:center;display:flex;flex-direction:row"};function PercentageAmountRow(e){let{isCrypto:t,isDisabled:n,isFocused:i,isNewLayout:a,isRecurring:s,onSetPercentageAmount:l,percentageAmount:c,shouldUseLegacyCryptoOrderForm:u,shouldUseLongField:v}=e;const C=(0,m.L)();return(0,_.tZ)(p.p,{field:(0,_.tZ)("div",{className:(0,d.cx)(h().field,{[h().isLong]:v,[h().isLegacyCryptoOrderForm]:u})},(0,_.tZ)(g.Q,{disabled:n,isFocused:i,max:100,min:1,onChange:e=>{l(e)},placeholder:"0%",textAlign:"right",value:c?c.toString():null})),htmlFor:C,label:(0,_.tZ)("div",{css:b},r||(r=(0,_.tZ)(y.DH,{defaultMessage:"Amount",id:"OrderForm.Fields.percentageAmount.label",status:"legacy"})),s&&t&&(o||(o=(0,_.tZ)(f.F,null)))),multiLine:a})}var C=n(24498),O=n(67527),S=n(87631),E=n(85770),P=n(6377),Z=n(85945),D=n(71881),T=n(8582),w=n(44574),I=n(96908),k=n(34314),x=n(89263),R=n(25933),M=n(12633),L=n(82516);var A=n(30156),F=n(4849),N=n(9224);function usePaycheckInvestment(){const e=!!(0,F.n)(A.V.paycheckInvestment),{rhsAccount:t,rhyAccount:n}=(0,N.v)();return e&&void 0!==t&&void 0!==n}var B,j,H,U,z=n(14837),W=n(74782),q=n(15238),Y=n(23371),V=n(64649),G=n(80964),K=n(66808),Q=n(50169);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,V.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RecurringAmountTypeRow(e){let{isDisabled:t,isNewLayout:n,onSetRecurringAmountType:r,overrideAmountType:o,recurringAmountType:i,shouldUseLegacyCryptoOrderForm:a,shouldUseLongField:s}=e;const l=(0,y.og)();return(0,_.tZ)("div",{"data-testid":q.c.OrderForm.RecurringAmountTypeRow},(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{shouldUseLegacyCryptoOrderForm:a,shouldUseLongField:s},(0,_.tZ)(G.S,{onChange:e=>r(e.value),options:[{label:l.formatMessage({defaultMessage:"Dollar amount",id:"OrderForm.Fields.recurringAmountUnits.dollars",status:"legacy"}),value:c.OrderRecurringAmountType.Dollar},{label:l.formatMessage({defaultMessage:"Percentage",id:"OrderForm.Fields.recurringAmountUnits.percentage",status:"legacy"}),value:c.OrderRecurringAmountType.Percentage}],state:t?"disabled":"default",value:i})),isVertical:!1,label:(0,_.tZ)(RecurringAmountTypeLabel,{overrideAmountType:o,shouldUseLongField:s}),multiLine:n,readOnly:!1}))}var X={name:"qamjgr",styles:"margin-right:4px"},J={name:"1tpdvqq",styles:"width:240px"},$={name:"5bhc30",styles:"margin-bottom:8px"},ee={name:"t51gf6",styles:"margin-left:translateX(-2px)"};function RecurringAmountTypeLabel(e){let{overrideAmountType:t,shouldUseLongField:n}=e;return(0,_.tZ)("div",{css:(0,_.iv)(_objectSpread({alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"wrap"},n?void 0:{maxWidth:70}),"")},B||(B=(0,_.tZ)(s.Dy.Text,{size:"S"},(0,_.tZ)(y.DH,{defaultMessage:"Amount",id:"OrderForm.Fields.recurring.amountType.label.amount",status:"legacy"}))),n?(0,_.tZ)("span",{css:X}):j||(j=(0,_.tZ)("br",null)),H||(H=(0,_.tZ)(s.Dy.Text,{size:"S"},(0,_.tZ)(y.DH,{defaultMessage:"Type",id:"OrderForm.Fields.recurring.amountType.label.type",status:"legacy"}))),(0,_.tZ)(K.w,{content:(0,_.tZ)("div",{css:J},(0,_.tZ)("div",{css:$},U||(U=(0,_.tZ)(s.Dy.Text,{isBold:!0,size:"M"},(0,_.tZ)(y.DH,{defaultMessage:"Amount type",id:"OrderForm.Fields.recurring.amountTypeTooltip.title",status:"legacy"})))),(0,_.tZ)(s.Dy.Text,{size:"S"},(0,_.tZ)(RecurringAmountTypeLabelTooltipMessage,{overrideAmountType:t}))),css:ee,iconColorToken:l.Wt.Fg1,marginTop:Q.q3,trigger:"click"}))}function RecurringAmountTypeLabelTooltipMessage(e){let{overrideAmountType:t}=e;return t===c.OrderRecurringAmountType.Dollar?(0,_.tZ)(y.DH,E.AW):t===c.OrderRecurringAmountType.Percentage?(0,_.tZ)(y.DH,E.u9):(0,_.tZ)(y.DH,E.Ox)}var te,ne,re,oe=n(25773),ie=n(1460),ae=n(20809);function RecurringFrequencyRow(e){var t,n;let{areFieldsDisabled:r,asset:o,isEditing:i,isNewLayout:s,onSetScheduleFrequency:l,optionsWidth:u,recurringStartDate:d,scheduleFrequency:g,shouldUseLegacyCryptoOrderForm:m=!1,shouldUseLongField:f}=e;const{locale:v}=(0,y.og)(),h=a.useCallback((e=>{let{item:n}=e;const r=o instanceof P.s?E.M1:E.Ib;return(0,_.tZ)(y.DH,(0,oe.Z)({},r[n],{values:{dayOfMonth:(0,Y.T2)(d,v),dayOfWeek:t||(t=(0,_.tZ)(ie.FormattedDate,{value:d,weekday:"long"}))}}))}),[o,v,d]),b=a.useCallback((e=>{let{item:t}=e;const n=o instanceof P.s?E._5:E.mu;return(0,_.tZ)(y.DH,n[t])}),[o]),C=[...usePaycheckInvestment()&&!i?[c.ScheduleFrequency.PAYCHECK]:[],c.ScheduleFrequency.DAILY,c.ScheduleFrequency.WEEKLY,c.ScheduleFrequency.BIWEEKLY,c.ScheduleFrequency.MONTHLY],O=o instanceof P.s||g===c.ScheduleFrequency.PAYCHECK;return(0,_.tZ)(_.ms,null,(e=>{let{css:t}=e;return(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{"data-testid":q.c.OrderForm.RecurringFrequencyDropdown,shouldUseLegacyCryptoOrderForm:m,shouldUseLongField:f},(0,_.tZ)(ae.L,{isDisabled:r,items:C,onSelectItem:l,optionsWidth:u,renderControlLabel:b,renderItemDescription:e=>{let{item:t}=e;return(0,_.tZ)(h,{item:t})},renderItemLabel:b,selectedItem:g})),label:n||(n=(0,_.tZ)(RecurringFrequencyLabel,{hideToolTip:O,scheduleFrequency:g,shouldUseLongField:f})),labelClassName:t({overflow:"visible"}),multiLine:s})}))}var se={name:"fb3ivt",styles:"align-items:center;display:flex;flex-direction:row;flex-wrap:wrap"},le={name:"1tpdvqq",styles:"width:240px"},ce={name:"5bhc30",styles:"margin-bottom:8px"},ue={name:"t51gf6",styles:"margin-left:translateX(-2px)"};function RecurringFrequencyLabel(e){let{hideToolTip:t,scheduleFrequency:n,shouldUseLongField:r}=e;return(0,_.tZ)("div",{css:se},te||(te=(0,_.tZ)(y.DH,{defaultMessage:"Frequency",id:"OrderForm.Fields.recurring.frequency",status:"legacy"})),!t&&(0,_.tZ)(K.w,{content:(0,_.tZ)("div",{css:le},(0,_.tZ)("div",{css:ce},ne||(ne=(0,_.tZ)(s.Dy.Text,{isBold:!0,size:"M"},(0,_.tZ)(y.DH,{defaultMessage:"Frequency",id:"OrderForm.Fields.recurring.frequencyTooltip.title",status:"legacy"})))),(0,_.tZ)(s.Dy.Text,{size:"S"},(0,_.tZ)(y.DH,E.al))),css:ue,iconColorToken:l.Wt.Fg1,marginTop:Q.q3,trigger:"click"}),n===c.ScheduleFrequency.PAYCHECK&&r&&(0,_.tZ)(a.Fragment,null,re||(re=(0,_.tZ)("br",null)),(0,_.tZ)(s.Dy.Text,{color:l.Wt.Fg2,size:"S"},(0,_.tZ)(y.DH,E.jc))))}var de,pe,ge=n(76312),me=n(78090);const ye={label:"None",type:R.i.ACH_RELATIONSHIP,value:null};var fe={name:"1tpdvqq",styles:"width:240px"},ve={name:"5bhc30",styles:"margin-bottom:8px"};const he=(0,ge.I)((function RecurringFundsBackupPaymentField(e){let{areFieldsDisabled:t,asset:n,backupPaymentSource:r,isNewLayout:o,isRetirementAccount:i,onSetBackupPaymentSource:a,optionsWidth:c,shouldUseLegacyCryptoOrderForm:u=!1,shouldUseLongField:d}=e;return(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{"data-testid":q.c.OrderForm.RecurringFundsBackupPaymentDropdown,shouldUseLegacyCryptoOrderForm:u,shouldUseLongField:d},(0,_.tZ)(me.n,{asset:n,defaultSource:ye,isDisabled:t,isRetirementAccount:i,onSetRecurringFundsSource:a,optionsWidth:c,recurringFundsSource:r||ye})),label:(0,_.tZ)("div",{css:(0,_.iv)({alignItems:"center",display:"flex",flexDirection:"row",flexWrap:o?"wrap":void 0},"")},de||(de=(0,_.tZ)(y.DH,{defaultMessage:"Backup",id:"OrderForm.Fields.recurring.RecurringFundsBackupPaymentField.label",status:"legacy"})),(0,_.tZ)(K.w,{content:(0,_.tZ)("div",{css:fe},(0,_.tZ)("div",{css:ve},pe||(pe=(0,_.tZ)(s.Dy.Text,{isBold:!0,size:"M"},(0,_.tZ)(y.DH,{defaultMessage:"Backup payment",id:"OrderForm.Fields.recurring.backupPaymentTooltip.title",status:"legacy"})))),(0,_.tZ)(s.Dy.Text,{size:"S"},r&&n instanceof P.s?(0,_.tZ)(y.DH,E.k$):(0,_.tZ)(y.DH,E.G4))),iconColorToken:l.Wt.Fg1,marginTop:Q.q3,trigger:"click"})),multiLine:o})}));var _e=n(29881),be=n(56912);const Ce="New IRA contribution";function RecurringRetirementFields(e){let{isNewLayout:t,shouldUseLegacyCryptoOrderForm:n,shouldUseLongField:r,showFields:o}=e;const i=(0,M.tT)({model:be.n});let s="";const l=(0,y.og)();if(i.result){var c;const e=i.result.summaries.map((e=>{let{display_year:t}=e;return Number(t)})).sort();s=null===(c=e[e.length-1])||void 0===c?void 0:c.toString()}return o?(0,_.tZ)(a.Fragment,null,(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{shouldUseLegacyCryptoOrderForm:n,shouldUseLongField:r},(0,_.tZ)(G.S,{onChange:()=>null,options:[{label:Ce,value:Ce}],state:"disabled",value:Ce})),isVertical:!1,label:l.formatMessage({defaultMessage:"Type",id:"RetirementField.Type",status:"legacy"}),multiLine:t,readOnly:!1}),(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{shouldUseLegacyCryptoOrderForm:n,shouldUseLongField:r},(0,_.tZ)(G.S,{onChange:()=>null,options:[{label:s,value:s}],state:"disabled",value:s})),isVertical:!1,label:l.formatMessage({defaultMessage:"Tax year",id:"RetirementField.TaxYear",status:"legacy"}),multiLine:t,readOnly:!1})):null}var Oe,Se,Ee;const Pe={recurringBlocked:{name:"1azuvtz",styles:"margin-bottom:16px;margin-top:16px"}};function RecurringFields(e){let{areFieldsDisabled:t,asset:n,backupPaymentSource:r,dollarAmount:o,fieldErrorType:s,isEditing:l=!1,isNewLayout:d,onSetBackupPaymentSource:g,onSetDollarAmount:m,onSetPercentageOfDirectDeposit:f,onSetRecurringAmountType:v,onSetRecurringFundsSource:h,onSetRecurringStartDate:b,onSetScheduleFrequency:S,optionsWidth:E,percentageOfDirectDeposit:k,recurringAccount:M,recurringAmountType:L,recurringFundsSource:A,recurringStartDate:F,recurringTradability:N,scheduleFrequency:B,shouldUseLegacyCryptoOrderForm:j=!1,shouldUseLongField:H}=e;const U=n instanceof P.s?x.L6.CRYPTO:x.L6.EQUITY,[V,G]=(0,z.p)(U);a.useEffect((()=>{F<V?b(V):F>G&&b(G)}),[V,G,F,b]);const K=usePaycheckInvestment(),Q=a.useCallback((e=>{x.g8.getNextInvestmentDate(e,B,n instanceof P.s?x.L6.CRYPTO:x.L6.EQUITY).then((e=>b(e)),(()=>{}))}),[B,n,b]);a.useEffect((()=>{n instanceof w.k0&&!(0,Y.wc)((0,i.utcToZonedTime)(F,Y.iz))&&Q(F)}),[n,F,Q]);const X=G;X.setHours(23,59,59);const J=V;J.setHours(0,0,0,0);const $=(0,O.X_)((0,C.$p)());if(null!=N&&N.reason)return(0,_.tZ)("div",{css:Pe.recurringBlocked,"data-testid":q.c.OrderForm.RecurringBlocked},(0,_.tZ)(D.Y,{isBold:!0},N.reason.title),(0,_.tZ)(Z.H,{value:N.reason.description}));const ee=!(null==M||!M.isRetirementAccount||A.type!==R.i.ACH_RELATIONSHIP&&((null==r?void 0:r.type)!==R.i.ACH_RELATIONSHIP||!r.value));return K&&B===c.ScheduleFrequency.PAYCHECK?(0,_.tZ)(PaycheckInvestmentFields,{areFieldsDisabled:t,asset:n,dollarAmount:o,fieldErrorType:s,isEditing:l,isNewLayout:d,onSetDollarAmount:m,onSetPercentageOfDirectDeposit:f,onSetRecurringAmountType:v,onSetRecurringFundsSource:h,onSetScheduleFrequency:S,optionsWidth:E,percentageOfDirectDeposit:k,recurringAmountType:L,recurringFundsSource:A,recurringStartDate:F,scheduleFrequency:B,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H}):(0,_.tZ)("div",null,(0,_.tZ)(u.T,{dollarAmount:o,isCrypto:n instanceof P.s,isDisabled:t,isFocused:"dollarAmount"===s,isNewLayout:d,isRecurring:!0,onSetDollarAmount:m,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H}),(0,_.tZ)(p.p,{field:(0,_.tZ)(I.o,{shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H},(0,_.tZ)(T.M,{date:F,disableESTWeekends:n instanceof w.k0,isDisabled:t,isNewLayout:d,maxStartDate:X,minStartDate:J,setDate:Q})),label:l?Oe||(Oe=(0,_.tZ)(y.DH,{defaultMessage:"Next order date",id:"OrderForm.Fields.recurring.nextOrderDate",status:"legacy"})):Se||(Se=(0,_.tZ)(y.DH,{defaultMessage:"Starts",id:"OrderForm.Fields.recurring.startDate",status:"legacy"})),multiLine:d}),(0,_.tZ)(RecurringFrequencyRow,{areFieldsDisabled:t,asset:n,isEditing:l,isNewLayout:d,onSetScheduleFrequency:e=>{S(e),(0,W.tn)(n,e)},optionsWidth:E,recurringStartDate:F,scheduleFrequency:B,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H}),(0,_.tZ)(_e.fl,{areFieldsDisabled:t,asset:n,isNewLayout:d,isRetirementAccount:!!M&&M.isRetirementAccount,onSetRecurringFundsSource:e=>{h(e),(0,W.mn)(n,e),null!=r&&e.type!==R.i.BUYING_POWER&&g(null)},optionsWidth:E,recurringFundsSource:A,scheduleFrequency:B,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H}),A.type===R.i.BUYING_POWER&&(0,_.tZ)(he,{areFieldsDisabled:t,asset:n,backupPaymentSource:r,isNewLayout:d,isRetirementAccount:!!M&&M.isRetirementAccount,onSetBackupPaymentSource:g,optionsWidth:E,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H}),$.size>1&&(0,_.tZ)(RecurringRetirementFields,{isNewLayout:d,shouldUseLegacyCryptoOrderForm:j,shouldUseLongField:H,showFields:ee}))}function PaycheckInvestmentFields(e){let{areFieldsDisabled:t,asset:n,dollarAmount:r,fieldErrorType:o,isEditing:i=!1,isNewLayout:d,onSetDollarAmount:g,onSetPercentageOfDirectDeposit:m=(()=>{}),onSetRecurringAmountType:f=(()=>{}),onSetRecurringFundsSource:v,onSetScheduleFrequency:h,optionsWidth:b,percentageOfDirectDeposit:C=null,recurringAmountType:O=c.OrderRecurringAmountType.Dollar,recurringFundsSource:Z,recurringStartDate:D,scheduleFrequency:T,shouldUseLegacyCryptoOrderForm:w=!1,shouldUseLongField:I}=e;const A=n instanceof P.s,{overrideFrequency:F}=(0,k.m)(),N=(0,L.x)({}),B=function useDirectDepositInvestmentAmountType(e){const[t,n]=(0,a.useState)(),r=(0,L.x)({}),o=(0,M.tT)({many:!0,model:x.g8,params:{asset_types:[x.L6.EQUITY,x.L6.CRYPTO]}});return(0,a.useEffect)((()=>{if(e.type===R.i.DIRECT_DEPOSIT){var t;const a=null===(t=r.result)||void 0===t?void 0:t.find((t=>t.id===e.value));if((null==a?void 0:a.paycheck_investment_amount_type)===c.OrderRecurringAmountType.Dollar&&n(c.OrderRecurringAmountType.Dollar),(null==a?void 0:a.paycheck_investment_amount_type)===c.OrderRecurringAmountType.Percentage&&n(c.OrderRecurringAmountType.Percentage),null===e.value){var i;const e=null===(i=o.result)||void 0===i?void 0:i.find((e=>e.source_of_funds===R.i.DIRECT_DEPOSIT&&null===e.direct_deposit_relationship_id));e&&n(0!==e.percentageOfDirectDeposit?c.OrderRecurringAmountType.Percentage:c.OrderRecurringAmountType.Dollar)}}}),[o.result,r.result,e.type,e.value]),t}(Z),j=N.result&&N.result.filter((e=>e.state===S.H.Active)).size>0;return(0,_.tZ)("div",null,(0,_.tZ)(RecurringAmountTypeRow,{isDisabled:t||i||!!B,isNewLayout:d,onSetRecurringAmountType:e=>{f(e),e===c.OrderRecurringAmountType.Dollar&&(0,W.P_)(n),e===c.OrderRecurringAmountType.Percentage&&(0,W.dT)(n)},overrideAmountType:B,recurringAmountType:O,shouldUseLegacyCryptoOrderForm:w,shouldUseLongField:I}),O===c.OrderRecurringAmountType.Dollar?(0,_.tZ)(u.T,{dollarAmount:r,isCrypto:A,isDisabled:t,isFocused:"dollarAmount"===o,isNewLayout:d,isRecurring:!0,onSetDollarAmount:g,shouldUseLegacyCryptoOrderForm:w,shouldUseLongField:I}):(0,_.tZ)(PercentageAmountRow,{isCrypto:A,isDisabled:t,isFocused:"percentageOfDirectDeposit"===o,isNewLayout:d,isRecurring:!0,onSetPercentageAmount:m,percentageAmount:C,shouldUseLegacyCryptoOrderForm:w,shouldUseLongField:I}),!i&&!F&&(0,_.tZ)(RecurringFrequencyRow,{areFieldsDisabled:t,asset:n,isEditing:i,isNewLayout:d,onSetScheduleFrequency:e=>{h(e),(0,W.tn)(n,e),e!==c.ScheduleFrequency.PAYCHECK&&(f(c.OrderRecurringAmountType.Dollar),(0,W.P_)(n))},optionsWidth:b,recurringStartDate:D,scheduleFrequency:T,shouldUseLegacyCryptoOrderForm:w,shouldUseLongField:I}),j&&(0,_.tZ)(_e.fl,{areFieldsDisabled:t,asset:n,isEditing:i,isNewLayout:d,onSetRecurringFundsSource:e=>{v(e),(0,W.mn)(n,e)},optionsWidth:b,recurringAmountType:O,recurringFundsSource:Z,scheduleFrequency:T,shouldUseLegacyCryptoOrderForm:w,shouldUseLongField:I}),(i||F===c.ScheduleFrequency.PAYCHECK)&&(0,_.tZ)(p.p,{field:(0,_.tZ)(y.DH,E.mu[c.ScheduleFrequency.PAYCHECK]),label:(0,_.tZ)(a.Fragment,null,Ee||(Ee=(0,_.tZ)(y.DH,{defaultMessage:"Frequency",id:"RecurringFields.PaycheckInvestmentFields.frequency.label",status:"legacy"})),(0,_.tZ)("div",null,(0,_.tZ)(s.Dy.Text,{color:l.Wt.Fg2,size:"S"},(0,_.tZ)(y.DH,E.jc)))),multiLine:d}))}},87550:(e,t,n)=>{"use strict";n.d(t,{As:()=>useRecordsForTradeLog,Kg:()=>useAssetBuyingPower,ak:()=>useRelativeDay,ck:()=>useRecordsForSchedule});var r=n(36731),o=n(3996),i=n.n(o),a=n(73367),s=n(42925),l=n(18934),c=n(67527),u=n(51694),d=n(15379),p=n(78361),g=n(16238),m=n(89676),y=n(6377),f=n(66396),v=n(46188),h=n(42364),_=n(44574),b=n(93284),C=n(82516),O=n(89263),S=n(12633);function createSkippedOrderRecord(e){return e.asset_type===O.L6.CRYPTO?new g.Y({created_at:e.investment_date,quantity:"0.00",state:e.trade_skipped_reason?u.rf.Failed:u.rf.Unconfirmed,type:a.OrderType.Market}):new s.OrderRecord({created_at:e.investment_date,quantity:"",state:e.trade_skipped_reason?d.Kq.Failed:d.Kq.Unconfirmed,type:a.OrderType.Market})}function useRecordsForTradeLog(e){var t;const[n,r,o,a,l,u]=(0,c.X_)((0,S.tT)({model:s.AccountRecord,params:{account_number:e.account_number}}),(0,S.tT)({disabled:!(e.asset_type!==O.L6.CRYPTO),model:_.k0,params:{id:e.asset_id}}),(0,S.tT)({disabled:!(e.asset_type===O.L6.CRYPTO),model:y.s,params:{id:e.asset_id}}),(0,S.tT)({disabled:!(e.order_id&&e.asset_type!==O.L6.CRYPTO),model:s.OrderRecord,params:{id:e.order_id}}),(0,S.tT)({disabled:!(e.order_id&&e.asset_type===O.L6.CRYPTO),model:g.Y,params:{id:e.order_id}}),(0,S.tT)({disabled:!e.ach_transfer_id,model:v.A,params:{id:e.ach_transfer_id}})),d=r||o;i()(null!=d,"Guaranteed non-null");return{account:n,achRelationship:(0,c.X_)((0,S.tT)({disabled:!(null!=u&&u.ach_relationship),model:f.ao,params:{id:f.ao.idFromUrl(null!==(t=null==u?void 0:u.ach_relationship)&&void 0!==t?t:"")}})),achTransfer:u,asset:d,order:a||l||createSkippedOrderRecord(e)}}function useRecordsForSchedule(e){const[t,n,r,o,a]=(0,c.X_)((0,S.tT)({model:s.AccountRecord,params:{account_number:e.account_number}}),(0,S.tT)({disabled:!(e.investment_asset.asset_type===O.L6.EQUITY),model:_.k0,params:{id:e.investment_asset.asset_id}}),(0,S.tT)({disabled:!(e.investment_asset.asset_type===O.L6.CRYPTO),model:y.s,params:{id:e.investment_asset.asset_id}}),(0,S.tT)({disabled:!e.ach_relationship_id,model:f.ao,params:{id:e.ach_relationship_id}}),(0,C.x)({schedule:e})),[l,u,d]=(0,c.X_)((0,S.tT)({disabled:!n,model:_.Z9,params:{instrument:null==n?void 0:n.url}}),(0,S.tT)({disabled:!r,model:m.a,params:{id:null==r?void 0:r.id}}),useAssetBuyingPower(t,n||r)),p=n||r,g=l||u;return i()(null!=p&&null!=g,"these are guaranteed non-null"),{account:t,achRelationship:o,asset:p,assetBuyingPower:d||null,directDepositRelationships:a,quote:g}}function useAssetBuyingPower(e,t){var n;return(0,c.pn)((0,c.GZ)((0,c.S3)((0,S.tT)({disabled:!(e&&t instanceof _.k0),model:l.b,params:{accountNumber:null==e?void 0:e.account_number,instrumentId:null==t?void 0:t.id}})),(0,c.S3)((0,S.tT)({disabled:!(e&&t instanceof y.s),model:p.S,params:{accountNumber:null==e?void 0:e.account_number,currencyCode:t instanceof y.s?null==t||null===(n=t.quote_currency)||void 0===n?void 0:n.code:null}}))),(e=>{var t,n;let[r,o]=e;return(null===(t=r.result)||void 0===t?void 0:t.buying_power)||(null===(n=o.result)||void 0===n?void 0:n.buying_power)}))}function useRelativeDay(e){const t=(0,h.mX)(),n=(0,b.og)(),o=(0,r.default)(e,t);return Math.abs(o)<=1?n.formatRelativeTime(o,"day",{numeric:"auto"}):n.formatDate(e,{format:"short"})}},82516:(e,t,n)=>{"use strict";n.d(t,{x:()=>useDirectDepositRelationships});var r=n(73367),o=n(87631),i=n(88055),a=n(30156),s=n(4849),l=n(25933),c=n(12633),u=n(9224);function useDirectDepositRelationships(e){let{orderType:t,schedule:n}=e;const d=!!(0,s.n)(a.V.paycheckInvestment),p=t&&t!==r.OrderType.Recurring||n&&n.source_of_funds!==l.i.DIRECT_DEPOSIT,{rhyAccount:g}=(0,u.v)(p);return(0,c.tT)({disabled:!(d&&null!=g&&g.id),many:!0,model:o.i,params:{account_id:null==g?void 0:g.id,account_type:i.r.RHY}})}},9224:(e,t,n)=>{"use strict";n.d(t,{v:()=>usePaycheckInvestmentAccounts});var r=n(42925),o=n(30156),i=n(4849),a=n(12633),s=n(91317);function usePaycheckInvestmentAccounts(e){var t,n;const l=!!(0,i.n)(o.V.paycheckInvestment),c=e||!l;return{rhsAccount:null===(t=(0,a.tT)({disabled:c,many:!0,model:r.AccountRecord,params:void 0}).result)||void 0===t?void 0:t.get(0),rhyAccount:null===(n=(0,a.tT)({disabled:c,many:!0,model:s._,params:void 0}).result)||void 0===n?void 0:n.get(0)}}},21122:(e,t,n)=>{"use strict";n.d(t,{_:()=>useRecurringAmountType});var r=n(34051),o=n(27378),i=n(73367),a=n(89263),s=n(25933),l=n(12633),c=n(82516);function getRecurringAmountType(e){let{ddRelationships:t,investmentSchedules:n,recurringFundsSource:r,schedule:o}=e;if(null!=o&&o.direct_deposit_relationship_id||r.type===s.i.DIRECT_DEPOSIT){const e=t.find((e=>e.id===(null==o?void 0:o.direct_deposit_relationship_id)||e.id===r.value));if((null==e?void 0:e.paycheck_investment_amount_type)===i.OrderRecurringAmountType.Percentage)return i.OrderRecurringAmountType.Percentage;if(null===r.value){const e=n.find((e=>e.source_of_funds===s.i.DIRECT_DEPOSIT&&null===e.direct_deposit_relationship_id));if(e&&0!==e.percentageOfDirectDeposit)return i.OrderRecurringAmountType.Percentage}}return i.OrderRecurringAmountType.Dollar}function useRecurringAmountType(e){let{orderType:t,recurringFundsSource:n,schedule:i}=e;const u=(0,c.x)({orderType:t}),d=(0,l.tT)({disabled:!(n.type===s.i.DIRECT_DEPOSIT&&null===n.value),many:!0,model:a.g8,params:{asset_types:[a.L6.EQUITY,a.L6.CRYPTO]}}),[p,g]=(0,o.useState)(getRecurringAmountType({ddRelationships:u.result||(0,r.List)(),investmentSchedules:d.result||(0,r.List)(),recurringFundsSource:n,schedule:i}));return(0,o.useEffect)((()=>{g(getRecurringAmountType({ddRelationships:u.result||(0,r.List)(),investmentSchedules:d.result||(0,r.List)(),recurringFundsSource:n,schedule:i}))}),[u.result,n,i,d.result]),{recurringAmountType:p,setRecurringAmountType:g}}},14837:(e,t,n)=>{"use strict";n.d(t,{p:()=>useRecurringDateRange});var r=n(73367),o=n(42364),i=n(89263),a=n(28489),s=n(23371);const l=(0,n(55547).b)(((e,t,n)=>"".concat((0,s.b7)(e),":").concat(t,":").concat(n)),i.g8.getNextInvestmentDate);function useRecurringDateRange(e){const t=(0,o.mX)(),n=t,i=new Date(t.getFullYear()+1,11,31);return[(0,a.r5)((()=>l(n,r.ScheduleFrequency.DAILY,e)),[e])||n,i]}},456:(e,t,n)=>{"use strict";n.d(t,{c:()=>useRecurringFundsSource});var r=n(34051),o=n(27378),i=n(73367),a=n(87631),s=n(66396),l=n(29881),c=n(82516),u=n(25933),d=n(12633);function getInitialFundsSource(e){let{achRelationships:t,ddRelationships:n,schedule:r,scheduleFrequency:o}=e;if(o===i.ScheduleFrequency.PAYCHECK){if(null!=r&&r.direct_deposit_relationship_id){const e=n.find((e=>e.id===r.direct_deposit_relationship_id));if(e)return{label:e.originator_name,type:u.i.DIRECT_DEPOSIT,value:e.id}}else{const e=n.filter((e=>e.state===a.H.Active)).get(0);if(e)return{label:e.originator_name,type:u.i.DIRECT_DEPOSIT,value:e.id}}return{label:"",type:u.i.DIRECT_DEPOSIT,value:null}}if((null==r?void 0:r.source_of_funds)===u.i.ACH_RELATIONSHIP){const e=t.find((e=>e.id===r.ach_relationship_id));return e?{label:e.bank_account_nickname,type:u.i.ACH_RELATIONSHIP,value:e.id}:{label:"",type:u.i.ACH_RELATIONSHIP,value:null}}return l.cc}function useRecurringFundsSource(e){let{orderType:t,schedule:n,scheduleFrequency:a}=e;const l=(0,d.tT)({disabled:!!t&&t!==i.OrderType.Recurring,many:!0,model:s.ao,params:void 0}),u=(0,c.x)({orderType:t}),[p,g]=(0,o.useState)(getInitialFundsSource({achRelationships:l.result||(0,r.List)(),ddRelationships:u.result||(0,r.List)(),schedule:n,scheduleFrequency:a}));return(0,o.useEffect)((()=>{g(getInitialFundsSource({achRelationships:l.result||(0,r.List)(),ddRelationships:u.result||(0,r.List)(),schedule:n,scheduleFrequency:a}))}),[u.result,n,a,l.result]),{recurringFundsSource:p,setRecurringFundsSource:g}}},53291:(e,t,n)=>{"use strict";n.d(t,{j:()=>useRefreshDirectDepositRelationships});var r=n(27378),o=n(87631),i=n(88055),a=n(30156),s=n(4849),l=n(25933),c=n(12633),u=n(9224);function useRefreshDirectDepositRelationships(e){let{recurringFundsSource:t,schedule:n}=e;const d=(0,c.C$)(),p=!!(0,s.n)(a.V.paycheckInvestment),g=t&&t.type!==l.i.DIRECT_DEPOSIT||n&&n.source_of_funds!==l.i.DIRECT_DEPOSIT,{rhyAccount:m}=(0,u.v)(g);return(0,r.useCallback)((()=>{p&&null!=m&&m.id&&d.invalidate({many:!0,model:o.i,params:{account_id:m.id,account_type:i.r.RHY}})}),[p,d,m])}},85992:(e,t,n)=>{"use strict";n.d(t,{X:()=>createRecurringPayload,S:()=>sendRecurringSchedule});var r=n(73367),o=n(25933),i=n(23371),a=n(60723);function createRecurringPayload(e){let{account_number:t,asset_id:n,asset_type:s,dollarAmount:l,percentageOfDirectDeposit:c,recurringAmountType:u,recurringBackupPaymentSource:d,recurringFundsSource:p,recurringMinStartDate:g,recurringStartDate:m,ref_id:y,scheduleFrequency:f,symbol:v}=e;return{account_number:t,ach_relationship_id:p.type===o.i.ACH_RELATIONSHIP&&p.value?p.value:(null==d?void 0:d.value)||null,amount:{amount:u===r.OrderRecurringAmountType.Dollar?l:"0",currency_code:a._V.USD},direct_deposit_relationship_id:p.type===o.i.DIRECT_DEPOSIT&&p.value?p.value:null,frequency:f,investment_asset:{asset_id:n,asset_symbol:v,asset_type:s},is_backup_ach_enabled:null!=(null==d?void 0:d.value),percentage_of_direct_deposit:u===r.OrderRecurringAmountType.Percentage&&c?c:null,ref_id:y,source_of_funds:(h=p,h.type===o.i.BUYING_POWER?o.i.BUYING_POWER:h.type===o.i.DIRECT_DEPOSIT?o.i.DIRECT_DEPOSIT:o.i.ACH_RELATIONSHIP),start_date:f===r.ScheduleFrequency.PAYCHECK?(0,i.Ij)(g):(0,i.Ij)(m)};var h}var s=n(89263);async function sendRecurringSchedule(e,t){const n=s.g8.issueCreate(e,{queryParams:{account_number:e.account_number}});return new s.g8(await t(n).meta.promise)}},74782:(e,t,n)=>{"use strict";n.d(t,{Am:()=>logReviewRecurringOrder,N$:()=>logSubmitRecurringOrder,P_:()=>logSelectRecurringDollarAmount,dT:()=>logSelectRecurringPercentageAmount,mn:()=>logSelectRecurringPaymentMethod,tn:()=>logSelectRecurringFrequency});var r=n(64649),o=n(73367),i=n(6377),a=n(84974),s=n(22903),l=n(49569),c=n(44574),u=n(89263),d=n(25933);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p={component_type:l.t.event_logging.Component.ComponentType.DROPDOWN_OPTION},g={component_type:l.t.event_logging.Component.ComponentType.BUTTON},m={component_type:l.t.event_logging.Component.ComponentType.REVIEW_BUTTON};function getRecurringLoggingScreenName(e){return e instanceof c.k0?l.t.event_logging.Screen.Name.EQUITY_ORDER_ENTRY:e instanceof i.s?l.t.event_logging.Screen.Name.CRYPTO_ORDER_ENTRY:(null==e?void 0:e.asset_type)===u.L6.EQUITY?l.t.event_logging.Screen.Name.EQUITY_ORDER_ENTRY:(null==e?void 0:e.asset_type)===u.L6.CRYPTO?l.t.event_logging.Screen.Name.CRYPTO_ORDER_ENTRY:l.t.event_logging.Screen.Name.NAME_UNSPECIFIED}function getRecurringLoggingFrequency(e){switch(e){case o.ScheduleFrequency.DAILY:return l.t.event_logging.RecurringContext.ScheduleFrequency.DAILY;case o.ScheduleFrequency.WEEKLY:return l.t.event_logging.RecurringContext.ScheduleFrequency.WEEKLY;case o.ScheduleFrequency.BIWEEKLY:return l.t.event_logging.RecurringContext.ScheduleFrequency.BIWEEKLY;case o.ScheduleFrequency.MONTHLY:return l.t.event_logging.RecurringContext.ScheduleFrequency.MONTHLY;case o.ScheduleFrequency.PAYCHECK:return l.t.event_logging.RecurringContext.ScheduleFrequency.PAYCHECK}}function getRecurringLoggingSourceOfFunds(e){switch(e.type){case d.i.BUYING_POWER:return l.t.event_logging.RecurringContext.RecurringFundsSource.BUYING_POWER;case o.BankAccount.Checking:case o.BankAccount.Savings:case d.i.ACH_RELATIONSHIP:return l.t.event_logging.RecurringContext.RecurringFundsSource.ACH;case d.i.DIRECT_DEPOSIT:return l.t.event_logging.RecurringContext.RecurringFundsSource.DIRECT_DEPOSIT}}function logSelectRecurringFrequency(e,t){s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.SELECT_RECURRING_FREQUENCY,component:p,context:{recurring_context:{frequency:getRecurringLoggingFrequency(t)}},screen:{name:getRecurringLoggingScreenName(e)}})}function logSelectRecurringPaymentMethod(e,t){s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.SELECT_PAYMENT_METHOD,component:p,context:{recurring_context:_objectSpread({source_of_funds:getRecurringLoggingSourceOfFunds(t)},t.type===d.i.DIRECT_DEPOSIT?{direct_deposit_relationship_id:t.value}:void 0)},screen:{name:getRecurringLoggingScreenName(e)}})}function logSelectRecurringDollarAmount(e){s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.SELECT_DOLLAR_AMOUNT,component:p,screen:{name:getRecurringLoggingScreenName(e)}})}function logSelectRecurringPercentageAmount(e){s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.SELECT_PERCENTAGE_AMOUNT,component:p,screen:{name:getRecurringLoggingScreenName(e)}})}function logReviewRecurringOrder(e){let{asset:t,dollarAmount:n,percentageOfDirectDeposit:r,recurringFundsSource:o,scheduleFrequency:i}=e;s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.REVIEW,component:m,context:{recurring_context:_objectSpread(_objectSpread(_objectSpread({frequency:getRecurringLoggingFrequency(i),source_of_funds:getRecurringLoggingSourceOfFunds(o)},n?{amount:Number(n)}:void 0),r?{percentage_of_direct_deposit:Number(r)}:void 0),o.type===d.i.DIRECT_DEPOSIT?{direct_deposit_relationship_id:o.value}:void 0)},screen:{name:getRecurringLoggingScreenName(t)}})}function logSubmitRecurringOrder(e){let{asset:t,dollarAmount:n,percentageOfDirectDeposit:r,recurringFundsSource:o,scheduleFrequency:i}=e;s.c.logClickEvent(a.YB,{action:l.t.event_logging.UserInteractionEventData.Action.SUBMIT_RECURRING_ORDER,component:g,context:{recurring_context:_objectSpread(_objectSpread(_objectSpread({frequency:getRecurringLoggingFrequency(i),source_of_funds:getRecurringLoggingSourceOfFunds(o)},n?{amount:Number(n)}:void 0),r?{percentage_of_direct_deposit:Number(r)}:void 0),o.type===d.i.DIRECT_DEPOSIT?{direct_deposit_relationship_id:o.value}:void 0)},screen:{name:getRecurringLoggingScreenName(t)}})}},96449:(e,t,n)=>{"use strict";n.d(t,{E:()=>trackRecurringAbandonment});var r=n(62865),o=n(1972);function trackRecurringAbandonment(e){(0,r.HU)("track",e===o.L.CRYPTO?"user-intentionally-dropped-from-recurring-creation-flow-crypto":"user-intentionally-dropped-from-recurring-creation-flow")}},56912:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r,o,i=n(64649),a=n(12633),s=n(91906);let l=(0,a.OF)((o=class RetirementUnfundedRecordV3 extends((0,s.A)({mobile_contents:[],summaries:[],title:"",web_contents:[]},"RetirementUnfundedRecordV3")){static url(){return this.urlRoot}},(0,i.Z)(o,"urlPath","/retirement_dashboard/unfunded/v3"),(0,i.Z)(o,"idField",(()=>"RetirementUnfundedV3")),(0,i.Z)(o,"refresh",3e4),r=o))||r},87224:(e,t,n)=>{"use strict";n.d(t,{r:()=>g});var r,o,i=n(27378),a=n(23104),s=n(74900),l=n(33240),c=n(55385),u=n(80908),d=n(12633),p=n(10043);const g=i.memo((e=>{let{children:t,experimentMatches:n}=e;const g=(0,d.tT)({model:s.P}).result,m=(0,a.useSelector)((e=>{const t={};return g?(n.forEach((n=>{const r=(0,c.dx)(e,g.id?{names:l.Uv.join(","),userId:g.id}:null,n.name);let o="control";(0,d.q_)(r)?o=r.variation:r||(o=void 0),t[n.name]=o})),t):t}));if(!g)return r||(r=(0,p.tZ)(u.T,null));const y=n.some((e=>e.variant===m[e.name])),f=n.filter((e=>e.isRequired)).every((e=>e.variant===m[e.name]));return n.every((e=>void 0===m[e.name]))&&n.length>0?null:y&&f?(0,p.tZ)(i.Fragment,null,t):o||(o=(0,p.tZ)(u.T,null))}))},80832:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r,o=n(27378),i=n(3650),a=n(80908),s=n(10043);const l=o.memo((function _FeatureGate(e){let{children:t,feature:n}=e;return(0,i.Ek)(n)?(0,s.tZ)(o.Fragment,null,t):r||(r=(0,s.tZ)(a.T,null))}))},22512:(e,t,n)=>{"use strict";n.d(t,{L:()=>PageRouter});var r=n(64649),o=n(25773),i=n(53782),a=n(73846),s=n(16651),l=n.n(s),c=n(27378),u=n(10959),d=n(58959),p=n(68485),g=n(4049),m=n(14184),y=n(30156),f=n(13281),v=n(5727),h=n(48209),_=n(51603),b=n(72514),C=n(3650),O=n(8340),S=n(19975),E=n(80908),P=n(37050),Z=n(61889),D=n(59200),T=n(49694),w=n(18990),I=n(33175),k=n(13361),x=n(61825),R=n(87224),M=n(80832),L=n(33802),A=n(21101),F=n(58265),N=n(90533),B=n(48157),j=n(86345),H=n(10043);const U=["path","type"],z=["path","type"];var W,q,Y,V,G,K,Q,X,J,$,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,pe,ge,me,ye,fe,ve,he,_e,be,Ce,Oe,Se,Ee,Pe,Ze,De,Te,we,Ie,ke;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const xe=n(27378).lazy((()=>n.e(14974).then(n.bind(n,25534)).then((({RemediationConfirmEmailPage:e})=>({default:e}))))),Re=n(27378).lazy((()=>n.e(54841).then(n.bind(n,92678)).then((({RHSUpdatedMarginAgreement:e})=>({default:e}))))),Me=n(27378).lazy((()=>n.e(18632).then(n.bind(n,83024)).then((({WebviewDebugPage:e})=>({default:e}))))),Le=n(27378).lazy((()=>n.e(76512).then(n.bind(n,72598)).then((({ATMFinderPage:e})=>({default:e}))))),Ae=n(27378).lazy((()=>n.e(46179).then(n.bind(n,21246)).then((({EarlyPayLearnMorePage:e})=>({default:e}))))),Fe=n(27378).lazy((()=>n.e(53997).then(n.bind(n,89405)).then((({PaycheckInvestmentLearnMorePage:e})=>({default:e}))))),Ne=n(27378).lazy((()=>Promise.all([n.e(82771),n.e(88748),n.e(95170)]).then(n.bind(n,76820)).then((({CatPayRouter:e})=>({default:e}))))),Be=n(27378).lazy((()=>Promise.all([n.e(80964),n.e(1491),n.e(49424),n.e(87835),n.e(10027),n.e(35296),n.e(82771),n.e(86114),n.e(64035),n.e(22648),n.e(50657),n.e(93498),n.e(39784),n.e(11901),n.e(80836),n.e(24498),n.e(1257),n.e(79146),n.e(60328),n.e(43666),n.e(14184),n.e(28411),n.e(32408),n.e(59537),n.e(25070),n.e(78550),n.e(76244),n.e(52354)]).then(n.bind(n,39307)).then((({PathfinderDebugPage:e})=>({default:e}))))),je=n(27378).lazy((()=>n.e(57883).then(n.bind(n,38350)).then((({RecordReplayPage:e})=>({default:e}))))),He=n(27378).lazy((()=>n.e(46550).then(n.bind(n,13403)).then((({CryptoUpgrade:e})=>({default:e}))))),Ue=n(27378).lazy((()=>n.e(64201).then(n.bind(n,57280)).then((({RemoteAgreementViewer:e})=>({default:e}))))),ze=n(27378).lazy((()=>n.e(66675).then(n.bind(n,19945)).then((({GoldUpgradePage:e})=>({default:e}))))),We=n(27378).lazy((()=>Promise.all([n.e(37833),n.e(23498)]).then(n.bind(n,71625)).then((({Inbox:e})=>({default:e}))))),qe=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(58780),n.e(46223),n.e(20511),n.e(20384),n.e(822)]).then(n.bind(n,13535)).then((({ListPage:e})=>({default:e}))))),Ye=n(27378).lazy((()=>Promise.all([n.e(3537),n.e(44243),n.e(67831)]).then(n.bind(n,58076)).then((({ChartDetail:e})=>({default:e}))))),Ve=n(27378).lazy((()=>Promise.all([n.e(99760),n.e(92938),n.e(3537),n.e(44243),n.e(60989)]).then(n.bind(n,38883)).then((({ChartDetailV2:e})=>({default:e}))))),Ge=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(35297)]).then(n.bind(n,2646)).then((({AcatsCreatePage:e})=>({default:e}))))),Ke=n(27378).lazy((()=>Promise.all([n.e(58272),n.e(40650)]).then(n.bind(n,50562)).then((({TaxCertificationPage:e})=>({default:e}))))),Qe=n(27378).lazy((()=>Promise.all([n.e(21666),n.e(66931)]).then(n.bind(n,90498)).then((({DocumentRequestsPage:e})=>({default:e}))))),Xe=n(27378).lazy((()=>Promise.all([n.e(8453),n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(92938),n.e(17269),n.e(58375),n.e(30114)]).then(n.bind(n,95078)).then((({RetirementDashboard:e})=>({default:e}))))),Je=n(27378).lazy((()=>n.e(16042).then(n.bind(n,4482)).then((({NewScreenerPage:e})=>({default:e}))))),$e=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(25023),n.e(34822),n.e(20384),n.e(98469),n.e(24428)]).then(n.bind(n,20589)).then((({ScreenerPage:e})=>({default:e}))))),et=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(58780),n.e(46223),n.e(20511),n.e(11068)]).then(n.bind(n,74305)).then((({EarningsQAPage:e})=>({default:e}))))),tt=n(27378).lazy((()=>n.e(76712).then(n.bind(n,82016)).then((({ShareholderEventsPage:e})=>({default:e}))))),nt=l()(((e,t)=>()=>{e?t.push(e):t.goBack()})),rt=(0,B.F)(L.M),ot=(0,B.F)(u.AW),it=(0,j.S)(rt,Z.G),at=c.lazy((()=>Promise.all([n.e(21666),n.e(1524)]).then(n.bind(n,80997))));function FundingRouter(){return W||(W=(0,H.tZ)(at,null))}const st=(0,a.ZP)({resolved:{},chunkName:()=>"shareholderx-containers-PublicEarningsQAPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(70148).then(n.bind(n,76440)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 76440}},{resolveComponent:e=>e.PublicEarningsQAPage});function getEarningsQAPage(e){return e?et:st}function PageRouter(e){var t;let{isLoggedIn:n,setCSPScope:r}=e;const a=(0,_.jU)()?N.W:u.rs,s=(0,S.hT)(p.kS),l=null===(t=(0,I.E)(y.V.deviceTokenHashDuplicateRemoval))||void 0===t?void 0:t.isMember();return(0,O.D)(),(0,c.useEffect)((()=>{r(b.c.DEFAULT)}),[r]),(0,c.useEffect)((()=>{n&&l&&s().meta.promise.then((()=>{(0,h.K7)(),(0,h.ul)(),(0,_.oW)().location.reload()}))}),[s,n,l]),(0,H.tZ)(a,null,q||(q=(0,H.tZ)(rt,{exact:!0,path:"/stocks/:symbolId/qa/events"},(0,H.tZ)(tt,null))),(0,H.tZ)(ot,{component:getEarningsQAPage(n),exact:!0,path:"/stocks/:symbolId/qa/:slug"}),(0,H.tZ)(rt,{path:"/crypto/upgrade"},(0,H.tZ)(M.v,{feature:C.h6.CRYPTO_TRADING},Y||(Y=(0,H.tZ)(He,null)))),(0,H.tZ)(rt,{path:"/options/upgrade",render:e=>(0,H.tZ)(u.l_,{to:(0,w.W6)({account_number:e.location.state.accountNumber,source:e.location.state.source,step:w.o$.INTRODUCTION})})}),(0,H.tZ)(u.AW,{exact:!0,path:F._.filter((e=>e.hasExperimentalSidebar)).map((e=>e.path))},(0,H.tZ)(v.Q,null,(0,H.tZ)(u.rs,null,F._.filter((e=>e.hasExperimentalSidebar)).map((e=>{let{path:t,type:n}=e,r=(0,i.Z)(e,U);const a=A.o[n];return(0,H.tZ)(a,(0,o.Z)({key:t,path:t},r))}))))),V||(V=(0,H.tZ)(L.M,{component:Ue,path:"/agreement"})),G||(G=(0,H.tZ)(L.M,{component:FundingRouter,path:"/funding"})),K||(K=(0,H.tZ)(L.M,{component:P.h,path:"/plaid_oauth_redirect"})),Q||(Q=(0,H.tZ)(L.M,{component:Qe,path:"/document_requests"})),(0,H.tZ)(rt,{path:"/chat-support"},(0,H.tZ)(R.r,{experimentMatches:[{name:y.V.cxChatSupportOptions.name,variant:y.V.cxChatSupportOptions.variants.MEMBER}]},X||(X=(0,H.tZ)(m.Tq,null)))),(0,H.tZ)(u.l_,{exact:!0,path:"/screener",to:"/screener/".concat(k.uk)}),(0,H.tZ)(rt,{path:"/screener/new"},(0,H.tZ)(R.r,{experimentMatches:[{name:y.V.screener.name,variant:y.V.screener.variants.MEMBER}]},J||(J=(0,H.tZ)(Je,null)))),(0,H.tZ)(rt,{path:"/screener/:id"},(0,H.tZ)(R.r,{experimentMatches:[{name:y.V.screener.name,variant:y.V.screener.variants.MEMBER}]},$||($=(0,H.tZ)($e,null)))),ee||(ee=(0,H.tZ)(rt,{exact:!0,includeBottomMargin:!1,path:"/messages"},(0,H.tZ)(We,null))),te||(te=(0,H.tZ)(rt,{exact:!0,includeBottomMargin:!1,path:"/messages/:selectedThreadId"},(0,H.tZ)(We,null))),ne||(ne=(0,H.tZ)(T.K,{flow:"rhy_upgrade",path:"/upgrade/money",routeComponent:L.M})),re||(re=(0,H.tZ)(T.K,{flow:"rhf_upgrade",path:"/upgrade/brokerage",routeComponent:L.M})),oe||(oe=(0,H.tZ)(T.K,{flow:"price_notif_threshold",path:"/price_notif_threshold",routeComponent:L.M})),ie||(ie=(0,H.tZ)(rt,{component:Le,path:"/atms"})),(0,H.tZ)(L.M,{exact:!0,path:"/crypto/:id/chart",render:e=>{const t=e.location.state&&e.location.state.canGoBack||!1?null:"/crypto/".concat(e.match.params.id),n=nt(t,e.history);return(0,H.tZ)(M.v,{feature:C.h6.CRYPTO_TRADING},(0,H.tZ)(Ye,{id:e.match.params.id,onGoBack:n}))}}),(0,H.tZ)(L.M,{exact:!0,path:"/stocks/:id/chart",render:e=>{const t=e.location.state&&e.location.state.canGoBack||!1?null:"/stocks/".concat(e.match.params.id),n=nt(t,e.history);return(0,H.tZ)(Ve,{id:e.match.params.id,onGoBack:n})}}),(0,H.tZ)(ot,{exact:!0,path:"/lists/robinhood/:id",render:e=>(0,H.tZ)(f.p,{component:qe,id:e.match.params.id,ownerType:"robinhood"})}),(0,H.tZ)(rt,{exact:!0,path:"/lists/custom/:id",render:e=>(0,H.tZ)(qe,{id:e.match.params.id,ownerType:"custom"})}),(0,H.tZ)(u.l_,{path:"/collections/popular",to:"/lists/robinhood/".concat(k.HO)}),(0,H.tZ)(L.M,{path:"/applink.robinhood.com/rh_web",render:e=>{let{location:t}=e;return(0,H.tZ)(u.l_,{to:_objectSpread(_objectSpread({},t),{},{pathname:"/rh_web"})})}}),(0,H.tZ)(u.l_,{exact:!0,path:"/collections/cryptocurrencies",to:"/lists/robinhood/".concat(k.tJ)}),ae||(ae=(0,H.tZ)(u.l_,{path:"/collections/:slug",to:"/"})),se||(se=(0,H.tZ)(rt,{component:Ae,path:"/early_direct_deposit"})),le||(le=(0,H.tZ)(rt,{component:Fe,path:"/paycheck_recurring_investment"})),ce||(ce=(0,H.tZ)(rt,{component:ze,path:"/gold"})),ue||(ue=(0,H.tZ)(rt,{component:Re,path:"/rhs-updated-margin-agreement"})),de||(de=(0,H.tZ)(u.l_,{path:"/app",push:!0,to:"/"})),pe||(pe=(0,H.tZ)(u.l_,{exact:!0,path:"/login",push:!0,to:"/"})),F._.filter((e=>!e.hasExperimentalSidebar)).map((e=>{let{path:t,type:n}=e,r=(0,i.Z)(e,z);const a=A.o[n];return(0,H.tZ)(a,(0,o.Z)({key:t,path:t},r))})),(0,H.tZ)(u.l_,{path:"/crypto",to:"/lists/robinhood/".concat(k.tJ)}),ge||(ge=(0,H.tZ)(Z.G,{path:"/options",to:"https://robinhood.com/us/en/about/options/"})),me||(me=(0,H.tZ)(Z.G,{path:"/legal",to:"https://robinhood.com/us/en/legal"})),ye||(ye=(0,H.tZ)(Z.G,{path:"/jobs",to:"https://careers.robinhood.com"})),fe||(fe=(0,H.tZ)(Z.G,{path:"/careers",to:"https://careers.robinhood.com"})),ve||(ve=(0,H.tZ)(L.M,{path:"/verify-account/:token"},(0,H.tZ)(xe,null))),he||(he=(0,H.tZ)(L.M,{component:Ke,path:"/tax-certification"})),_e||(_e=(0,H.tZ)(L.M,{path:"/suitability-questionnaire"},(0,H.tZ)(D.EE,{redirectToOnCompletion:"/"}))),be||(be=(0,H.tZ)(L.M,{component:Ge,exact:!0,path:"/acats_create"})),Ce||(Ce=(0,H.tZ)(Z.G,{path:"/activate",to:"/cash?applink=cash_management_activate_card"})),(0,H.tZ)(it,{includeBottomMargin:!1,includeLeftMargin:!1,isLoggedIn:n,path:"/retirement",to:"https://robinhood.com/us/en/about/retirement"},Oe||(Oe=(0,H.tZ)(Xe,null))),Se||(Se=(0,H.tZ)(Z.G,{path:"/podcasts",to:"https://robinhood.com/us/en/?utm_source=pandora&utm_campaign=runyourmoney&utm_content=pandora-podcastads-package&utm_term=stitcherpodcasts"})),Ee||(Ee=(0,H.tZ)(Z.G,{path:"/runyourmoney",to:"https://robinhood.com/us/en/?utm_source=spotify&utm_campaign=runyourmoney&utm_content=spotify-podcastsads-package&utm_term=spanads"})),(0,H.tZ)(L.M,{component:Ne,path:"/".concat(g.FL),shouldUseCompatRoute:!0}),Pe||(Pe=(0,H.tZ)(x.f,{component:Me,path:"/webview-debug"})),Ze||(Ze=(0,H.tZ)(x.f,{component:Be,path:"/pathfinder-debug"})),De||(De=(0,H.tZ)(x.f,{component:je,path:"/pathfinder-renderer"})),Te||(Te=(0,H.tZ)(x.f,{component:m.xy,path:"/chat-debug"})),Ie||(Ie=(0,H.tZ)(u.AW,{component:E.T})),ke||(ke=(0,H.tZ)(ot,{component:E.T,includeLeftMargin:!1})))}},21101:(e,t,n)=>{"use strict";n.d(t,{o:()=>u});var r=n(10959),o=n(61825),i=n(33802),a=n(48157);const s=(0,a.F)(i.M),l=(0,a.F)(i.M,!0),c=(0,a.F)(r.AW),u={debug:o.f,loggedIn:i.M,loggedInWithDefaultLayout:s,loggedInWithNewLayout:l,unauthed:r.AW,unauthedWithDefaultLayout:c}},58265:(e,t,n)=>{"use strict";n.d(t,{_:()=>Te});var r,o,i=n(64649),a=n(56060),s=n.n(a),l=(n(27378),n(63620)),c=n(64900),u=n(10959),d=n(84136),p=n(7447),g=n(49424),m=n(12397),y=n(12633),f=n(91906);const v={account_number:"",content:{sdui_component_type:"CONTAINER"},footer:void 0};let h=(0,y.OF)((o=class MarginStatusDetailViewRecord extends((0,f.A)(v,"MarginStatusDetailViewRecord")){static url(e){let{account_number:t}=e;return this.baseUrl+this.urlPath.replace("{account_number}",t)}},(0,i.Z)(o,"urlPath","/margin/{account_number}/status_detail_view"),(0,i.Z)(o,"idField","account_number"),(0,i.Z)(o,"refresh",5e3),r=o))||r;var _,b=n(67527),C=n(33240),O=n(4849),S=n(25934),E=n(31063),P=n(76312),Z=n(50169),D=n(10043);const T={container:(0,c.css)({marginTop:2*Z.q3},"")},w=(0,P.I)((function _MarginStatusDetailPage(){const e=(0,O.n)(C.V.marginHubMilestone2),{onAction:t}=(0,S.bY)(),n=(0,b.X_)((0,m.C)()),r=(0,b.X_)((0,y.tT)({disabled:!n,model:h,params:{account_number:null==n?void 0:n.account_number}}));return e&&n&&r?(0,D.tZ)(d.P,null,(()=>(0,D.tZ)(p.pO,{maxLayoutSize:"MD"},(0,D.tZ)(p.W2,{className:T.container},(0,D.tZ)(g.Y,{components:[r.content],onAction:t}))))):_||(_=(0,D.tZ)(u.l_,{to:"/"}))}),null,null,E.q.MARGIN);var I=n(61371),k=n(3650),x=n(6336),R=n(80908),M=n(1934),L=n(13361),A=n(80832);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const F=n(27378).lazy((()=>Promise.all([n.e(15723),n.e(80836),n.e(31935),n.e(59431),n.e(43666),n.e(98639),n.e(37833),n.e(67292),n.e(70556),n.e(70328),n.e(5867),n.e(6372)]).then(n.bind(n,31933)).then((({AccountPage:e})=>({default:e}))))),N=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(98639),n.e(59568)]).then(n.bind(n,4511)).then((({InstrumentHistoryPage:e})=>({default:e}))))),B=n(27378).lazy((()=>Promise.all([n.e(8453),n.e(55271),n.e(92938),n.e(37833),n.e(17269),n.e(58375),n.e(45177)]).then(n.bind(n,14431)).then((({PortfolioDetail:e})=>({default:e}))))),j=n(27378).lazy((()=>n.e(32803).then(n.bind(n,51625)).then((({RHWebDeeplinkRouter:e})=>({default:e}))))),H=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(5867),n.e(81443)]).then(n.bind(n,95070)).then((({RewardsHubWithProvider:e})=>({default:e}))))),U=n(27378).lazy((()=>Promise.all([n.e(31935),n.e(58855)]).then(n.bind(n,82276)).then((({CardOffersHistory:e})=>({default:e}))))),z=n(27378).lazy((()=>n.e(27577).then(n.bind(n,76750)).then((({CardOffersHub:e})=>({default:e}))))),W=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(70556),n.e(68719)]).then(n.bind(n,68083)).then((({PaycheckAutoInvestHub:e})=>({default:e}))))),q=n(27378).lazy((()=>n.e(7110).then(n.bind(n,59811)).then((({PaycheckHub:e})=>({default:e}))))),Y=n(27378).lazy((()=>Promise.all([n.e(15723),n.e(43666),n.e(67292),n.e(85220)]).then(n.bind(n,86718)).then((({PaycheckSettings:e})=>({default:e}))))),V=n(27378).lazy((()=>Promise.all([n.e(80964),n.e(1491),n.e(49424),n.e(87835),n.e(10027),n.e(35296),n.e(82771),n.e(86114),n.e(64035),n.e(28747),n.e(85948),n.e(32541),n.e(22648),n.e(14616),n.e(50657),n.e(28677),n.e(15723),n.e(23785),n.e(10035),n.e(80836),n.e(31935),n.e(59431),n.e(24498),n.e(1257),n.e(79146),n.e(60328),n.e(19747),n.e(43666),n.e(6242),n.e(67292),n.e(70328),n.e(72403),n.e(77182)]).then(n.bind(n,67848)).then((({CashManagementPageSwitch:e})=>({default:e}))))),G=n(27378).lazy((()=>Promise.all([n.e(35296),n.e(64035),n.e(22648),n.e(77391)]).then(n.bind(n,55762)).then((({DisputeQuestionnaire:e})=>({default:e}))))),K=n(27378).lazy((()=>n.e(10802).then(n.bind(n,88568)).then((({ChatbotPage:e})=>({default:e}))))),Q=n(27378).lazy((()=>n.e(53707).then(n.bind(n,72463)).then((({HostedContact:e})=>({default:e}))))),X=n(27378).lazy((()=>n.e(89337).then(n.bind(n,81061)).then((({Contact:e})=>({default:e}))))),J=n(27378).lazy((()=>n.e(19784).then(n.bind(n,23048)).then((({ReviewVoiceDetailsContainer:e})=>({default:e}))))),$=n(27378).lazy((()=>Promise.all([n.e(42508),n.e(54114)]).then(n.bind(n,5108)).then((({VoiceContactStatusPage:e})=>({default:e}))))),ee=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(58780),n.e(46223),n.e(20511),n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(47691),n.e(37833),n.e(70556),n.e(20384),n.e(22533),n.e(2406)]).then(n.bind(n,47322)).then((({CryptoDetail:e})=>({default:e}))))),te=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(98639),n.e(71779)]).then(n.bind(n,54156)).then((({CurrencyHistoryPage:e})=>({default:e}))))),ne=n(27378).lazy((()=>n.e(23226).then(n.bind(n,185)).then((({IosBetaPage:e})=>({default:e}))))),re=n(27378).lazy((()=>n.e(48417).then(n.bind(n,48596)).then((({EducationHomePage:e})=>({default:e}))))),oe=n(27378).lazy((()=>n.e(86996).then(n.bind(n,28945)).then((({LessonTemplatePage:e})=>({default:e}))))),ie=n(27378).lazy((()=>n.e(15726).then(n.bind(n,30669)).then((({QuizTemplatePage:e})=>({default:e}))))),ae=n(27378).lazy((()=>n.e(61585).then(n.bind(n,46816)).then((({PopularListsPage:e})=>({default:e}))))),se=n(27378).lazy((()=>n.e(21584).then(n.bind(n,90849)).then((({LessonPage:e})=>({default:e}))))),le=n(27378).lazy((()=>Promise.all([n.e(53902),n.e(58780),n.e(46223),n.e(20511),n.e(63476),n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(47691),n.e(92938),n.e(37833),n.e(17269),n.e(70556),n.e(50493),n.e(20384),n.e(3537),n.e(98469),n.e(22533),n.e(51370),n.e(69359)]).then(n.bind(n,59216)).then((({StockDetail:e})=>({default:e}))))),ce=n(27378).lazy((()=>n.e(45670).then(n.bind(n,80821)).then((({CryptoNewsPage:e})=>({default:e}))))),ue=n(27378).lazy((()=>n.e(63717).then(n.bind(n,40155)).then((({NewsArticlePage:e})=>({default:e}))))),de=n(27378).lazy((()=>n.e(42631).then(n.bind(n,40937)).then((({NewsFeedPage:e})=>({default:e}))))),pe=n(27378).lazy((()=>n.e(79835).then(n.bind(n,66860)).then((({StockNewsPage:e})=>({default:e}))))),ge=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(98639),n.e(3102)]).then(n.bind(n,41253)).then((({OptionAggregateHistoryPage:e})=>({default:e}))))),me=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(47691),n.e(92938),n.e(17269),n.e(5169),n.e(50493),n.e(19450),n.e(37382)]).then(n.bind(n,36225)).then((({OptionAggregatePositionOrStrategyDetail:e})=>({default:e}))))),ye=n(27378).lazy((()=>Promise.all([n.e(55271),n.e(47691),n.e(92938),n.e(17269),n.e(5169),n.e(81455),n.e(66829),n.e(5543),n.e(51370),n.e(42782)]).then(n.bind(n,16131)).then((({OptionChainDetail:e})=>({default:e}))))),fe=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(47691),n.e(5169),n.e(50493),n.e(19450),n.e(44429),n.e(22254)]).then(n.bind(n,85124)).then((({OptionInstrumentDetailPage:e})=>({default:e}))))),ve=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(98639),n.e(14995)]).then(n.bind(n,23764)).then((({OptionInstrumentHistoryPage:e})=>({default:e}))))),he=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(55271),n.e(47691),n.e(5169),n.e(50493),n.e(19450),n.e(44429),n.e(32204)]).then(n.bind(n,26185)).then((({OptionPositionDetail:e})=>({default:e}))))),_e=n(27378).lazy((()=>Promise.all([n.e(5543),n.e(46020)]).then(n.bind(n,77089)).then((({OptionStrategyBuilderPage:e})=>({default:e}))))),be=n(27378).lazy((()=>Promise.all([n.e(5169),n.e(81455),n.e(98469),n.e(5615)]).then(n.bind(n,25481)).then((({OptionStrategyChainDetail:e})=>({default:e}))))),Ce=n(27378).lazy((()=>Promise.all([n.e(80836),n.e(31935),n.e(59431),n.e(98639),n.e(84085)]).then(n.bind(n,56181)).then((({OptionStrategyHistoryPage:e})=>({default:e}))))),Oe=n(27378).lazy((()=>Promise.all([n.e(81455),n.e(66829),n.e(57038)]).then(n.bind(n,49278)).then((({RollOptionPage:e})=>({default:e}))))),Se=n(27378).lazy((()=>Promise.all([n.e(80964),n.e(1491),n.e(49424),n.e(87835),n.e(10027),n.e(35296),n.e(82771),n.e(86114),n.e(64035),n.e(28747),n.e(85948),n.e(32541),n.e(14616),n.e(93498),n.e(15723),n.e(24498),n.e(1257),n.e(79146),n.e(60328),n.e(19747),n.e(43666),n.e(6242),n.e(5972),n.e(7490),n.e(65384),n.e(14184),n.e(67292),n.e(70328),n.e(72403),n.e(81500)]).then(n.bind(n,289)).then((({ProfilePage:e})=>({default:e}))))),Ee=n(27378).lazy((()=>n.e(29501).then(n.bind(n,93456)).then((({ViewReferralPageWithDefaultPageLayout:e})=>({default:e}))))),Pe=n(27378).lazy((()=>Promise.all([n.e(80964),n.e(1491),n.e(49424),n.e(87835),n.e(10027),n.e(35296),n.e(82771),n.e(86114),n.e(64035),n.e(28747),n.e(85948),n.e(32541),n.e(14616),n.e(28677),n.e(80811),n.e(24498),n.e(1257),n.e(79146),n.e(60328),n.e(19747),n.e(6242),n.e(5972),n.e(7490),n.e(65384),n.e(23134)]).then(n.bind(n,30350)).then((({SduiSamplePreviewPage:e})=>({default:e}))))),Ze=n(27378).lazy((()=>n.e(966).then(n.bind(n,50019)).then((({SduiPreview:e})=>({default:e}))))),De={"/":{children:(0,D.tZ)(B,null),chunkName:"PortfolioDetail",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/account":{children:(0,D.tZ)(F,null),chunkName:"AccountPage",type:"loggedInWithDefaultLayout"},"/cash":{children:(0,D.tZ)(V,null),chunkName:"CashManagementPageSwitch",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/card-offers":{children:(0,D.tZ)(z,null),chunkName:"CardOffersHub",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/card-offers/history":{children:(0,D.tZ)(U,null),chunkName:"CardOffersHistory",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/disputes":{children:(0,D.tZ)(V,{showDisputesTakeover:!0}),chunkName:"CashManagementPageSwitch",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/paychecks":{children:(0,D.tZ)(q,null),chunkName:"PaycheckHub",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/paychecks/invest":{children:(0,D.tZ)(W,null),chunkName:"PaycheckAutoInvestHub",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/paychecks/settings":{children:(0,D.tZ)(Y,null),chunkName:"PaycheckSettings",exact:!0,type:"loggedInWithDefaultLayout"},"/cash/rewards":{children:(0,D.tZ)(H,null),chunkName:"RewardsHubWithProvider",exact:!0,type:"loggedInWithDefaultLayout"},"/contact":{children:(0,D.tZ)(X,null),chunkName:"Contact",exact:!0,type:"unauthed"},"/contact/hosted":{children:(0,x.IL)()?(0,D.tZ)(Q,null):(0,D.tZ)(R.T,null),chunkName:"HostedContact",exact:!0,type:"unauthed"},"/contact/voice/review":{children:(0,D.tZ)(J,null),chunkName:"ReviewVoiceDetailsContainer",exact:!0,type:"loggedIn"},"/contact/voice/status":{children:(0,D.tZ)($,null),chunkName:"VoiceContactStatusPage",exact:!0,type:"loggedIn"},"/crypto/:symbolOrId":{children:(0,D.tZ)(A.v,{feature:k.h6.CRYPTO_TRADING},(0,D.tZ)(ee,null)),chunkName:"CryptoDetail",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/crypto/:symbolOrId/news":{children:(0,D.tZ)(A.v,{feature:k.h6.CRYPTO_TRADING},(0,D.tZ)(ce,null)),chunkName:"CryptoNewsPage",exact:!0,type:"loggedInWithDefaultLayout"},"/crypto/history/:currencyPairId":{children:(0,D.tZ)(A.v,{feature:k.h6.CRYPTO_TRADING},(0,D.tZ)(te,null)),chunkName:"CurrencyHistoryPage",exact:!0,type:"loggedInWithDefaultLayout"},"/disputes/questionnaire/:id":{children:(0,D.tZ)(G,null),chunkName:"DisputeQuestionnaire",exact:!0,type:"unauthed"},"/education":{children:(0,D.tZ)(re,null),chunkName:"EducationHomePage",exact:!0,type:"loggedInWithDefaultLayout"},"/education/lesson/:lessonId":{children:(0,D.tZ)(oe,null),chunkName:"LessonTemplatePage",exact:!0,type:"loggedIn"},"/education/quiz/:quizId":{children:(0,D.tZ)(ie,null),chunkName:"QuizTemplatePage",exact:!0,type:"loggedIn"},"/history/:instrumentId":{children:(0,D.tZ)(N,null),chunkName:"InstrumentHistoryPage",exact:!0,type:"loggedInWithDefaultLayout"},"/lesson/:lessonId":{children:(0,D.tZ)(se,null),chunkName:"LessonPage",exact:!0,type:"loggedInWithDefaultLayout"},"/lists/popular":{children:(0,D.tZ)(ae,null),chunkName:"PopularListsPage",exact:!0,type:"loggedInWithDefaultLayout"},"/margin/status":{children:(0,D.tZ)(w,null),chunkName:"MarginStatusDetailPage",exact:!0,type:"loggedInWithDefaultLayout"},"/news":{children:(0,D.tZ)(de,null),chunkName:"NewsFeedPage",exact:!0,type:"loggedInWithDefaultLayout"},"/news/:symbol":{children:(0,D.tZ)(pe,null),chunkName:"StockNewsPage",exact:!0,type:"loggedInWithDefaultLayout"},"/news/article/:id":{children:(0,D.tZ)(ue,null),chunkName:"NewsArticlePage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/:id":{children:(0,D.tZ)(me,null),chunkName:"OptionAggregatePositionOrStrategyDetail",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/options/:strategyCode/history":{children:(0,D.tZ)(Ce,null),chunkName:"OptionStrategyHistoryPage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/:strategyCode/roll":{children:(0,D.tZ)(Oe,null),chunkName:"RollOptionPage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/aggregate/:positionId/history":{children:(0,D.tZ)(ge,null),chunkName:"OptionAggregateHistoryPage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/chains/:idOrSymbol":{children:(0,D.tZ)(ye,null),chunkName:"OptionChainDetail",exact:!0,type:"loggedInWithDefaultLayout"},"/options/chains/:idOrSymbol/builder":{children:(0,D.tZ)(_e,null),chunkName:"OptionStrategyBuilderPage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/chains/:idOrSymbol/builder/:strategy":{children:(0,D.tZ)(be,null),chunkName:"OptionStrategyChainDetail",exact:!0,type:"loggedInWithDefaultLayout"},"/options/history/:optionInstrumentId":{children:(0,D.tZ)(ve,null),chunkName:"OptionInstrumentHistoryPage",exact:!0,type:"loggedInWithDefaultLayout"},"/options/instruments/:id":{children:(0,D.tZ)(fe,null),chunkName:"OptionInstrumentDetailPage",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/options/positions/:id":{children:(0,D.tZ)(he,null),chunkName:"OptionPositionDetail",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/profile":{children:(0,D.tZ)(Se,null),chunkName:"ProfilePage",exact:!0,type:"loggedIn"},"/rewards":{children:(0,D.tZ)(Ee,null),chunkName:"ViewReferralPageWithDefaultPageLayout",exact:!0,type:"loggedInWithDefaultLayout"},"/rh_web":{children:(0,D.tZ)(j,null),chunkName:"RHWebDeeplinkRouter",exact:!0,type:"loggedIn"},"/sdui-preview":{children:(0,D.tZ)(Ze,null),chunkName:"SduiPreview",exact:!0,type:"debug"},"/sdui-preview/:uuid":{children:(0,D.tZ)(Pe,null),chunkName:"SduiSamplePreviewPage",exact:!0,type:"debug"},"/stocks/:symbolId":{children:(0,D.tZ)(le,null),chunkName:"StockDetail",exact:!0,hasExperimentalSidebar:!0,type:"loggedIn"},"/us/en/contact":{children:(0,D.tZ)(X,null),chunkName:"Contact",exact:!0,type:"unauthed"},[I.LO]:{children:(0,D.tZ)(K,null),chunkName:"ChatbotPage",exact:!0,type:"loggedIn"},[L.ZY]:{children:(0,D.tZ)(M.$,null),chunkName:"Redirect404Page",exact:!0,type:"unauthed"},["/download/ios_beta/:id(".concat(s()(l.IOS_INTERNAL_BETA_ID),"|").concat(s()(l.IOS_NIGHTLY_ID),")")]:{children:(0,D.tZ)(ne,null),chunkName:"IosBetaPage",exact:!0,type:"unauthedWithDefaultLayout"}},Te=Object.entries(De).map((e=>{let[t,n]=e;return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({path:t},n)})).sort((function routeManifestComparator(e,t){return e.exact&&!t.exact?-1:!e.exact&&t.exact?1:0}))},48157:(e,t,n)=>{"use strict";n.d(t,{F:()=>withDefaultPageLayout});var r=n(53782),o=(n(27378),n(16465)),i=n(10043);const a=["includeBottomMargin","includeLeftMargin"];function withDefaultPageLayout(e,t){return n=>{let{includeBottomMargin:s,includeLeftMargin:l}=n,c=(0,r.Z)(n,a);return(0,i.tZ)(o.b,{includeBottomMargin:s,includeLeftMargin:l,isNewLayout:!!t},(0,i.tZ)(e,c))}}},86345:(e,t,n)=>{"use strict";n.d(t,{S:()=>withPublicRedirect});n(27378);var r=n(10043);function withPublicRedirect(e,t){return n=>{const{isLoggedIn:o,to:i}=n;return o?(0,r.tZ)(e,n):(0,r.tZ)(t,{path:n.path,to:i})}}},43306:(e,t,n)=>{"use strict";n.d(t,{jC:()=>g,w4:()=>ScreenerCard});var r=n(10043),o=n(27378),i=n(19019),a=n(38978),s=n(21675),l=n(97224),c=n(64367),u=n(11397),d=n(50169),p=n(23108);const g=255;var m={name:"bjn8wh",styles:"position:relative"};function ScreenerCard(e){let{description:t,href:n,imgSrc:g,isNew:y=!1,label:f,onClick:v,presetId:h,type:_,width:b}=e;const C={height:160,width:b},O=(0,r.tZ)(o.Fragment,null,(0,r.tZ)("div",{css:m},g&&(0,r.tZ)("img",{css:C,role:"presentation",src:g}),y&&(0,r.tZ)(i._,{backgroundColor:a.Wt.Fg1,foregroundColor:a.Wt.Bg1,icon:"StarFilled16",overrideRootStyles:{position:"absolute",right:d.hc,top:d.hc},text:"New",type:"custom"})),(0,r.tZ)("div",{css:(0,r.iv)({padding:"".concat(d.q3,"px ").concat(d.Y9,"px")},"")},(0,r.tZ)(s.Dy.Text,{isBold:!0,size:"M"},f),t&&(0,r.tZ)(s.Dy.Text,{element:"p",size:"S"},t))),S=(0,r.iv)({border:"1px solid ".concat((0,l.uI)().bg3),borderRadius:"5px",display:"flex",flexDirection:"column",textAlign:"left",textDecoration:"none",width:b+2},""),E=h?(0,p.$N)({presetId:h}):void 0;return"anchor"===_&&n?(0,r.tZ)(c.n,{css:S,protoLoggingInfo:E,to:n},O):(0,r.tZ)(u.k,{css:S,onClick:v,protoLoggingInfo:E},O)}},23108:(e,t,n)=>{"use strict";n.d(t,{$N:()=>getTapPresetLoggingInfo,SS:()=>logDeleteButtonTap,TV:()=>logScreenerTableDisappear,bh:()=>logSaveButtonTap,mG:()=>logScreenerTableAppear,z0:()=>logEditButtonTap});var r=n(64649),o=n(84974),i=n(22903),a=n(49569);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function getTapPresetLoggingInfo(e){let{presetId:t}=e;return{component:{component_type:a.t.event_logging.Component.ComponentType.SCREENER_PRESET_CARD,identifier:t},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP,screen:{name:a.t.event_logging.Screen.Name.SCREENER_PRESET_LIST}}}function logScreenerTableAppear(e){const t=_getScreenerAppearanceLoggingInfo(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({eventType:a.t.event_logging.UserInteractionEventData.EventType.APPEAR},e));i.c.logUserInteractionEvent(o.YB,t)}function logScreenerTableDisappear(e){let{isPreset:t,name:n,screenerId:r,selectedIndicators:s,source:l,timeSpent:c,visibleColumns:u}=e;const d=_getScreenerAppearanceLoggingInfo({eventType:a.t.event_logging.UserInteractionEventData.EventType.DISAPPEAR,isPreset:t,name:n,screenerId:r,selectedIndicators:s,source:l,visibleColumns:u});null!=d&&d.context&&(d.context.time_spent=c),i.c.logUserInteractionEvent(o.YB,d)}function _getScreenerAppearanceLoggingInfo(e){let{eventType:t,isPreset:n,name:r,screenerId:o,selectedIndicators:i,source:s,visibleColumns:l}=e;const c={component:{identifier:n?"".concat("screener_preset_").concat(o):"".concat("screener_").concat(o)},context:{equity_screener_context:{name:r,selected_indicator_keys:i,visible_column_keys:l}},description:s,event_type:t,screen:{name:a.t.event_logging.Screen.Name.SCREENER_DETAIL}};return s&&(c.description=s),c}function logSaveButtonTap(e){let{isDuplicate:t,isNew:n,name:r,selectedIndicators:s,visibleColumns:l}=e;const c=n?"save-screener-new":"save-screener-current";i.c.logUserInteractionEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.SAVE,component:{component_type:a.t.event_logging.Component.ComponentType.BUTTON,identifier:t?"save-screener-duplicate":c},context:{equity_screener_context:{name:r,selected_indicator_keys:s,visible_column_keys:l}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP})}function logEditButtonTap(e){let{name:t}=e;i.c.logUserInteractionEvent(o.YB,{action:a.t.event_logging.UserInteractionEventData.Action.EDIT,component:{component_type:a.t.event_logging.Component.ComponentType.BUTTON,identifier:"edit-screener"},context:{equity_screener_context:{name:t}},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP})}function logDeleteButtonTap(e){let{deleted:t}=e;const n=t?"delete-screener-continue":"delete-screener-cancel",r=t?a.t.event_logging.UserInteractionEventData.Action.CONTINUE:a.t.event_logging.UserInteractionEventData.Action.BACK;i.c.logUserInteractionEvent(o.YB,{action:r,component:{component_type:a.t.event_logging.Component.ComponentType.BUTTON,identifier:n},event_type:a.t.event_logging.UserInteractionEventData.EventType.TAP})}},43943:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r=n(25773),o=n(64649),i=n(55839),a=n.n(i),s=n(23615),l=n.n(s),c=n(27378),u=n(34562),d=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const p=(0,u.P)((function hoc(e){class WithCursorPosition extends c.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{cursorPosition:null}),(0,o.Z)(this,"handleCursorPosition",(e=>{this.setState({cursorPosition:e})}))}unsubscribe(){}componentDidMount(){const{cursorWrapper_subscribeToCursorPosition:e}=this.context;e&&(this.unsubscribe=e(this.handleCursorPosition))}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){return(0,d.tZ)(e,(0,r.Z)({},this.props,{cursorPosition:this.state.cursorPosition}))}}return(0,o.Z)(WithCursorPosition,"contextTypes",{cursorWrapper_subscribeToCursorPosition:l().func}),(0,o.Z)(WithCursorPosition,"defaultProps",function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.defaultProps)),a()(WithCursorPosition,e)}),"withCursorPosition")},33407:(e,t,n)=>{"use strict";n.d(t,{J:()=>withCursorPositionPreference});var r=n(64649),o=n(23615),i=n.n(o),a=n(27378),s=n(34562),l=n(10043);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function withCursorPositionPreference(e){let{getBounds:t,getName:n,getPosition:o,getValue:c}=e;return(0,s.P)((e=>{class WithCursorPositionPreference extends a.Component{constructor(){super(...arguments),(0,r.Z)(this,"getPositionPreference",(e=>({bounds:t(this.props),position:o(e,this.props)}))),(0,r.Z)(this,"getValue",(e=>({name:n(this.props),value:c(e,this.props)})))}unregisterPosition(){}unregisterValue(){}componentDidMount(){const{cursorWrapper_registerPositionPreferenceGetter:e,cursorWrapper_registerValueGetter:t}=this.context;e&&(this.unregisterPosition=e(this.getPositionPreference)),t&&(this.unregisterValue=t(this.getValue))}componentWillUnmount(){this.unregisterPosition&&this.unregisterPosition()}render(){return(0,l.tZ)(e,this.props)}}return(0,r.Z)(WithCursorPositionPreference,"contextTypes",{cursorWrapper_registerPositionPreferenceGetter:i().func,cursorWrapper_registerValueGetter:i().func}),(0,r.Z)(WithCursorPositionPreference,"defaultProps",function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.defaultProps)),WithCursorPositionPreference}),"withCursorPositionPreference")}},44798:(e,t,n)=>{"use strict";n.d(t,{uN:()=>Area,Ll:()=>Bars,kL:()=>Chart_Chart,hn:()=>ComplexLine,lH:()=>CursorWrapper,x1:()=>U,_E:()=>LivePulse,by:()=>Pie,Ae:()=>Rectangle,db:()=>Q,SK:()=>ScatterPlot,Fd:()=>h.F,Kc:()=>k,B2:()=>x});var r=n(25773),o=n(53782),i=n(64900),a=n(27378),s=n(64649),l=n(89882),c=n.n(l),u=n(10043);const d=["children","height","width"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VisualizationsWrapper(e){let{children:t,height:n,width:r}=e,i=(0,o.Z)(e,d);return(0,u.tZ)("svg",{className:c().visualizationsWrapper,height:n,width:r},a.Children.map(t,((e,t)=>{if(!a.isValidElement(e))return null;const o=a.cloneElement(e,_objectSpread(_objectSpread({height:n,key:t,width:r},i),e.props));return e.props.maskId?(0,u.tZ)("mask",{id:e.props.maskId},o):o})))}const p=["children"];function GroupByIsVisualization_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class ElementGroup{constructor(e){(0,s.Z)(this,"type",void 0),(0,s.Z)(this,"els",void 0),this.type=e,this.els=[]}addEl(e){this.els.push(e)}}function GroupByIsVisualization(e){let{children:t}=e,n=(0,o.Z)(e,p);const i=[];let l=null;return a.Children.forEach(t,((e,t)=>{if(a.isValidElement(e))if("string"!=typeof e.type&&e.type.isVisualization){l&&"visualizations"===l.type||(l=new ElementGroup("visualizations"),i.push(l));const n=a.cloneElement(e,{key:t});l.addEl(n)}else{l&&"non-visualizations"===l.type||(l=new ElementGroup("non-visualizations"),i.push(l));const r=a.cloneElement(e,function GroupByIsVisualization_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GroupByIsVisualization_ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GroupByIsVisualization_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:t},n));l.addEl(r)}})),(0,u.tZ)("div",{className:c().groupByIsVisualization},i.map(((e,t)=>"visualizations"===e.type?(0,u.tZ)(VisualizationsWrapper,(0,r.Z)({key:t},n),e.els):e.els)))}const g=["children","className","scaleX","scaleY"];function Chart_Chart(e){const{children:t,className:n,scaleX:a,scaleY:s}=e,l=(0,o.Z)(e,g),d=(0,i.cx)(n,c().chart),[p,m]=[a.range(),s.range()],y=Math.abs(p[p.length-1]-p[0]),f=Math.abs(m[m.length-1]-m[0]);return(0,u.tZ)("div",(0,r.Z)({},l,{className:d}),(0,u.tZ)(GroupByIsVisualization,{height:f,scaleX:a,scaleY:s,width:y},t))}var m=n(27e3),y=n(23615),f=n.n(y),v=n(13165);function CursorLabelPositioner(e){let{cursorXPosition:t,renderLabel:n,scaleX:r,values:o}=e;if(!t&&0!==t)return null;if(!r)return null;const a=r(t);return(0,u.tZ)("div",{className:(0,i.css)({bottom:"100%",left:a,position:"absolute"},"")},(0,u.tZ)("div",{className:(0,i.css)({name:"h8nae8",styles:"left:-50%;position:relative"})},n(o)))}var h=n(71199);const _=["cursorXPosition","height","scaleX"];class CursorLine extends h.F{render(){const e=this.props,{cursorXPosition:t,height:n,scaleX:r}=e,i=(0,o.Z)(e,_);if(!t&&0!==t)return null;if(!r)return null;const a=r(t);return(0,u.tZ)("g",(0,h.I)(i),(0,u.tZ)("line",{x1:a,x2:a,y1:0,y2:n}))}}var b=n(70201),C=n.n(b);const O=["children","lineProps","onCursorMove"];const S="object"==typeof window&&"ontouchstart"in window.document.documentElement;class CursorWrapper extends a.PureComponent{constructor(){super(...arguments),(0,s.Z)(this,"state",{cursorPosition:null}),(0,s.Z)(this,"valueGetters",new Set),(0,s.Z)(this,"cursorSubscribers",new Set),(0,s.Z)(this,"positionPreferenceGetters",new Set),(0,s.Z)(this,"touchIdentifier",null),(0,s.Z)(this,"container",null),(0,s.Z)(this,"setContainerRef",(e=>{this.container=e})),(0,s.Z)(this,"handleCursorMove",(e=>{this.cursorSubscribers.forEach((t=>t(e)));const{onCursorMove:t}=this.props;t&&t(null===e?null:this.getCursorValues(e))})),(0,s.Z)(this,"updateCursorPosition",(0,m.throttle)((e=>{const{scaleX:t}=this.props;if(!this.container||!t)return;const{left:n}=this.container.getBoundingClientRect(),r=function getCursorPosition(e,t){const n=Array.from(t),r=[];for(let t=0;t<n.length;t+=1){const o=n[t],{bounds:i,position:a}=o(e);if(a||0===a)return a;i&&r.push(...i)}const o=C()(r,(t=>Math.abs(t-e)));return o||0===o?o:null}(t.invert(Math.abs(n-e)),this.positionPreferenceGetters);this.setState({cursorPosition:r})}))),(0,s.Z)(this,"clearCursorPosition",(0,m.throttle)((()=>{this.setState({cursorPosition:null})}))),(0,s.Z)(this,"handleMouseMove",(e=>{this.updateCursorPosition(e.clientX)})),(0,s.Z)(this,"handleMouseLeave",(()=>{this.clearCursorPosition()})),(0,s.Z)(this,"handleTouchStart",(e=>{if(!this.touchIdentifier){const t=e.changedTouches[0];this.touchIdentifier=t.identifier,this.updateCursorPosition(t.clientX)}})),(0,s.Z)(this,"handleTouchMove",(e=>{const t=Array.prototype.find.call(e.changedTouches,(e=>e.identifier===this.touchIdentifier));t&&this.updateCursorPosition(t.clientX)})),(0,s.Z)(this,"handleTouchEndOrCancel",(e=>{Array.prototype.find.call(e.changedTouches,(e=>e.identifier===this.touchIdentifier))&&(this.touchIdentifier=null,this.clearCursorPosition())})),(0,s.Z)(this,"renderLabel",(e=>{if(this.props.renderLabel)return this.props.renderLabel(e);if(this.props.labelComponent){const{labelComponent:t}=this.props;return(0,u.tZ)(t,e)}return null}))}getChildContext(){return{cursorWrapper_registerPositionPreferenceGetter:e=>{const wrappedFn=function(){return e(...arguments)};return this.positionPreferenceGetters.add(wrappedFn),()=>{this.positionPreferenceGetters.delete(wrappedFn)}},cursorWrapper_registerValueGetter:e=>{const wrappedFn=function(){return e(...arguments)};return this.valueGetters.add(wrappedFn),()=>{this.valueGetters.delete(wrappedFn)}},cursorWrapper_subscribeToCursorPosition:e=>{const wrappedFn=function(){return e(...arguments)};return this.cursorSubscribers.add(wrappedFn),()=>{this.cursorSubscribers.delete(wrappedFn)}}}}componentDidUpdate(e,t){t.cursorPosition!==this.state.cursorPosition&&this.handleCursorMove(this.state.cursorPosition)}componentWillUnmount(){this.updateCursorPosition.cancel(),this.clearCursorPosition.cancel()}getCursorValues(e){return function getCursorValues(e,t){const n={};return null!==e&&t.forEach((t=>{const{name:r,value:o}=t(e);n[r]||0===n[r]||(n[r]=o)})),n}(e,this.valueGetters)}render(){const e=(0,v.C)(["renderLabel","labelComponent"])(this.props),{children:t,lineProps:n,onCursorMove:a}=e,s=(0,o.Z)(e,O),{cursorPosition:l}=this.state,c=this.getCursorValues(l),d=S?{onTouchCancel:this.handleTouchEndOrCancel,onTouchEnd:this.handleTouchEndOrCancel,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart}:{onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove};return(0,u.tZ)("div",(0,r.Z)({ref:this.setContainerRef,className:(0,i.css)({name:"bjn8wh",styles:"position:relative"}),style:{height:s.height,width:s.width}},d),(0,u.tZ)(CursorLabelPositioner,{cursorXPosition:l,renderLabel:this.renderLabel,scaleX:s.scaleX,values:c}),(0,u.tZ)(GroupByIsVisualization,s,(0,u.tZ)(CursorLine,(0,r.Z)({cursorXPosition:l},n)),t))}}(0,s.Z)(CursorWrapper,"defaultProps",{labelComponent:function DefaultLabel(e){let{values:t}=e;return t?(0,u.tZ)("span",null,Object.keys(t).sort().map((e=>"".concat(e,": ").concat(t[e]))).join()):null}}),(0,s.Z)(CursorWrapper,"childContextTypes",{cursorWrapper_registerPositionPreferenceGetter:f().func,cursorWrapper_registerValueGetter:f().func,cursorWrapper_subscribeToCursorPosition:f().func});var E=n(12172),P=n(79161);var Z={name:"io5aiy",styles:"padding:0 10px"};function DefaultLabel_DefaultLabel(e){let{value:t}=e;return(0,u.tZ)("span",{css:Z},t)}function createAxis_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function createAxis_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?createAxis_ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):createAxis_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function getDefaultTicks(e,t,n){return n?t?function createEvenlySpacedTicks(e,t){const[n,r]=e.domain(),o=(r-n)/(t-1);return(0,E.range)(n,r+o-1e-13,o)}(n,e):n.ticks?n.ticks(e):[]:[]}let D;!function(e){e.X="X",e.Y="Y"}(D||(D={}));var T={name:"oq3h6b",styles:"display:flex;position:absolute"},w={name:"3zi5gs",styles:"height:100%;position:relative;width:100%"},I={name:"a4hmbt",styles:"position:absolute"};function createAxis(e){const t=e===D.X?"width":"height",n=e===D.X?"left":"top",r=e===D.X?"defaultLabelWidth":"defaultLabelHeight",o="scale".concat(e);return function Axis(i){const{evenlySpacedTicks:s=!1,numTicks:l=4,children:c,className:d,height:p,labelComponent:g=DefaultLabel_DefaultLabel,width:m,[r]:y=0,[o]:f}=i,v=i.ticks||getDefaultTicks(l,s,f),h=createAxis_objectSpread(createAxis_objectSpread({},i.style||{}),{},{[t]:"100%"});return(0,u.tZ)("div",{className:d,css:T,style:h},(0,u.tZ)("div",{css:w},v.map((r=>{var o;return(0,u.tZ)(P.default,{key:r},(i=>{let{contentRect:a,measureRef:s}=i;if(!f)return null;const l=a.entry[t],c=f(r)-(l||y)/2,d={[n]:c};return"Y"===e&&(d.right="-100%"),(0,u.tZ)("span",{ref:s,css:I,style:d},o||(o=(0,u.tZ)(g,{value:r})))}))}))),a.Children.map(c,(e=>a.isValidElement(e)?a.cloneElement(e,{height:p,scale:f,ticks:v,width:m}):e)))}}const k=createAxis(D.X),x=createAxis(D.Y);var R=n(76365),M=n(64851),L=n(25018);class Area extends h.F{constructor(){super(...arguments),(0,s.Z)(this,"getShapeFnFromProps",(0,L.JU)(["toplineY","baselineY","scaleX","scaleY","getX"],(e=>{const{baselineY:t,getX:n,scaleX:r,scaleY:o,toplineY:i}=e,a="function"==typeof t?t:(0,M.B)(t),s="function"==typeof i?i:(0,M.B)(i);return(0,R.area)().x(((e,t)=>r(n(e,t)))).y0(((e,t)=>o(a(e,t)))).y1(((e,t)=>o(Math.max(s(e,t),a(e,t)))))}))),(0,s.Z)(this,"getShapeFn",(()=>this.getShapeFnFromProps(this.props)))}render(){const e=this.getShapeFn(),t=(0,v.C)(["data","baselineY","toplineY"],(0,h.I)(this.props));return(0,u.tZ)("path",(0,r.Z)({},t,{d:e(this.props.data.toArray())}))}}class Bars extends h.F{render(){const{className:e,data:t,getRectProps:n,getY:o,height:i,rectComponent:a,scaleX:s,scaleY:l}=this.props;if(!s||!l||!o||"number"!=typeof i)return null;const c=s.bandwidth();return(0,u.tZ)("g",{className:e},t.map(((e,t)=>{const d=Math.max(l(o(e)),1);return(0,u.tZ)(a,(0,r.Z)({},n(e),{key:t,height:d,width:c,x:s(t),y:i-d}))})))}}(0,s.Z)(Bars,"defaultProps",{getRectProps:(0,M.B)({}),rectComponent:"rect"});const A=["children","className","data","style"];function ComplexLine_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ComplexLine_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ComplexLine_ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ComplexLine_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ComplexLine extends h.F{render(){const e=this.props,{children:t,className:n,data:r,style:i}=e,s=(0,o.Z)(e,A),l=t.filter(a.isValidElement),c=a.Children.map(l,(e=>e.props.offsetIndex));return(0,u.tZ)("g",{className:n,style:i},a.Children.map(l,((e,t)=>{const{offsetIndex:n}=e.props,o=c[t+1],i=void 0===o?void 0:o+1;return a.cloneElement(e,ComplexLine_objectSpread(ComplexLine_objectSpread({},s),{},{data:r.slice(n,i),key:t}))})))}}var F=n(45106),N=n(43943),B=n(33407);function getXAtIndex(e,t){const{data:n,getX:r,offsetIndex:o}=t;return e>=0&&e<n.count()?r(n.get(e),e+o):null}function getYAtIndex(e,t){const{data:n,getY:r,offsetIndex:o}=t;return e>=0&&e<n.count()?r(n.get(e),e+o):null}var j=n(94933);function indexOfNearestDataPoint(e,t){const{data:n,getX:r,offsetIndex:o}=t,i=function findBoundsAroundPosition(e,t){const{data:n,getX:r,offsetIndex:o}=t,i=(0,j.z)(n,e,((e,t)=>r(e,t+o)),!0);if(0===i)return null;if(i===n.count())return r(n.last(),i-1+o)===e?[n.count()-1,n.count()-1]:null;return r(n.get(i),i+o)===e?[i,i]:[i-1,i]}(e,t);if(!i)return-1;const[a,s]=i;if(a===s)return a;const l=r(n.get(a),a+o),c=r(n.get(s),s+o);return Math.abs(l-e)<Math.abs(c-e)?a:s}const H=["cursorPosition","data","getX","getY","hoverClassName","markerComponent","offsetIndex","overrideGetX","scaleX","scaleY"];class _Line extends h.F{constructor(){super(...arguments),(0,s.Z)(this,"state",{cursorData:null,cursorPosition:null}),(0,s.Z)(this,"renderMarker",(e=>{if(this.props.renderMarker)return this.props.renderMarker(e);if(this.props.markerComponent){const{markerComponent:t}=this.props;return(0,u.tZ)(t,e)}return null})),(0,s.Z)(this,"omitVisualizationProps",(0,F.compose)((0,v.C)(["renderMarker"]),h.I))}static getDerivedStateFromProps(e,t){const{cursorPosition:n,name:r}=e;if(r&&n!==t.cursorPosition){if(null===n)return{cursorData:null,cursorPosition:n};const t=indexOfNearestDataPoint(n,e);return-1===t?{cursorData:null,cursorPosition:n}:{cursorData:{x:getXAtIndex(t,e),y:getYAtIndex(t,e)},cursorPosition:n}}return null}render(){var e;const t=this.props,{cursorPosition:n,data:a,getX:s,getY:l,hoverClassName:c,markerComponent:d,offsetIndex:p,overrideGetX:g,scaleX:m,scaleY:y}=t,f=(0,o.Z)(t,H),v=g||s,h=(0,R.line)().x(((e,t)=>m(v(e,t+p)))).y(((e,t)=>y(l(e,t+p))));let _=null;const b=this.state.cursorData;if(b){const{x:e,y:t}=b;if(t||0===t){const n=m(e),r=y(t);_=(0,u.tZ)("g",{transform:"translate(".concat(n,", ").concat(r,")")},this.renderMarker({x:e,y:t}))}}const C=this.omitVisualizationProps(f);let O=(0,i.cx)(C.className);return this.state.cursorData&&(O=(0,i.cx)(O,c)),(0,u.tZ)("g",null,(0,u.tZ)("path",(0,r.Z)({},C,{className:O,d:null!==(e=h(a.toArray()))&&void 0!==e?e:void 0,fill:"none"})),_)}}(0,s.Z)(_Line,"defaultProps",{markerComponent:(0,M.B)(null),offsetIndex:0});const U=(0,B.J)({getBounds:e=>{const{data:t}=e;return[getXAtIndex(0,e),getXAtIndex(t.count()-1,e)]},getName:e=>e.name,getPosition:(e,t)=>{const n=indexOfNearestDataPoint(e,t);return-1===n?null:getXAtIndex(n,t)},getValue:(e,t)=>{const n=indexOfNearestDataPoint(e,t);return-1===n?null:{d:t.data.get(n)}}})((0,N.O)(_Line));var z,W=n(50669);const q=(0,u.F4)(z||(z=(0,W.Z)(["\n  from {\n    stroke-width: 0;\n    stroke-opacity: 0.8;\n  }\n  to {\n    stroke-width: 8px;\n    stroke-opacity: 0;\n  }\n"]))),Y=(0,u.iv)("stroke:var(--rh__primary-base);fill:var(--rh__primary-base);animation:",q," 1.5s ease-out infinite;");function LivePulse(e){let{x:t,y:n}=e;return(0,u.tZ)("g",null,(0,u.tZ)("circle",{css:Y,cx:t,cy:n,r:"2"}))}function Segment(e){let{d:t,entry:n,getSegmentProps:o,onSegmentMouseEnter:i,onSegmentMouseLeave:a}=e;return(0,u.tZ)("path",(0,r.Z)({},o(n),{d:t,onMouseEnter:()=>{i&&i(n)},onMouseLeave:()=>{a&&a(n)}}))}LivePulse.isVisualization=!0;const V=["data","direction","getSegmentKey","getSegmentProps","getValue","height","innerRadius","label","onSegmentMouseEnter","onSegmentMouseLeave","padding","scaleX","scaleY","width"];function Pie_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pie_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pie_ownKeys(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pie_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Pie extends h.F{constructor(){super(...arguments),(0,s.Z)(this,"arcFn",(0,R.arc)())}render(){const e=this.props,{data:t,direction:n="clockwise",getSegmentKey:i,getSegmentProps:a=(0,M.B)({}),getValue:s,height:l=0,innerRadius:c=0,label:d=null,onSegmentMouseEnter:p,onSegmentMouseLeave:g,padding:m=0,scaleX:y,scaleY:f,width:v=0}=e,h=(0,o.Z)(e,V),_=Math.min(v,l),b=_,C=_/2,O=(0,R.pie)().padAngle(m/C).sort(null),S="clockwise"===n?t:t.reverse(),E=O(S.map(s).toArray()),P=E.map(((e,t)=>{const n=S.get(t);if(!n)return null;const r=i?i(n):t,o=this.arcFn(Pie_objectSpread(Pie_objectSpread({},e),{},{innerRadius:c,outerRadius:C}));return o?(0,u.tZ)(Segment,{key:r,d:o,entry:n,getSegmentProps:a}):null})),Z=E.slice();Z[0].startAngle=0,Z[Z.length-1].endAngle=2*Math.PI+.001,Z[Z.length-1].padAngle=0;for(let e=0;e<Z.length-1;e+=1){const t=(Z[e].endAngle+Z[e+1].startAngle)/2;Z[e].padAngle=0,Z[e].endAngle=t,Z[e+1].startAngle=t}const D=Z.map(((e,t)=>{const n=S.get(t);if(!n)return null;const r=i?i(n):t,o=Pie_objectSpread(Pie_objectSpread({},n),{},{type:"overlay"}),s=this.arcFn(Pie_objectSpread(Pie_objectSpread({},e),{},{innerRadius:c,outerRadius:C}));return s?(0,u.tZ)(Segment,{key:r,d:s,entry:o,getSegmentProps:a,onSegmentMouseEnter:p,onSegmentMouseLeave:g}):null}));return(0,u.tZ)("g",(0,r.Z)({},h,{transform:"translate(".concat(_/2," ").concat(b/2,")")}),(0,u.tZ)("circle",{fill:"transparent",r:C}),P,D,d)}}const G=["mask","scaleX","scaleY","x1","x2","y1","y2"];class Rectangle extends h.F{render(){const e=this.props,{mask:t,scaleX:n,scaleY:i,x1:a,x2:s,y1:l,y2:c}=e,d=(0,o.Z)(e,G);if(!n||!i)return null;const p=n(a),g=i(l),m=n(s)-p,y=i(c)-g;return(0,u.tZ)("rect",(0,r.Z)({},d,{height:y,mask:"url(#".concat(t,")"),width:m,x:p,y:g}))}}const K=["baseline","className","cursorPosition","data","dotSize","gap","getX","hoverClassName","offsetIndex","scaleX","scaleY"];class _ReferenceLine extends h.F{render(){const e=this.props,{baseline:t,className:n,cursorPosition:a,data:s,dotSize:l,gap:c,getX:d,hoverClassName:p,offsetIndex:g,scaleX:m,scaleY:y}=e,f=(0,o.Z)(e,K);if(!s.count()||s.count()<2)return null;const v=Math.floor(y(t)),_=d(s.get(0),g),b=d(s.last(),s.count()-1+g),C=m(_),O=m(b),S=(1+c)*((O-C)/(s.count()-1)),E=S-l,P=C%S,Z=(0,h.I)(f);let D=n;return"number"==typeof a&&_<a&&a<=b&&(D=(0,i.cx)(D,p)),(0,u.tZ)("line",(0,r.Z)({},Z,{className:D,strokeDasharray:"".concat(l,", ").concat(E),strokeDashoffset:P,strokeWidth:l,transform:"translate(".concat(-l/2,")"),x1:C,x2:O+l,y1:v,y2:v}))}}(0,s.Z)(_ReferenceLine,"defaultProps",{dotSize:2,gap:0,offsetIndex:0});const Q=(0,N.O)(_ReferenceLine);var X;const DefaultPoint=()=>X||(X=(0,u.tZ)("circle",{r:4}));class ScatterPlot extends h.F{render(){const{data:e,getX:t,getY:n,pointComponent:r=DefaultPoint,scaleX:o,scaleY:i}=this.props;return o&&i?(0,u.tZ)("g",null,e.map(((e,a)=>{const s=o(t(e));let l=n(e);return Number.isFinite(l)?(l=i(l),(0,u.tZ)("g",{key:a,transform:"translate(".concat(s,", ").concat(l,")")},(0,u.tZ)(r,{data:e,index:a}))):null}))):null}}},36210:(e,t,n)=>{"use strict";n.d(t,{G:()=>ChartFill});var r=n(27378),o=n(31965),i=n(71199),a=n(76596),s=n(74633),l=n(10043);function DottedFillPattern(e){let{id:t,points:n,style:o}=e;const{dot_color:i,dot_distance:c,dot_size:u}=o;return(0,l.tZ)(r.Fragment,null,(0,l.tZ)(s.SVGDefs.Item,null,(0,l.tZ)("pattern",{height:2*c,id:t,patternUnits:"userSpaceOnUse",viewBox:"0 0 ".concat(2*c," ").concat(2*c),width:2*c},(0,l.tZ)("circle",{cx:1*c,cy:1*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:1*c,cy:8*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:4*c,cy:4*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:4*c,cy:12*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:8*c,cy:1*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:8*c,cy:8*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:12*c,cy:4*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}),(0,l.tZ)("circle",{cx:12*c,cy:12*c,fill:(0,a.X_)(i),fillOpacity:1,r:u}))),(0,l.tZ)("polygon",{fill:"url(#".concat(t,")"),points:n.join(" ")}))}var c=n(25773);function GradientChartFill(e){let{id:t,points:n,style:i}=e;const{end_color:u,end_color_opacity:d,gradient_style:p,start_color:g,start_color_opacity:m}=i,y=(0,a.X_)(g),f=(0,a.X_)(u),v=(e=>{const{BottomToTop:t,LeftToRight:n,RightToLeft:r,TopToBottom:i}=o.GradientStyle;switch(e){case i:return{x1:"0%",x2:"0%",y1:"0%",y2:"100%"};case t:return{x1:"0%",x2:"0%",y1:"100%",y2:"0%"};case n:return{x1:"0%",x2:"100%",y1:"0%",y2:"0%"};case r:return{x1:"100%",x2:"0%",y1:"0%",y2:"0%"};default:return{x1:"0%",x2:"0%",y1:"0%",y2:"100%"}}})(p);return(0,l.tZ)(r.Fragment,null,(0,l.tZ)(s.SVGDefs.Item,null,(0,l.tZ)("linearGradient",(0,c.Z)({id:t},v),(0,l.tZ)("stop",{offset:"0%",stopColor:y,stopOpacity:m}),(0,l.tZ)("stop",{offset:"100%",stopColor:f,stopOpacity:d}))),(0,l.tZ)("polygon",{fill:"url(#".concat(t,")"),points:n.join(" ")}))}function SolidChartFill(e){let{fill:t,points:n}=e;const r=(0,a.X_)(t.color);return(0,l.tZ)("polygon",{fill:r,fillOpacity:t.opacity,points:n.join(" ")})}class ChartFill extends i.F{render(){const{fill:e,patternId:t,xScaleFunction:n,yScaleFunction:r}=this.props,i=e.points.map((e=>"".concat(n(e.x),",").concat(r(e.y))));switch(e.style.type){case o.ChartFillType.Dotted:return(0,l.tZ)(DottedFillPattern,{id:t,points:i,style:e.style});case o.ChartFillType.Gradient:return(0,l.tZ)(GradientChartFill,{id:t,points:i,style:e.style});case o.ChartFillType.SolidColor:return(0,l.tZ)(SolidChartFill,{fill:e.style,points:i});default:return null}}}},31381:(e,t,n)=>{"use strict";n.d(t,{E:()=>ComplexLineExperimental});var r=n(64649),o=n(53782),i=n(27378),a=n(71199),s=n(10043);const l=["children","className"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ComplexLineExperimental extends a.F{render(){const e=this.props,{children:t,className:n}=e,r=(0,o.Z)(e,l),a=t.filter(i.isValidElement);return(0,s.tZ)("g",{className:n},i.Children.map(a,((e,t)=>i.cloneElement(e,_objectSpread(_objectSpread({},r),{},{isLastSegment:t===a.length-1,key:t})))))}}},26623:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var r=n(25773),o=n(76365),i=n(27378),a=n(76596),s=n(61987),l=n(43943),c=n(33407);function getXAtIndex(e,t){var n,r;return t>=0&&t<e.count()&&null!==(n=null===(r=e.get(t))||void 0===r?void 0:r.x)&&void 0!==n?n:null}var u=n(10043);function GradientColorStop(e){let{gradientColor:t}=e;const n=(0,a.X_)(t.color),r="".concat(100*t.stop,"%");return(0,u.tZ)("stop",{offset:r,stopColor:n})}var d=n(94933);function indexOfNearestDataPoint(e,t){var n,r,o,i;const a=function findBoundsAroundPosition(e,t){var n,r;const o=(0,d.z)(t,e,(e=>e?e.x:-1),!0);return 0===o?null:o===t.count()?(null!==(i=null===(a=t.get(-1))||void 0===a?void 0:a.x)&&void 0!==i?i:o-1)===e?[t.count()-1,t.count()-1]:null:(null!==(n=null===(r=t.get(o))||void 0===r?void 0:r.x)&&void 0!==n?n:o)===e?[o,o]:[o-1,o];var i,a}(e,t);if(!a)return-1;const[s,l]=a;if(s===l)return s;const c=null!==(n=null===(r=t.get(s))||void 0===r?void 0:r.x)&&void 0!==n?n:s,u=null!==(o=null===(i=t.get(l))||void 0===i?void 0:i.x)&&void 0!==o?o:l;return Math.abs(c-e)<Math.abs(u-e)?s:l}const p=(0,c.J)({getBounds:e=>{var t;const{data:n}=e;if(null===(t=n.get(0))||void 0===t||!t.cursor_data)return[null];return[getXAtIndex(n,0),getXAtIndex(n,n.count()-1)]},getName:e=>e.name,getPosition:(e,t)=>{var n;const r=indexOfNearestDataPoint(e,t.data);return null!==(n=t.data.get(r))&&void 0!==n&&n.cursor_data?-1===r?null:getXAtIndex(t.data,r):null},getValue:(e,t)=>{var n,r;const o=indexOfNearestDataPoint(e,t.data);return null!==(n=t.data.get(o))&&void 0!==n&&n.cursor_data?-1===o?null:{d:null===(r=t.data.get(o))||void 0===r?void 0:r.cursor_data}:null}})((0,l.O)((e=>{var t,n;const[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)(null),[g,m]=(0,i.useState)(!1),{cursorPosition:y,data:f,isLastSegment:v,lineStyles:h,name:_,scaleX:b,scaleY:C}=e,{line_type:O}=null==h?void 0:h.default;if(_&&d!==y){var S;const e=indexOfNearestDataPoint(y,f);if(m(null!==(null===(S=f.get(e))||void 0===S?void 0:S.cursor_data)),null===y)p(y),c(null);else if(-1===e)p(y),c(null);else{const t=getXAtIndex(f,e),n=function getYAtIndex(e,t){var n,r;return t>=0&&t<e.count()&&null!==(n=null===(r=e.get(t))||void 0===r?void 0:r.y)&&void 0!==n?n:null}(f,e),r=f.size-1===e&&!v;c(null===t||null===n||r?null:{x:t,y:n}),p(y)}}let E;if(O.type===s.TD.DOTTED){E=function getDashLineProps(e,t,n){if(0!==t&&!t)return null;const r=n(e),o=n(t)%r||0;return{strokeDasharray:"1, ".concat(r-1),strokeDashoffset:o,strokeWidth:1,transform:"translate(".concat(-.5,")")}}(O.dash_gap,getXAtIndex(f,0),b)}const P=(0,o.line)().x((e=>b(e.x))).y((e=>C(e.y)));let Z=h.default.opacity,D=h.default.color,T=h.default.line_type.stroke_width,w=null,I=h.default.gradient_color;if(l){const{x:t,y:n}=l;if(n||0===n){const r=b(t),o=C(n);h.active&&(D=h.active.color,I=h.active.gradient_color,Z=h.active.opacity,T=h.active.line_type.stroke_width),g&&(w=(0,u.tZ)("g",{transform:"translate(".concat(r,", ").concat(o,")")},(t=>{if(e.renderMarker)return e.renderMarker(t);if(e.markerComponent){const{markerComponent:n}=e;return(0,u.tZ)(n,t)}return null})({color:D})))}}else y&&h.inactive&&(Z=h.inactive.opacity,D=h.inactive.color,T=h.inactive.line_type.stroke_width,I=void 0);const k=(0,a.X_)(D);return(0,u.tZ)("g",null,(0,u.tZ)("defs",null,I&&(0,u.tZ)("linearGradient",{gradientTransform:"rotate(".concat(I.angle-90," 0.5 0.5)"),id:"sparklineGradient"},I.colorStops.map(((e,t)=>(0,u.tZ)(GradientColorStop,{key:"stop_".concat(t),gradientColor:e}))))),(0,u.tZ)("path",(0,r.Z)({d:null!==(t=P(f.toArray()))&&void 0!==t?t:void 0,fill:"none",stroke:I?"url(#sparklineGradient)":k,strokeOpacity:Z,strokeWidth:null!==(n=T)&&void 0!==n?n:"2px"},E)),w)})))},71199:(e,t,n)=>{"use strict";n.d(t,{F:()=>Visualization,I:()=>i});var r=n(64649),o=n(27378);const i=(0,n(13165).C)(["getX","getY","scaleX","scaleY"]);class Visualization extends o.PureComponent{}(0,r.Z)(Visualization,"isVisualization",!0)},15620:(e,t,n)=>{"use strict";n.d(t,{I:()=>RHText});var r=n(25773),o=n(53782),i=n(27378),a=n(21675),s=n(10043);const l=["as","children","className","color","isBold"];function RHText(e){let{as:t,children:n,className:c,color:u,isBold:d}=e,p=(0,o.Z)(e,l);const g=function createWrapper(e,t){return n=>{let{children:r}=n,o=e;return!o&&t&&(o="span"),o||(o=i.Fragment),(0,s.tZ)(o,t&&{className:t},r)}}(t,c);return(0,s.tZ)(g,null,(0,s.tZ)(a.Dy.Text,(0,r.Z)({isBold:d},p,{color:u||void 0}),n))}},6435:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r,o,i=n(64649),a=n(12633),s=n(38237);let l=(0,a.OF)((o=class AgreementRecord extends((0,a.cg)((0,s.a)({type:"",version:0},"AgreementRecord"))){},(0,i.Z)(o,"idField","type"),(0,i.Z)(o,"urlPath","/user/agreements/accept/"),r=o))||r},68117:(e,t,n)=>{"use strict";n.d(t,{z:()=>getStateSelectList});const r=JSON.parse('{"AA":"U.S. Armed Forces - AA","AE":"U.S. Armed Forces - AE","AL":"Alabama","AP":"U.S. Armed Forces - AP","AK":"Alaska","AS":"American Samoa","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","DC":"District Of Columbia","FM":"Federated States Of Micronesia","FL":"Florida","GA":"Georgia","GU":"Guam","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MH":"Marshall Islands","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","MP":"Northern Mariana Islands","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PW":"Palau","PA":"Pennsylvania","PR":"Puerto Rico","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VI":"Virgin Islands","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming"}');function getStateSelectList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"US";const t=[];switch(e){case"US":for(const[e,n]of Object.entries(r))t.push({label:n,value:e});return t;default:return t}}},34562:(e,t,n)=>{"use strict";n.d(t,{P:()=>wrapHoC});var r=n(55839),o=n.n(r),i=n(13846);function wrapHoC(e,t){const n=function wrapDisplayName(e,t){return n=>{const r=e(n);return r.displayName="".concat(t,"(").concat((0,i.default)(n),")"),r}}(e,t);return e=>o()(n(e),e)}},75579:e=>{e.exports={field:"_2X_C2V1jKOFk-3x2QNyNW1",isLong:"_3fKRhuu4WQzmSjnPgxQKqy",isLegacyCryptoOrderForm:"_2EgbbFprK2rksS8p_B_WYg",timeInForceDropdownLabel:"_2P2xUGg0JyC-C4gA3ucexl",extendedHoursField:"_10P9YmC_-wxO9gGppqEgfw",checkboxWrapper:"CnuzaYTUBwx2mdvMJ8oCX",marketPriceLabel:"_3G7H3CQkqOKndHWYbxmyAZ",questionMarkIcon:"_3tiptGi1q7iHb6GqP1U2Rd",marketPriceFooterContent:"_2xA2CjQO9y8iUDuYG0MdbC",estimatedPriceRow:"_3bWZiHt8XX1rkUAlbwhykT"}},83631:e=>{e.exports={receipt:"MkUoICFIEFft4cbpDVbs1",formRow:"_3a0qRxrwbqiE2hOa2A15O3",disclosureRow:"_2ob_Goj5rpvSXX4960uPOH",buttonRow:"oFZwgkXYjj-T_-smcYjmF",alert:"_3PKEfhLjqjOww9weAjE0kN"}},66319:e=>{e.exports={instrumentPreviewCell:"_3M7AljDD8LvhnX3nLSzsxK"}},22347:e=>{e.exports={orderPdtAlert:"ZnSI-DzI9n7phgTfQfHvT",message:"_1V7-Dh5NnVhMvYfvbAxhCK"}},54930:e=>{e.exports={root:"_2_dmPaZj4NEDskSalJmSIh",isDisabled:"_1dPmCFK2r2XoEgjYc-Lkki"}},91415:e=>{e.exports={label:"WYLyBu9u-2HH-GXVMscvZ",iconWrapper:"XbqTLUiJyNY7QQF8j53EM",icon:"_2n73ZJQbx9xo3mEGat0tis"}},53428:e=>{e.exports={menuContent:"ERejpO4mc9aTC0eQaCQAa",menuHeading:"_385vy4KwUnR79a4MTq6WSb",menuOption:"_29JroBMZS-eQE8p-dOpwwy",isActive:"DxrtShHXe0z8sDWTZeKJU",menuOptionHeading:"_2G9LLNISE8n_WBrDhxaY4Z",menuList:"_1fMFUatuocYRdrnIWA1eVB"}},27259:e=>{e.exports={popover:"_1myd8omokTAwgbtWwJH520"}},519:e=>{e.exports={inboxAvatar:"N0URYvRt4e748KC5iwTwy",colorCircle:"_1gqSzeh9XzL9vT8cdc93g3",content:"tewgphovWyDViTeEvK6DQ",hasImage:"_1beAo_kVfGb1sB2hoBN5Aa",sm:"_1__xfEohPYbZKqk6lKx5l_",md:"_3fPzqj2Cwt-ejewbIIaeIb",alertIconBounceIn:"_15fic-a3eA6s23g9i5kmH-","bounce-in":"_2P-lihCg7JYfe4oH8zQNYS",bounceIn:"_2P-lihCg7JYfe4oH8zQNYS",alertIcon:"_3IDovfp9KUJ3D48LHr_j1b"}},62066:e=>{e.exports={header:"_1UgEvU6GPrhRM4B-U0UIiL",threadLinkRow:"LX0QTN5QVFrtUD5CCk8x7",inboxThreadUnreadIndicator:"G-4fYKcc0YS2H-6El3bSK",viewAllLink:"_4CsH8GLsYg0ifNbmDcai2"}},16480:e=>{e.exports={inboxThread:"q2ErvetSdm8TwUCBvCSzU",timeAgo:"OcrjMaFEDqldQyVyhHvs2",avatarWrapper:"_3NXKxGjrBsLivK8im185AG",preview:"_1LqrVV9NvbZrDPDtG3ho8k",body:"pE7IxSJ0ABrqBxOxoGWlr",bodyHeader:"_2gSlaGju9BjMy9xK7ZuAhI",title:"_1Yj4XNUbsf8t1wcmCDIFEx",overflowTextWrapper:"_1gI9oF9ezBmuMs9OwbP9eu"}},95067:e=>{e.exports={marginMaintenanceDotsPattern:"_1xo4aJ2I7t0PaMdVsL_Sz3"}},32402:e=>{e.exports={marginMaintenanceCard:"_3vLE3EGLH66PzajaIlaFx3",exclamationIcon:"_1N6HAAgusLwYD0JOS1fWxx",card:"tRTVWfkCLAtpNP2nyNQBU"}},93207:e=>{e.exports={priceGraph:"_4CZfSLNA1DAUW2oJ5kKUU",cursor:"_3nCev90iMp1raS-DeajhQT",marker:"dFS8wDJ5HaH5TmZiO0imY",sparkline:"Fmt4_v7r79-zzZKHVUw3W",crypto:"_2N85i8Y2Z6qkzpti84YTfP",unavailable:"_3ngdf0NigC72HeECkuWEtK",active:"_1iALBLlm7naX_m-7ClimsI",overnight:"_2nNrhW583d73ydXZKGS2Kq",referenceLine:"pVHaWh7u4S4o0nPSF9hcm",marginMaintenance:"FcIO1LRExA7yOSokl2ZrX",segmented:"_1dqMekVUG1l4e_T7mmco_x",small:"_2h6-f_DBuaVjcGjYHUx8xL",hovered:"_1QnGhbdJBgBpaHBFb_lzBe",isUnavailable:"_1uqNatdVQWYjXc-jtF7gRO",markerBackground:"_1jLqoYiXAfKg-zsH6Js_Wz",isUnselectedActive:"_2LzRJwtM5h-8Oif-Ttd6Cb",isUnselectedInactive:"_25XwfKuf9xsxPJ2t4PK6nJ",cryptoShadowChart:"_1xzFvo9JsbRJPDGm8qxBSc"}},79881:e=>{e.exports={loadingBar:"_35OgEDruUZrNR2JXms7dP_",block:"_3MHwTs8FJpRsKyckf1TGNa",unstarted:"K1vLbgeG1VrbB2Xz3naGm",loading:"_1mlm7jywVvKx9pqjWOCEsp",finishing:"m-fVPjqub8yOag-fPsRbb"}},28446:e=>{e.exports={popover:"_1VcQjMUOtwE9AlkCX78ydl",body:"p0uXYl7QDfuoctdZ8rMoQ",valueRow:"_3sKQYKNvnUzVKIi66Cmq6v",labeledField:"_1E0FDHfqmLZUPuNcVA-iU-",portfolioValueCol:"_1Ygu8sFI6uYLkhJCxEyIft",buyingPowerCol:"_3_Y5JNCo5EpBXyAn-rD70b",links:"TYzHdzozaHzcQEThDbwyw",link:"suKkMvbER-YrsgdZaaDnX",logout:"_1wazUOyJMobcyk82nCL6Cp",goldLink:"_3viPLbK-YB3A7quNJARLuF",primaryLink:"_1VwqF1RjYbrLfVZQrep04r"}},48055:e=>{e.exports={inboxPopoverLink:"sCIGrKj5rmVa8lt4-xrfq",popover:"_1DwU-2Xsuz0_rJC4a-J1d3",criticalBadge:"_6Fq29vb2o3Pxra9dYOO7z",unreadBadge:"_3UgU1WiPsOnJhJeha2bJ2K",unreadBadgePosition:"rEeSdasCJtUgeVq-uz-OV",unreadBadgePositionExplorations:"g8cKPEV64dkomFar8glfV"}},76025:e=>{e.exports={accountNav:"_3VgtNTJk4xjbgN0dDvs4U9",accountNavDesktopWebExplorations:"U79fLpsrdANXagYN5Ftwt",fitNavPopoverWithinScreenHeight:"_2ndeGEfWq9tcgA0_-Ccnzx",notificationsPopover:"_3OkJztmQNXxddd3zhB8Qi3",notificationsPopoverBody:"_3FrsD3Es-Yx2CnfttppKR3",empty:"_2OBapL_39-uT45myzE2pSo",scrollable:"_1pwCTgxOZqt3QV_24x3MLg",viewHistory:"_3kYIK5ofcZmpF6rHLLPjb1",activitySummaryLink:"p3nGdL7JFQnJkO3FuB_-h"}},72138:e=>{e.exports={siteHeader:"T9gTCbj8QpnHiOG_nWy17",includeSeparator:"_3q137jvxXwYB6zWlcPyguq",isTransparent:"_3lFEEGMC9zHwGmJlvbKj3u",isTransitioningTransparency:"_3k-ri0LMoLwdzPIdwk6mVV",content:"_2SdY2E75FydIwCIC0kSq9R",default:"_3XS5jnaD4gMRVbyvL-h0uy",homeLink:"_2KoqppUY6tyUQmWB_A4juA",fullWindow:"_2qLn4tgeQ9dmpzdwVnk1Tr",searchWrapper:"_1zE1DEKKkb_B8-dvy2eaio",accountNavWrapper:"_1YmqhIYeWSjFqOhZS2khTY"}},81319:e=>{e.exports={takeover:"_1aN7X-eyr3HCREk7IWv1Tp",visible:"_5ftPmn0dpHQqLPsGHQorf",content:"_2hgz829weZV7pQQRS0iu59",closeWrapper:"_3GgNQzE3XM0la18woIEXQk",close:"_2mm5e90cosbRyP-0GfpGgY",closeIcon:"_2c57zw05BYMqz97cJ8ev92"}},28772:e=>{e.exports={article:"_1QUCYF8q6zN4o2c7eA06tK",isHoverable:"_17JoZPHVFgLvOIVsjJE4eZ",clickTarget:"_1DJXBq898jSKhCskAHsJ2i",header:"_15SxtozGiCm3P3VzJOPIiM",heroWithIcon:"_28fOkRtT-W8OlLSJXpGfzK",source:"_1fshCErpE1-0MuTzZ8-Lxk",content:"_3oXzJqTB6Qaj6kKe4TKWpB",titleFooterLockup:"ZnSxU943OzBrW5CpR7ZW6",titlePreviewTextLockup:"_2PPQQy0F7vqTbbVCvVX9D4",title:"_35ylhEu7T7diS0CfJOJOum",previewText:"_3ieXFf0bOq5Liqu3uQGDYA",imageWrapper:"_2CneEhdrSfwZ5Tm3tz_iRk",imageHeroFullWrapper:"_3wmxY3sEhnDThWlu0W0zv1"}},98673:e=>{e.exports={feedElementRow:"_2VC18WHALvB0x5hb1MHP4T",feedElementRowNoBorder:"_3LO_eTprZUBJQAMU7fKDEo"}},35490:e=>{e.exports={relatedInstrument:"_1gBtBQtvsWdRauRnT3v6IL",wrapper:"qi_2-kaDXlShzOqn3b3XO",textS:"_2RZtnZL5sXG40ChR6wu4V6",textM:"_24tP-gJZ9lqtn5qY1402Xl",price:"_1KmJGFuYDF6wvGNG0Nz2Xi"}},34858:e=>{e.exports={relatedInstruments:"jnnUIyKoQs1efiOunXDun",relatedInstrument:"_1uAQkApBef4ZZg5HkWSeIY"}},21371:e=>{e.exports={viewMore:"_1QUBI4wmoM1pZa364q1mJo","expand-news-view-more":"_1vc_sd6muurRWViJ5zdIx5",expandNewsViewMore:"_1vc_sd6muurRWViJ5zdIx5",viewMorePill:"_2pnKGelyM2asTHcDEhqaVi"}},89882:e=>{e.exports={chart:"_1VlpOyU7eFrHaqBGCEYhGx",groupByIsVisualization:"gvXMfwEteIeGMCjFhJNqK"}},1323:(e,t,n)=>{e.exports=n.p+"6c75565af096bab6e73676f32335870b.svg"},93514:(e,t,n)=>{e.exports=n.p+"26eb5af126061afd069907c95b501e6f.svg"},21697:(e,t,n)=>{e.exports=n.p+"1a6b139af61d280ea465fbfcd2b55577.svg"},33996:(e,t,n)=>{e.exports=n.p+"dfd4483e4b299b15c4701bc9eb51fc01.svg"},96268:(e,t,n)=>{e.exports=n.p+"a28eb25b11f8a3c77206dabc7a263613.svg"},70855:(e,t,n)=>{e.exports=n.p+"bc7e59d2d2b4e4187c42c4610916af14.svg"},43972:(e,t,n)=>{e.exports=n.p+"d69b57eb74b10933b77effe9b24948c2.svg"},55368:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiB3aWR0aD0iNzA4IiBoZWlnaHQ9IjIyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBvcGFjaXR5PSIuNCIgZD0iTTU3LjU4NiA2MC45MTRsLTU3IDU3QTIgMiAwIDAwMCAxMTkuMzI4VjIxOS41YTIgMiAwIDAwMiAyaDcwNGEyIDIgMCAwMDItMlYxMTguMzI4YTIgMiAwIDAwLS41ODYtMS40MTRsLTU3LTU3YTIgMiAwIDAwLTIuODI4IDBsLTU2LjE3MiA1Ni4xNzJhMiAyIDAgMDEtMi44MjggMEw0NzMuOTE0IDEuNDE0YTIgMiAwIDAwLTIuODI4IDBMMjk2LjQxNCAxNzYuMDg2YTIgMiAwIDAxLTIuODI4IDBsLTU2LjE3Mi01Ni4xNzJhMiAyIDAgMDAtMi44MjggMGwtNTYuMTcyIDU2LjE3MmEyIDIgMCAwMS0yLjgyOCAwTDYwLjQxNCA2MC45MTRhMiAyIDAgMDAtMi44MjggMHoiIGZpbGw9IiNFM0U5RUQiLz48L3N2Zz4="},94714:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiA4QTggOCAwIDExMCA4YTggOCAwIDAxMTYgMHptLTIuOTk1LTIuMTk0bC0xLjIxMi0xLjIxMi00Ljk5NCA0Ljk5NC0yLjE5NC0yLjE5NC0xLjIxMiAxLjIxMiAzLjQwNiAzLjQwNiA2LjIwNi02LjIwNnoiIGZpbGw9IiMwMDAiLz48L3N2Zz4="},2538:(e,t,n)=>{e.exports=n.p+"bbe5b3bf9a5e317ab27157ebdbeedc66.svg"}}]);